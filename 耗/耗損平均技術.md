'''耗損平均技術'''（{{lang-en|Wear Leveling}}）是[[快閃記憶體|快閃記憶體]]（NAND flash）上的一種抹平技術。快閃記憶體的區塊有抺寫次數的限制，針對同一個單一區塊，進行重複抺除、寫入，將會造成讀取速度變慢，甚至損壞而無法使用。耗損平均技術目的在於平均使用快閃記憶體中的每個儲存區塊，以避免某些“特定”儲存區塊因過度使用而形成壞區塊。

磨损均衡算法通过将写入分配到闪存介质上的多个扇区，控制闪存介质扇区的不均匀“磨损”。磨损均衡算法集成在闪存盘控制器的韌體内，通过建立闪存介质的逻辑扇区和物理扇区之间的文件分区表，使文件系统一目了然。原则上，磨损均衡算法能使闪存介质上的所有扇区几乎同时达到其耐久限制，从而延长闪存介质的使用寿命。通过使用老化机制，可警告用户何时达到耐久限制，从而提前进行内容备份，防止数据丢失。

耗損平均技術的性能及壽命依賴演算法及控制器的優劣，性能常會在經常多次寫入及剩餘容量很少時下降，有時可以藉由犧牲壽命來增加性能、或以掉速為代價來確保可靠度。

==动态磨损均衡==
动态磨损均衡是一种算法，控制器用备用区块列表中的块替换旧的块。当主机准备改写某个块时，备用区块列表中的第一个块将被用于替换该块，该块将被擦除并放入备用区块列表。虽然动态磨损均衡比磨损均衡更先进，但是其对耐久性的提高有限。区块和页的更新与回收只发生在空前或者被经常更新的数据占用的块上。如果主机持续对某个块写入数据，将频繁使用备用区块，不使用其它数据块。如果所有备用区块比其它块更早磨损，将会出现最差的情况。

==高级磨损均衡==
高级磨损均衡用于防止不断更新的数据停滞在静态区域，从而实现磨损均衡在所有区块的均匀应用。静态区域包含所有不发生变化的数据以及被动态磨损均衡忽略的数据。静态数据包括操作系统文件、查找表、运行文件等。高级磨损均衡经常用热区（hot area）内的块替换该区的块，因此所有区域的每一个块都拥有相同的可用性。

==全区磨损均衡==
全区磨损均衡用于防止不断更新的数据停滞在被动态磨损均衡忽略的静态区（数据不常更新），从而实现磨损均衡在所有区块的均匀应用。静态数据包括操作系统文件、查找表、运行文件等。全区磨损均衡将程序/擦除计数均匀分布在所有区块上，用户可设定执行全区磨损均衡的时间，即磨损均衡频率。每擦除一个块，闪存控制器便增加一个磨损均衡计数。如果计数器达到指定的磨损均衡频率，控制器将开始检查显示的块擦除计数是否小于平均擦除计数，以执行块交换。如果小于平均擦除计数，说明该块不经常使用，可与备用块列表中的块进行交换，因为备用块的使用频率更高。如果检查的块的擦除计数高于平均值，控制器将接着检查下一个块，直到找到另一个不经常使用的块。这样，所有区域内的每一个块将拥有相同的擦除计数。

==优点==
*延长闪存介质的使用寿命
*用户一目了然
*达到耐久性限制时可预警
*用户可提前备份内容，防止数据丢失不需要额外的软件

==外部連結==
*[https://web.archive.org/web/20070202230957/http://www.bitmicro.com/press_resources_flash_ssd.php Flash SSD wear-leveling and error-correction description by BiTMICRO.]

{{Template:Solid-state Drive}}

[[category:快閃記憶體檔案系統|W]]
[[Category:記憶體管理|Category:記憶體管理]]