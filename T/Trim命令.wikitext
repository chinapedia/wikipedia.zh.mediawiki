{{NoteTA
|G1=IT
}}{{about|计算机命令|Trim的其他意思|特里姆}}
{{校对翻译}}
'''Trim命令'''（[[ATAPI|ATA命令集]]中称为'''TRIM'''，{{tsl|en|SCSI command|SCSI命令集}}中称为'''UNMAP'''），它使[[操作系统|操作系统]]能通知[[固态硬盘|固态硬盘]]（SSD）哪些数据块已不再考虑使用，可以被内部擦除。<ref name="Intel Knowledgebase">{{Cite web|url=http://www.intel.com/content/www/us/en/support/solid-state-drives/000016148.html?wapkw=trim|title=Intel High Performance Solid State Drive - Advantages of TRIM|accessdate=2012-02-21|date=2010-09-14|publisher=[[Intel|Intel]]|website=Intel.com|archive-date=2016-03-06|archive-url=https://web.archive.org/web/20160306122018/http://www.intel.com/content/www/us/en/support/solid-state-drives/000016148.html?wapkw=trim|dead-url=no}}</ref>

Trim命令几乎是与SSD同时推出的。这是因为SSD的底层操作方式与传统机械硬盘有着显著不同，若操作系统沿用传统方法处理诸如删除和格式化等操作，会导致SSD的写入性能发生下降。<ref name="SSD_Anthology_4">{{Cite web|url=http://www.anandtech.com/show/2738|title=The SSD Anthology|accessdate=2010-06-19|author=Shimpi, Anand Lal|date=2009-03-18|website=AnandTech.com|page=4|archive-date=2012-06-30|archive-url=https://www.webcitation.org/68ojwJEtT?url=http://www.anandtech.com/show/2738|dead-url=no}}</ref>Trim（意为修整、修剪、裁剪）使SSD能更有效地完成[[写入放大|垃圾收集]]的工作，而不用牺牲对存储块的写入速度。<ref name="SSD_Anthology_10">Shimpi, Anand Lal. (2009-03-18). p. 10.</ref>

尽管在引入Trim命令前，有些工具（比如“Reset”命令）已经可以将驱动器“重置”为空状态，但这些操作会删除驱动器上的所有数据，因而无法用于持续性优化。<ref name="SSD_Anthology_11">Shimpi, Anand Lal. (2009-03-18). p. 11.</ref>许多SSD拥有厂商自己的后台垃圾收集机制，这些工具和Trim命令互相独立，使不支持Trim命令的操作系统能完成与之类似的工作，却依然存在[[写入放大|写入放大]]的现象，往往也会导致存储块寿命过早地衰减。<ref>{{Cite web|url=http://www.anandtech.com/show/4010/kingston-ssdnow-v-plus-100-review|title=Kingston SSDNow V Plus 100 Review|accessdate=2010-12-10|date=2010-11-11|publisher=Anand Lal Shimpi|website=AnandTech.com|archive-date=2010-12-13|archive-url=https://web.archive.org/web/20101213003923/http://www.anandtech.com/show/4010/kingston-ssdnow-v-plus-100-review|dead-url=no}}</ref>

== 快閃記憶體磁碟機特有的問題 ==
因为许多[[文件系统|文件系统]]以标记数据块为“未使用”来处理删除操作，<ref name="WindowsITPro">{{Cite web|url=http://www.windowsitpro.com/article/john-savills-windows-faqs/q-i-heard-solid-state-disks-ssds-suffer-from-a-decline-in-write-performance-as-they-re-used-why-.aspx|title=I heard solid-state disks (SSDs) suffer from a decline in write performance as they're used. Why?|accessdate=2010-06-19|author=Savill, John|date=2009-04-21|publisher=WindowsITPro|deadurl=yes|archiveurl=https://www.webcitation.org/68ojwt3Bp?url=http://www.windowsitpro.com/article/john-savills-windows-faqs/q-i-heard-solid-state-disks-ssds-suffer-from-a-decline-in-write-performance-as-they-re-used-why-|archivedate=2012-06-30}}</ref><ref name="SSD_Anthology_7">Shimpi, Anand Lal. (2009-03-18). p. 7.</ref>而非真正“清空”数据，因此存储介质（传统硬盘、SSD）通常不知道哪个扇区/页是正在使用，哪些可被认作空闲空间，这与重写（rewrite）操作不同，删除操作不涉及对数据所在扇区/页的物理写入。SSD等存储介质通常不负责管理文件系统（例如未使用的数据块/扇区表），也无法获知哪些数据块/扇区已经可用。这使{{tsl|en|Undelete|反删除}}工具能通过更底层的方法，从传统的机械[[硬盘|硬盘]]上恢复文件，<ref name="WindowsITPro_Trim">{{Cite web|url=http://www.windowsitpro.com/article/file-systems/q-what-is-the-trim-function-for-solid-state-disks-ssds-and-why-is-it-important-.aspx|title=What is the TRIM function for solid-state disks (SSDs) and why is it important?|accessdate=2010-06-19|author=Savill, John|date=2009-04-22|publisher=WindowsITPro|archive-date=2013-02-09|archive-url=https://archive.is/20130209233800/http://www.windowsitpro.com/article/file-systems/q-what-is-the-trim-function-for-solid-state-disks-ssds-and-why-is-it-important-.aspx|dead-url=yes}}</ref>因为尽管操作系统报告用户文件已被“删除”，并腾出了存储空间。但在存储介质上，文件所在的扇区只有在下一次写入时，旧数据才会被覆盖，从存储介质的角度看，“删除”操作更接近于“重写”。对于机械磁盘来说，这与写入空扇区没有区别，但因为SSD最底层的一些特性，与将数据写入空页相比，重写会有显著的开销，从而潜在地削弱写入性能。<ref name="PC Per Malventano">{{cite web|url=http://www.pcper.com/reviews/Storage/Long-term-performance-analysis-Intel-Mainstream-SSDs/Intel-Option-1-Write-Big|title=Long-term performance analysis of Intel Mainstream SSDs|accessdate=10 February 2012|date=13 February 2009|last=Malventano|first=Allyn|work=PC Perspective|archive-url=https://web.archive.org/web/20120228231800/http://www.pcper.com/reviews/Storage/Long-term-performance-analysis-Intel-Mainstream-SSDs/Intel-Option-1-Write-Big|archive-date=2012-02-28|dead-url=yes}}</ref>

SSD在闪存单元中通常以4-16[[千字节|kB]]为一组来存储数据（称之为页），每128-512kB的页组合成更大的一组（称之为块或数据块）。举例来说，某一品牌的SSD将4kB的数据组合成一页，其数据块大小是512kB，每一数据块包含128个页。[[闪存|NAND闪存]]单元只能在处于空状态时写入。如果它们包含数据，则执行写操作前必须擦除其内容。SSD一次写入最少一页，但由于硬件限制，擦除数据时将会抹除整个数据块；<ref name="SSD_Anthology_5">Shimpi, Anand Lal. (2009-03-18). p. 5.</ref>因此将数据写入到SSD上的空页时非常快，而写入已有数据的页就会明显变慢。这是因为页被再次写入前需要擦除数据，但SSD只能擦除一整个数据块，随后把数据块中的其他数据以改写的方式（按“读取、擦除、修改、写入”的方式）完成；<ref name="SSD_Anthology_8">Shimpi, Anand Lal. (2009-03-18). p. 8.</ref>整个块的内容会先存储在缓存中，然后在SSD中擦除整个块，再将改写的页写入到缓存的块，最后再将更新的块写入闪存介质。这种现象也称[[写入放大|写入放大]]。<ref>{{cite web|url=http://www.extremetech.com/article2/0,2845,2329594,00.asp|title=Write Amplification: Intel's Secret Sauce|accessdate=2010-11-06|publisher=ExtremeTech.com|deadurl=yes|archiveurl=https://web.archive.org/web/20101115074120/http://www.extremetech.com/article2/0%2C2845%2C2329594%2C00.asp|archivedate=2010-11-15}}</ref><ref>{{cite web|url=http://www.tomshardware.com/reviews/Intel-x25-m-SSD,2012-5.html|title=Inside the X25-M Controller: Wear Leveling, Write Amplification Control|accessdate=2010-11-06|date=2008-09-08|publisher=TomsHardware.com}}</ref>

== 操作 ==
TRIM命令使SSD可以从操作系统处得知哪一部分数据将永远不会被访问。对于删除操作，操作系统会将整个数据块标记为可用于新数据，然后向SSD发送TRIM命令。SSD完成这一操作后，在新的数据写入这一页时，SSD将刷新整个块的数据，而不保留块中其他页原本的内容，从而缓解写入放大现象（写入次数更少），并提供更高的写入吞吐量（不需要执行读取、擦除、修改），还能显著延长驱动器寿命。

不同的SSD实现的方式有所不同，因此性能可能也有所差异。

TRIM命令通知SSD从LBA(Logical Block Addressing)区域上标记为无效，从逻辑层上对该区域进行读取将不会返回有效数据。从物理层面看，数据仍可能短时间驻留在闪存内部，SSD彻底完成垃圾回收的工作之后，恢复数据几乎是不可能的；<ref>{{Cite web|url=http://techgage.com/article/too_trim_when_ssd_data_recovery_is_impossible|title=Too TRIM? When SSD Data Recovery is Impossible|accessdate=2010-04-16|date=2010-03-05|work=TechGage|publisher=TechGage|archive-date=2012-06-30|archive-url=https://www.webcitation.org/68ojxgVUI?url=http://techgage.com/article/too_trim_when_ssd_data_recovery_is_impossible|dead-url=no}}</ref>这不同于机械硬盘中被删除的数据可能被[[数据恢复|数据恢复]]。

== 实现 ==

=== 操作系统支持 ===
Trim仅在支持它的操作系统上有效。下表列出了各个重要的操作系统支持该命令的首个版本。此外，在TRIM命令添加到ATA标准之前设计的旧款固态驱动器需要更新固件（如果有）才能支持Trim，否则将忽略这个新命令。
{| class="wikitable sortable"
|-
! 操作系统
! 支持始自
! 备注
|-
| [[DragonFly_BSD|DragonFly BSD]]
| <span style="display:none">2011-05</span>2011年5月<ref>{{Cite web|title=Preliminary TRIM support|url=http://leaf.dragonflybsd.org/mailarchive/kernel/2011-05/msg00002.html|accessdate=2017-03-16|archive-date=2020-07-06|archive-url=https://web.archive.org/web/20200706110727/https://leaf.dragonflybsd.org/mailarchive/kernel/2011-05/msg00002.html|dead-url=no}}</ref>
|
|-
| [[FreeBSD|FreeBSD]]
| <span style="display:none">2010-07</span>8.1 - 2010年7月<ref>{{Cite web |title=FreeBSD 8.1-RELEASE Release Notes: Disks and Storage |url=http://www.freebsd.org/releases/8.1R/relnotes-detailed.html#DISKS |accessdate=2010-09-01 |archive-date=2010-07-27 |archive-url=https://web.archive.org/web/20100727172417/http://www.freebsd.org/releases/8.1R/relnotes-detailed.html#DISKS |dead-url=no }}</ref>
| 在8.1中的块设备层中添加了支持。文件系统支持在FreeBSD 8.3和FreeBSD 9中添加，随[[Unix文件系统|Unix文件系统]]（UFS）而来。<ref>{{Cite web|title=Add kernel side support for BIO_DELETE/TRIM on UFS |url=http://www.freebsd.org/cgi/cvsweb.cgi/src/sys/ufs/ffs/ffs_alloc.c#rev1.153.2.4 |accessdate=2011-02-01}}</ref>[[ZFS|ZFS]]Trim支持在FreeBSD 9.2中添加。<ref>{{Cite web|title=Added ZFS TRIM support which is enabled by default.|url=http://svnweb.freebsd.org/base?view=revision&revision=251419|accessdate=2013-06-05|archive-date=2018-02-17|archive-url=https://web.archive.org/web/20180217231954/https://svnweb.freebsd.org/base?view=revision&revision=251419|dead-url=no}}</ref><ref>{{Cite web |title=FreeBSD 9.2-RELEASE Announcement |url=http://www.freebsd.org/releases/9.2R/announce.html |accessdate=2013-10-04 |archive-date=2013-10-03 |archive-url=https://web.archive.org/web/20131003152229/http://www.freebsd.org/releases/9.2R/announce.html |dead-url=no }}</ref>FreeBSD 10支持在软件[[RAID|RAID]]上配置Trim。<ref>{{Cite web |title=Base revision 242323 – Add basic BIO_DELETE support to GEOM RAID class for all RAID levels |url=http://svnweb.freebsd.org/base?view=revision&revision=242323 |accessdate=2012-10-30 |archive-date=2013-05-20 |archive-url=https://web.archive.org/web/20130520183030/http://svnweb.freebsd.org/base?view=revision&revision=242323 |dead-url=no }}</ref>
|-
| [[NetBSD|NetBSD]]
| <span style="display:none">2012-10</span>2012年10月<ref>{{Cite web|title=TRIM support in NetBSD|url=http://mail-index.netbsd.org/source-changes/2012/10/19/msg038047.html|date=2012-10-19|accessdate=2017-03-16|archive-date=2016-03-05|archive-url=https://web.archive.org/web/20160305202822/http://mail-index.netbsd.org/source-changes/2012/10/19/msg038047.html|dead-url=no}}</ref>
|
|-
| [[Linux内核|Linux]]
| <span style="display:none">2008-12-25</span>2.6.28–2008年12月25日<ref>{{Cite web|title=Block device changes in Linux 2.6.28|url=http://kernelnewbies.org/Linux_2_6_28#head-a1a9591f48fe0cf8fde1f0d1f637c7ae54ad0bfa|accessdate=2017-03-16|archive-date=2018-06-12|archive-url=https://web.archive.org/web/20180612235311/https://kernelnewbies.org/Linux_2_6_28#head-a1a9591f48fe0cf8fde1f0d1f637c7ae54ad0bfa|dead-url=no}}</ref>
| 最初在2.6.28中添加了对FTL [[闪存|NAND闪存]]设备的discard（丢弃）操作符的支持。对ATA TRIM命令的支持在2.6.33中添加。<ref>{{Cite web|title=Storage changes in Linux 2.6.33|url=http://kernelnewbies.org/Linux_2_6_33#head-b9b8a40358aaef60a61fcf12e9055900709a1cfb|publisher=Kernel Newbies|accessdate=2010-09-01|archive-date=2012-06-30|archive-url=https://www.webcitation.org/68ok0wDgp?url=http://kernelnewbies.org/Linux_2_6_33#head-b9b8a40358aaef60a61fcf12e9055900709a1cfb|dead-url=no}}</ref>

并非所有文件系统都能使用trim。可以自动发出修剪请求的文件系统有[[Ext4|Ext4]]<ref>{{cite web|url=https://sites.google.com/site/lightrush/random-1/howtoconfigureext4toenabletrimforssdsonubuntu|title=HOWTO: Configure Ext4 to Enable TRIM Support for SSDs on Ubuntu and Other Distributions - Forked by Nicolay|publisher=|accessdate=2017-03-16|archive-date=2016-12-25|archive-url=https://web.archive.org/web/20161225221714/https://sites.google.com/site/lightrush/random-1/howtoconfigureext4toenabletrimforssdsonubuntu|dead-url=no}}</ref>、[[Btrfs|Btrfs]]<ref>{{cite web|title=Btrfs improvements in Linux 2.6.32|url=http://kernelnewbies.org/Linux_2_6_32#head-935c2274be57c1585f23d91d185888ed0b6e0567|accessdate=2017-03-16|archive-date=2012-09-16|archive-url=https://www.webcitation.org/6AibdUrKn?url=http://kernelnewbies.org/Linux_2_6_32#head-935c2274be57c1585f23d91d185888ed0b6e0567|dead-url=no}}</ref>、[[FAT|FAT]]、{{tsl|en|GFS2}}、[[日志文件系统|JFS]]<ref>{{Cite web|title=JFS Filesystem can now handle trim|url=https://www.phoronix.com/scan.php?page=news_item&px=MTE5ODY|accessdate=2012-03-28|archive-date=2012-10-04|archive-url=https://web.archive.org/web/20121004225328/http://www.phoronix.com/scan.php?page=news_item&px=MTE5ODY|dead-url=no}}</ref>和[[XFS|XFS]]。<ref name="Filesystem changes in Linux 3.0">{{cite web|title=Filesystem changes in Linux 3.0|url=http://kernelnewbies.org/Linux_3.0#head-eb4b5e96be08871f5ff27647cee06b49bca3c8ad|accessdate=2017-03-16|archive-date=2016-03-30|archive-url=https://web.archive.org/web/20160330104413/http://kernelnewbies.org/Linux_3.0#head-eb4b5e96be08871f5ff27647cee06b49bca3c8ad|dead-url=no}}</ref>但是由于性能问题，在受支持SSD上进行定期修剪默认情况下已被禁用<ref>{{cite web |url=http://opensuse.14.n6.nabble.com/SSD-detection-when-creating-first-time-fstab-td3313048.html |title=OpenSUSE forum - SSD detection when creating first time fstab |first=Greg |last=Freemyer |date=2010 |accessdate=2017-03-16 |archive-date=2013-01-27 |archive-url=https://web.archive.org/web/20130127160309/http://opensuse.14.n6.nabble.com/SSD-detection-when-creating-first-time-fstab-td3313048.html |dead-url=yes }}</ref>。<ref>{{cite web|title=How to enable TRIM?|url=http://askubuntu.com/questions/18903/how-to-enable-trim/19480#19480|website=Ask Ubuntu|accessdate=11 November 2015|archive-date=2017-03-22|archive-url=https://web.archive.org/web/20170322074457/http://askubuntu.com/questions/18903/how-to-enable-trim/19480#19480|dead-url=no}}</ref>[[Ext3|Ext3]]、{{tsl|en|NILFS2}}和{{tsl|en|OCFS2}}提供[[Ioctl|Ioctl]]来执行离线修剪。TRIM规范称支持修剪特定范围列表，但截至内核3.0，修剪仅能较慢地逐个调用单个范围。<ref>{{cite web|url=http://en.opensuse.org/SDB:SSD_discard_%28trim%29_support|title=SDB:SSD discard (trim) support|publisher=|accessdate=2017-03-16|archive-date=2012-11-14|archive-url=https://web.archive.org/web/20121114122717/http://en.opensuse.org/SDB:SSD_discard_%28trim%29_support|dead-url=no}}</ref>
|-
| [[MacOS|MacOS]]
| <span style="display:none">2011-06-23</span>10.6.8–2011年6月23日<ref>{{Cite web|title=Mac OS X 10.6.8 Brings TRIM Support for Apple SSDs, Graphics Improvements|url=http://www.macrumors.com/2011/06/27/mac-os-x-10-6-8-brings-trim-support-for-apple-ssds-graphics-improvements/|date=2012-02-24|accessdate=2017-03-16|archive-date=2017-03-18|archive-url=https://web.archive.org/web/20170318002223/https://www.macrumors.com/2011/06/27/mac-os-x-10-6-8-brings-trim-support-for-apple-ssds-graphics-improvements/|dead-url=no}}</ref>
| 尽管[[AHCI|AHCI]]块设备驱动程序在10.6.6 (10J3210)中得到了显示设备是否支持TRIM操作的功能<ref>{{Cite web|title=Macbook Pros ship with active SSD TRIM support|url=http://www.appleinsider.com/articles/11/03/04/apples_macbook_pros_ship_with_active_ssd_trim_support_in_snow_leopard.html|date=2011-03-04|accessdate=2017-03-16|archive-date=2012-06-30|archive-url=https://www.webcitation.org/68ok3MsWz?url=http://www.appleinsider.com/articles/11/03/04/apples_macbook_pros_ship_with_active_ssd_trim_support_in_snow_leopard.html|dead-url=no}}</ref>，该功能本身仍不可用，直至10.6.8暴露通过IOStorageFamily执行TRIM操作，以及文件系统（HFS+）的支持。{{citation needed|reason=This can easily be verified by inspecting the source code of the IOStorageFamily and xnu projects, but I'm not sure whether this counts as a real source.|date=April 2012}}直到10.10.4，Mac OS X只为苹果品牌的SSD原生启用TRIM；第三方实用程序可使其适用于其他品牌。旧的第三方TRIM驱动程序在Yosemite更新时已停止工作。<ref>{{Cite web|title=Yosemite kills third-party SSD support|url=http://www.zdnet.com/yosemite-kills-third-party-ssd-support-7000035765/|accessdate=2017-03-16|archive-date=2014-12-02|archive-url=https://web.archive.org/web/20141202120106/http://www.zdnet.com/yosemite-kills-third-party-ssd-support-7000035765/|dead-url=no}}</ref> 现已有更新的适用于OS X Yosemite的驱动程序。<ref>{{Cite web|title=Chameleon SSD Optimizer|url=http://chameleon.alessandroboschini.com|accessdate=2020-09-27|archive-date=2014-12-02|archive-url=https://web.archive.org/web/20141202101451/http://chameleon.alessandroboschini.com/|dead-url=no}}</ref><ref>{{Cite web|title=Cindori Software|url=http://www.cindori.org/?s=Trim+enabler|accessdate=2017-03-16|archive-date=2016-03-06|archive-url=https://web.archive.org/web/20160306072206/https://www.cindori.org/?s=Trim+enabler|dead-url=no}}</ref> 在Mac OS X[https://support.apple.com/en-us/HT204928 更新10.10.4]{{Wayback|url=https://support.apple.com/en-us/HT204928 |date=20170626003230 }}中，苹果公司添加了一个命令行使用工具trimforce，它可以用于为第三方SSD启用TRIM。<ref>{{cite web|author1=Lee Hutchinson|title=Latest OS X update allows you to enable TRIM for third-party SSDs|url=http://arstechnica.com/apple/2015/06/latest-os-x-update-allows-you-to-enable-trim-for-third-party-ssds/|website=Ars Technica|publisher=Condé Nast|accessdate=2015-07-01|date=Jun 30, 2015<!-- 11:36am PDT-->|archive-date=2015-07-01|archive-url=https://web.archive.org/web/20150701131939/http://arstechnica.com/apple/2015/06/latest-os-x-update-allows-you-to-enable-trim-for-third-party-ssds/|dead-url=no}}</ref>
|-
| [[Microsoft_Windows|Microsoft Windows]]
| <span style="display:none">2009-10</span>Windows 7和Windows Server 2008 R2 - 2009年10月<ref>{{Cite web |url=http://blogs.msdn.com/e7/archive/2009/05/05/support-and-q-a-for-solid-state-drives-and.aspx |title=Support and Q&A for Solid-State Drives |date=2009-05-09 |publisher=[[微软开发者网络|微软开发者网络]] |accessdate=2010-08-12 |archive-date=2012-06-30 |archive-url=https://www.webcitation.org/68ojzSxJG?url=http://blogs.msdn.com/b/e7/archive/2009/05/05/support-and-q-a-for-solid-state-drives-and.aspx |dead-url=no }}</ref><ref>{{Cite web |title=Windows 7 Enhancements for Solid-State Drives |url=http://download.microsoft.com/download/F/A/7/FA70E919-8F82-4C4E-8D02-97DB3CF79AD5/COR-T558_Shu_Taiwan.pdf |date=2008-11-12 |work=Microsoft downloads |publisher=Microsoft Corporation |accessdate=2009-07-08 |archive-date=2012-06-30 |archive-url=https://www.webcitation.org/68ok0ShNC?url=http://download.microsoft.com/download/F/A/7/FA70E919-8F82-4C4E-8D02-97DB3CF79AD5/COR-T558_Shu_Taiwan.pdf |dead-url=no }}</ref>
|Windows 7最初支持的TRIM仅适用于包括[[高技術配置|ATA]]和[[SATA|SATA]]的AT Attachment系列中的驱动器，并不对任何其他包括Storport PCI-Express SSD设备支持此命令，即使即使设备本身将接受该命令。<ref>[http://techreport.com/articles.x/22663 Geoff Gasior (2012)] {{Wayback|url=http://techreport.com/articles.x/22663 |date=20120627063009 }} OCZ's RevoDrive 3 X2 240GB solid-state drive</ref>已确认Windows 7上[[AHCI|AHCI]]和旧有IDE/ATA模式下的原生微软驱动支持TRIM命令。<ref>{{cite web |url=http://archive.benchmarkreviews.com/index.php?option=com_content&task=view&id=505&Itemid=38&limit=1&limitstart=12 |title=SSD Benchmark Tests: SATA IDE vs AHCI Mode - AHCI vs IDE Final Thoughts |first=Olin |last=Coles |date=15 April 2010 |work=BenchmarkReviews |accessdate=20 August 2013 |archive-url=https://web.archive.org/web/20131203010918/http://archive.benchmarkreviews.com/index.php?option=com_content&task=view&id=505&Itemid=38&limit=1&limitstart=12 |archive-date=2013-12-03 |dead-url=yes }}</ref>Windows 8及之后版本的Windows操作系统支持基于[[NVMe|NVMe]]的PCI Express SSD的trim，以及来自SATA的TRIM命令完全模拟的unmap命令，用于使用SCSI驱动程序堆栈的设备。微软已为Windows 7发布一个[https://support.microsoft.com/kb/2990941 KB2990941]{{Wayback|url=https://support.microsoft.com/kb/2990941 |date=20150227162639 }}更新，这在使用DISM集成到Windows 7安装程序时增加NVM Express的支持，包括对PCIe SSD设备的TRIM。 
|-
| [[OpenSolaris|OpenSolaris]]
| <span style="display:none">2010-07</span>2010年7月<ref>{{Cite web|title=SATA TRIM support in OpenSolaris|url=http://www.c0t0d0s0.org/archives/6792-SATA-TRIM-support-in-Opensolaris.html|date=2010-07-29|accessdate=2017-03-16|archive-date=2012-06-30|archive-url=https://www.webcitation.org/68ok1OipR?url=http://www.c0t0d0s0.org/archives/6792-SATA-TRIM-support-in-Opensolaris.html|dead-url=no}}</ref>
|
|-
| [[Android|Android]]
| <span style="display:none">2013-7</span>4.3<ref name="AnandTech Android 4.3">{{Cite web|url=http://www.anandtech.com/show/7185/android-43-update-brings-trim-to-all-nexus-devices|title=Android 4.3 Update Brings TRIM to All Nexus Devices|date=2013-07-29|accessdate=2013-07-30|archive-date=2013-08-01|archive-url=https://web.archive.org/web/20130801011221/http://www.anandtech.com/show/7185/android-43-update-brings-trim-to-all-nexus-devices|dead-url=no}}</ref> - 24 July 2013<ref name="Jelly Bean 4.3">[http://www.theverge.com/2013/7/24/4550234/android-4-3-announcement "Android 4.3 announced, rolling out to Nexus devices today"] {{Wayback|url=http://www.theverge.com/2013/7/24/4550234/android-4-3-announcement |date=20130725190854 }}.''[[The_Verge|The Verge]]''. 24 July 2013. Retrieved 24 July 2013.</ref>
|每24小时自动运行<code>fstrim</code>，仅在设备已空闲至少1小时并且电量80%（如果已连接充电器则30%）时执行。<ref name="AnandTech Android 4.3" />
|}

=== RAID问题 ===
{{As of|2017|1}}，大多数基于硬件的[[RAID|RAID]]技术未实现TRIM命令的支持。但是，软件实现的RAID通常提供了TRIM支持。

Windows：

Windows 10为SSD RAID卷在配置一个RAID卷时通过“优化驱动器”选项提供了TRIM支持。

Mac OS：

macOS RAID驱动程序不支持TRIM。自Mac OS X 10.7至macOS 10.12.x的所有版本均是如此。

对于使用第三方SoftRAID®应用程序的RAID（0,1,4,5和10）卷支持TRIM，包括使用非苹果品牌SSD设备的TRIM支持。
（注：非苹果品牌的SSD设备必须使用终端命令“sudo trimforce enable”来启动TRIM）

Linux：

2011年1月以后的Linux内核中{{tsl|en|Device mapper|dmraid}}的发布版本已实现BIOS辅助的“假硬件RAID”支持，并且现在通行来自RAID阵列上的文件系统的任何TRIM请求。<ref>{{cite web|url=http://serverfault.com/questions/227918/possible-to-get-ssd-trim-discard-working-on-ext4-lvm-software-raid-in-linu|title=Possible to get SSD TRIM (discard) working on ext4 + LVM + software RAID in Linux? - Server Fault|accessdate=2011-11-29|archive-date=2011-12-20|archive-url=https://web.archive.org/web/20111220100850/http://serverfault.com/questions/227918/possible-to-get-ssd-trim-discard-working-on-ext4-lvm-software-raid-in-linu|dead-url=no}}</ref>


不同于dmraid，Linux的常规目的软件RAID系统{{tsl|en|Mdadm|mdraid}}有实验性的基于批处理（而不是在文件删除时实时）的TRIM，当系统配置为定期在RAID 1阵列上的文件系统上运行mdtrim实用工具（包括ext3等没有原生TRIM支持的文件系统）。<ref>{{cite web|url=https://github.com/Cyberax/mdtrim|title=Cyberax/mdtrim - GitHub|accessdate=2011-11-29|archive-date=2018-06-10|archive-url=https://web.archive.org/web/20180610233946/https://github.com/Cyberax/mdtrim|dead-url=no}}</ref>在Linux的稍晚版本（例如Red Hat Enterprise Linux 6.5和beyond）中 mdraid支持实时、实际传递TRIM命令，而不是作为一个批处理作业。<ref name="RHEL 6 Storage Admin. Chap. 21">{{cite web|url=https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Storage_Administration_Guide/ch-ssd.html|title=Red Hat Enterprise Linux 6 Storage Administration Guide, Chapter 21. Solid-State Disk Deployment Guidelines|accessdate=2016-03-09|archive-date=2015-12-26|archive-url=https://web.archive.org/web/20151226062941/https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Storage_Administration_Guide/ch-ssd.html|dead-url=no}}</ref>

但请注意，[[紅帽公司|紅帽公司]]建议不要在大多数RAID技术的SSD上使用软件RAID 1、4、5和6，因为大多数RAID管理实用工具（例如Linux的[[mdadm|mdadm]]）在初始化期间会在设备上写入所有块以确保校验和（或RAID 1/10情况下的驱动器到驱动器验证）运作正常，而这导致SSD认为除备用区域以外的所有块都在使用中，从而显著降低性能。<ref>{{Cite web|url=http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/7/html-single/Storage_Administration_Guide/index.html#ssddeploy|title=Red Hat Enterprise Linux 7 Storage Administration Guide|accessdate=2016-02-29|date=2015-11-11}}</ref>

另一方面，Red Hat推荐在SSD上为[[邏輯捲軸管理員|LVM]] RAID使用RAID 1或RAID 10，因为这些级别支持TRIM（在Linux术语中称为"discard"），并且LVM实用工具在创建时不会写入所有块到RAID 1或RAID 10卷。

在2010年3月的一小段时间内，用户被误导相信[[英特尔快速存储技术|英特尔快速存储技术]]（RST）9.6驱动程序支持RAID卷上的TRIM，但后来英特尔澄清说，TRIM支持[[AHCI|AHCI]]模式和RAID模式的BIOS设置，但不支持RAID卷的驱动器。<ref>{{Cite web|url=http://www.intel.com/support/chipsets/imsm/sb/CS-031491.htm|title=Is there TRIM support for RAID configurations?|accessdate=2010-11-06|date=2010-03-26|publisher=[[Intel|Intel]]|archive-date=2010-09-15|archive-url=https://web.archive.org/web/20100915165918/http://www.intel.com/support/chipsets/imsm/sb/CS-031491.htm|dead-url=no}}</ref>

截至2012年8月，英特尔确认，使用快速存储技术（RST）11.2驱动程序的7系列芯片组支持微软Windows 7中的RAID 0的TRIM。<ref>{{Cite web|url=http://www.storagereview.com/intel_confirms_raid0_trim_support_on_7series_chipsets|title=Intel Confirms RAID0 TRIM Support on 7-Series Chipsets|accessdate=2013-01-14|date=2012-08-19|archive-url=https://web.archive.org/web/20121022095157/http://www.storagereview.com/intel_confirms_raid0_trim_support_on_7series_chipsets|archive-date=2012-10-22|dead-url=yes}}</ref>虽然英特尔没有确认支持6系列芯片组，RAID 0卷上的TRIM已展示为在Z68、P67和X79芯片组上可用，通过由硬件发烧友修改的RAID{{tsl|en|Option ROM|选项ROM}}。<ref>{{Cite web|url=http://forums.anandtech.com/showthread.php?t=2281849|title=RAID0 trim and SRT seems possible on 6-series and 5-Series|accessdate=2013-01-14|date=2012-11-18|archive-url=https://web.archive.org/web/20130118035253/http://forums.anandtech.com/showthread.php?t=2281849|archive-date=2013-01-18|dead-url=yes}}</ref>据推测，缺乏对6系列芯片组的官方支持是由于验证成本<ref>{{Cite web|url=http://www.anandtech.com/show/6477/trim-raid0-ssd-arrays-work-with-intel-6series-motherboards-too|title=TRIM & RAID-0 SSD Arrays Work With Intel 6-Series Motherboards Too|accessdate=2013-01-14|date=2012-11-28|archive-date=2013-01-09|archive-url=https://web.archive.org/web/20130109010438/http://www.anandtech.com/show/6477/trim-raid0-ssd-arrays-work-with-intel-6series-motherboards-too|dead-url=no}}</ref>或企图鼓励消费者升级<ref>{{Cite web|url=http://www.anandtech.com/show/6161/intel-brings-trim-to-raid0-ssd-arrays-on-7series-motherboards-we-test-it|title=Intel Brings TRIM to RAID-0 SSD Arrays on 7-Series Motherboards, We Test It|accessdate=2013-01-14|date=2012-08-16|archive-date=2013-01-13|archive-url=https://web.archive.org/web/20130113041104/http://www.anandtech.com/show/6161/intel-brings-trim-to-raid0-ssd-arrays-on-7series-motherboards-we-test-it|dead-url=no}}</ref>，而不是出于技术原因。

在使用X79芯片组的主板上需要修改选项ROM的例外是制造商添加了ROM开关；这需要RST和RST-E ROM存在于BIOS/UEFI内。这允许使用RST ROM而不是RST-E ROM，从而允许TRIM工作。<ref>{{Cite web|url=http://www.anandtech.com/show/6161/intel-brings-trim-to-raid0-ssd-arrays-on-7series-motherboards-we-test-it|title=Intel Brings TRIM to RAID-0 SSD Arrays on 7-Series Motherboards, We Test It|last=Anand Lal Shimpi|accessdate=2017-03-16|archive-date=2017-05-06|archive-url=https://web.archive.org/web/20170506064955/http://www.anandtech.com/show/6161/intel-brings-trim-to-raid0-ssd-arrays-on-7series-motherboards-we-test-it|dead-url=no}}</ref>英特尔指出，使用与ROM版本相同的驱动程序可以实现最佳性能。例如，如果BIOS/UEFI具有11.0.0.0m选项ROM，则应使用11.x版本的驱动程序。<ref>{{Cite web|url=http://www.tomshardware.com/news/TRIM-RST-RAID-0-SSD-7-series,16898.html|title=TRIM Command Confirmed With RAID 0 on Intel 7 Series|last=Doug Crowthers|work=Tom's Hardware}}</ref>

=== 为不支持的操作系统使用 ===
在使用不支持自动TRIM的文件系统时，某些实用工具可以手动发送Trim命令。通常它们将确定哪些块为空闲，然后将该列表以一系列的Trim命令传递给驱动器。这些实用程序可从各制造商（例如Intel、<ref name="Intel_SSD_Opt">{{Cite web|url=http://download.intel.com/design/flash/nand/mainstream/Intel_SSD_Optimizer_White_Paper.pdf|title=Intel SSD Optimizer White Paper|accessdate=2010-01-23|publisher=Intel Corporation|deadurl=yes|archiveurl=https://web.archive.org/web/20100602003826/http://download.intel.com/design/flash/nand/mainstream/Intel_SSD_Optimizer_White_Paper.pdf|archivedate=2010-06-02}}</ref>G.Skill<ref>{{Cite web|url=http://www.xtremesystems.org/forums/showthread.php?p=3784347|title=wiper.exe for Falcon Series|accessdate=2010-01-23|publisher=XtremeSystems|archive-date=2012-06-30|archive-url=https://www.webcitation.org/68ok4e1oW?url=http://www.xtremesystems.org/forums/showthread.php?224356-only-for-Falcon-Series-wiper.exe-TRIM-COMMAND-for-Falcon-Series-SSD|dead-url=no}}</ref>）或作为一般实用程序（例如Linux的{{tsl|en|hdparm}}自v9.17起，<ref>{{Cite web|url=https://lwn.net/Articles/345020/|title=hdparm-9.17 released, with experimental trim/wiper scripts for SSDs|accessdate=2010-08-14|archive-date=2010-06-09|archive-url=https://web.archive.org/web/20100609194442/http://lwn.net/Articles/345020/|dead-url=no}}</ref><ref>{{Cite web|url=http://sourceforge.net/projects/hdparm|title=hdparm project page|accessdate=2010-08-14|publisher=sourceforge.net|archive-date=2010-08-21|archive-url=https://web.archive.org/web/20100821085006/http://sourceforge.net/projects/hdparm/|dead-url=no}}</ref>或者如上所述的mdtrim）。

== 硬件支持 ==

=== ATA ===
TRIM命令规范<ref>{{Cite web|url=http://t13.org/Documents/UploadedDocuments/docs2008/e07154r6-Data_Set_Management_Proposal_for_ATA-ACS2.doc|title=Data Set Management Commands Proposal for ATA8-ACS2 (revision 6)|accessdate=2009-07-08|date=2007-12-12|work=INCITS T13|publisher={{tsl|en|INCITS}}|archive-date=2010-06-13|archive-url=https://web.archive.org/web/20100613085651/http://t13.org/Documents/UploadedDocuments/docs2008/e07154r6-Data_Set_Management_Proposal_for_ATA-ACS2.doc|dead-url=no}}</ref>已被标准化为AT Attachment接口标准的一部分，由{{tsl|en|International Committee for Information Technology Standards|国际信息技术标准委员会}}（INCITS）的技术委员会T13所领导。<ref>{{Cite web|url=http://t13.org/Documents/MinutesDefault.aspx?keyword=trim|title=T13 documents referring to TRIM|accessdate=2009-07-08|work=INCITS T13|publisher={{tsl|en|INCITS}}|archive-date=2010-05-26|archive-url=https://web.archive.org/web/20100526115741/http://t13.org/Documents/MinutesDefault.aspx?keyword=trim|dead-url=no}}</ref> TRIM根据DATA SET MANAGEMENT（数据集管理）命令（操作码06h）实现，ACS-2规范草案。<ref>{{Cite web|url=http://www.t13.org/Documents/UploadedDocuments/docs2010/d1697r4-1697D_AT_Attachment-8_-_Serial_Transport_ATA8-AST.pdf|title=T13 ATA8 Draft Spec 1697-D|accessdate=2010-08-14|date=2010-06-23|publisher={{tsl|en|INCITS}}|archive-date=2011-03-22|archive-url=https://web.archive.org/web/20110322062157/http://www.t13.org/Documents/UploadedDocuments/docs2010/d1697r4-1697D_AT_Attachment-8_-_Serial_Transport_ATA8-AST.pdf|dead-url=no}}</ref>ATA标准被并行（IDE、PATA）和串口（SATA）ATA硬件所支持。

原版ATA TRIM命令的缺点是它被定义为不可排队命令，因此不能轻松地与正常的、排队的读和写操作混合。SATA 3.1引入了一个排队的TRIM命令来纠正这一点。<ref>{{cite web|url=http://www.sata-io.org/technology/6Gbdetails.asp|title=SATA 6Gb/s|accessdate=2012-09-26|publisher=Serial ATA International Organization|archive-date=2013-02-02|archive-url=https://www.webcitation.org/6E7PonGtc?url=http://www.sata-io.org/technology/6Gbdetails.asp|dead-url=no}}</ref>

ATA IDENTIFY DEVICE命令返回的SATA Words 69和169定义了不同类型的TRIM。
* 非确定性TRIM：TRIM后每个对[[邏輯區塊位址|邏輯區塊位址]]（LBA）的读取命令可能返回不同的数据。
* 确定性TRIM（DRAT）：TRIM后对LBA的所有读取命令都返回相同的数据，或者变为确定的。
* TRIM（RZAT）后确定性读零：TRIM后对LBA的所有读取命令都将返回零。
在SATA字105中有额外信息，描述驱动器可以在每个数据集管理命令（DATA SET MANAGEMENT）支持最多多少个512字节的数据块。通常此值默认为8（或4kB），但许多驱动器将其减少到1，以满足微软Windows硬件要求对TRIM的部分——该命令完成时间不应超过20 ms或者8 ms × （LBA范围项的数量），且两者中的较大者应始终小于600 ms。<ref>{{Cite web|url=http://msdn.microsoft.com/en-us/library/windows/hardware/jj134356.aspx|title=Device.Storage Requirements (Windows)|accessdate=2016-02-29|archive-date=2016-03-14|archive-url=https://web.archive.org/web/20160314212551/https://msdn.microsoft.com/en-us/library/windows/hardware/jj134356.aspx|dead-url=no}}</ref>

各LBA范围被称为一个LBA范围条目，并由八个字节表示。 LBA由LBA范围条目的前6个字节表示，范围长度是由剩下两个字节表示的一个从零开始的计数器。如果两个字节组成的范围长度为零，那么LBA范围条目应视作填充而丢弃。<ref>{{Cite web|url=http://www.t13.org/Documents/UploadedDocuments/docs2013/d2161r5-ATAATAPI_Command_Set_-_3.pdf|title=T13/2161-D: Information technology - ATA/ATAPI Command Set - 3 (ACS-3)|accessdate=2016-02-29|archive-date=2016-04-05|archive-url=https://web.archive.org/web/20160405130623/http://www.t13.org/Documents/UploadedDocuments/docs2013/d2161r5-ATAATAPI_Command_Set_-_3.pdf|dead-url=no}}</ref>这意味着以512字节为TRIM块范围支持的设备，该最大值为64个32 MB，也就是2 GB。如果设备在SATA字105处设为8，则它应该能在单个TRIM（数据集管理）命令中修整16GB。

=== SCSI ===
[[小型计算机系统接口|SCSI]]提供了UNMAP命令（TRIM的完全模拟），以及带有UNMAP标志集的WRITE SAME命令（10和16个变量）。<ref>{{Cite web|url=http://lists.freebsd.org/pipermail/freebsd-current/2011-December/030714.html|title=Note for SCSI UNMAP support in FreeBSD mailing list|accessdate=2017-03-16|archive-date=2012-06-30|archive-url=https://www.webcitation.org/68ok5Z2bP?url=http://lists.freebsd.org/pipermail/freebsd-current/2011-December/030714.html|dead-url=no}}</ref>

=== SD/MMC ===
[[多媒體記憶卡|多媒體記憶卡]]和[[SD卡|SD]] ERASE（CMD38）命令提供了与ATA TRIM命令类似的功能，但它要求擦除的块用0或1重写。eMMC 4.5进一步定义了一个“discard”（丢弃）子操作，从而更紧密的配合ATA TRIM，因为丢弃的块的内容可以被认为是不确定的（即“不在乎”的）。

== 缺点 ==
* 在使用加密时，TRIM命令的相关信息将揭露哪些块正在使用，哪些没有。<ref>{{cite web|url=http://asalor.blogspot.com/2011/08/trim-dm-crypt-problems.html|title=Milan Broz's blog: TRIM & dm-crypt ... problems?|accessdate=2014-10-01|publisher=Milan Broz|archive-date=2011-12-30|archive-url=https://web.archive.org/web/20111230220251/http://asalor.blogspot.com/2011/08/trim-dm-crypt-problems.html|dead-url=no}}</ref>
* TRIM命令的原始版本已被{{tsl|en|T13 subcommittee|T13小组委员会}}定义为非排队命令，因此执行不当可能造成大量的错误执行。例如，如果它在操作系统的每个删除命令后发出，该命令的非排队性质将要求驱动程序先等待所有未完成的命令完成，然后发出TRIM命令，最后再继续正常命令。TRIM可能需要很长时间才能完成，这取决于SSD中的固件，并还可能触发[[写入放大|垃圾收集]]周期。{{Fact|date=May 2012}}这种缺陷可以用定期执行批量TRIM的解决方案来最小化，而不是在每次文件删除时执行修剪，批量处理任务可以在系统利用率最小时调度。这项TRIM缺点已在[[SATA|Serial ATA]]修订3.1中解决，其中引入了排队的TRIM命令。<ref>{{Cite web |url=http://www.sata-io.org/technology/6Gbdetails.asp |title=存档副本 |accessdate=2017-03-16 |archive-date=2013-02-02 |archive-url=https://www.webcitation.org/6E7PonGtc?url=http://www.sata-io.org/technology/6Gbdetails.asp |dead-url=no }}</ref><ref>{{cite web|url=http://techreport.com/news/21311/sata-3-1-spec-brings-swap-standard-improved-trim|title=SATA 3.1 spec brings swap standard, improved TRIM|work=The Tech Report|accessdate=2017-03-16|archive-date=2016-05-20|archive-url=https://web.archive.org/web/20160520012046/http://techreport.com/news/21311/sata-3-1-spec-brings-swap-standard-improved-trim|dead-url=no}}</ref>
* 排队的TRIM命令已在多款设备中涉及严重的数据损坏，最显著的是Micron的M500、<ref name="M500">{{cite web|url=https://bugzilla.kernel.org/show_bug.cgi?id=71371|title=Bug 71371 – [PATCH]Crucial M500, broken "queued TRIM" support|publisher=|accessdate=2017-03-16|archive-date=2017-10-11|archive-url=https://web.archive.org/web/20171011103751/https://bugzilla.kernel.org/show_bug.cgi?id=71371|dead-url=no}}</ref>Crucial的M500、以及Samsung 8**系列。<ref>{{cite web|url=https://bugs.launchpad.net/ubuntu/+source/fstrim/+bug/1449005|title=Bug #1449005 "trim does not work with Samsung 840 EVO after firm..." : Bugs : fstrim package : Ubuntu|publisher=|accessdate=2017-03-16|archive-date=2017-01-18|archive-url=https://web.archive.org/web/20170118230121/https://bugs.launchpad.net/ubuntu/+source/fstrim/+bug/1449005|dead-url=no}}</ref>在2015年7月1日，Linux操作系统在这些设备上的数据损坏已得到确认。<ref>{{cite web|url=https://github.com/torvalds/linux/blob/e64f638483a21105c7ce330d543fa1f1c35b5bc7/drivers/ata/libata-core.c#L4109-L4286|title=linux/libata-core.c at e64f638483a21105c7ce330d543fa1f1c35b5bc7 · torvalds/linux · GitHub|author=torvalds|work=GitHub|accessdate=2017-03-16|archive-date=2016-07-07|archive-url=https://web.archive.org/web/20160707043134/https://github.com/torvalds/linux/blob/e64f638483a21105c7ce330d543fa1f1c35b5bc7/drivers/ata/libata-core.c#L4109-L4286|dead-url=no}}</ref>
这些设备已被列入Linux内核中libata-core.c的黑名单，从而强制发送非排队的TRIM命令到这些设备，而不是排队的TRIM命令：<ref name="libata-core.c">{{cite web|url=https://github.com/torvalds/linux/blob/master/drivers/ata/libata-core.c|title=linux/libata-core.c at master · torvalds/linux · GitHub|author=torvalds|work=GitHub|accessdate=2017-03-16|archive-date=2017-02-27|archive-url=https://web.archive.org/web/20170227183720/https://github.com/torvalds/linux/blob/master/drivers/ata/libata-core.c|dead-url=no}}</ref>
* Micron M500，所有固件版本（仅MU07之前有此问题，但Linux尚未跟进）
* Crucial M500，所有固件版本，包括工厂重新认证的SSD（仅MU07之前有此问题，但Linux尚未跟进）
* Micron M510，固件版本MU01
* Micron M550，固件版本MU01
* Crucial M550，固件版本MU01
* Crucial MX100，固件版本MU01
* 三星SSD 8**系列，所有固件版本
此文件也已将SuperSSpeed S238列入常规TRIM的黑名单，因为发出TRIM会导致错误的块丢失数据。<ref name="libata-core.c" /><ref>{{cite web|url=https://github.com/torvalds/linux/commit/cda57b1b05cf7b8b99ab4b732bea0b05b6c015cc|title=libata: force disable trim for SuperSSpeed S238 · torvalds/linux@cda57b1|author=torvalds|work=GitHub|accessdate=2017-03-16|archive-date=2018-12-26|archive-url=https://web.archive.org/web/20181226221259/https://github.com/torvalds/linux/commit/cda57b1b05cf7b8b99ab4b732bea0b05b6c015cc|dead-url=no}}</ref>

libata-core.c还有一个列出子系统维护者已确认正确实现DRAT和RZAT标志（flags）的SSD，这不同于许多忽略它们的驱动器。白名单中的设备如下：
* Crucial多款SSD
* Intel多款SSD（不包括Intel SSD 510）
* Micron多款SSD
* 三星多款SSD
* 希捷多款SSD<ref>{{cite web|url=http://patchwork.ozlabs.org/patch/407967/|title=[1/3] libata: Whitelist SSDs that are known to properly return zeroes after TRIM|publisher=|accessdate=2017-03-16|archive-date=2016-03-04|archive-url=https://web.archive.org/web/20160304061003/http://patchwork.ozlabs.org/patch/407967/|dead-url=no}}</ref>

== 参见 ==
* {{tsl|en|Data remanence|数据残留}}

== 参考资料 ==
{{Reflist|30em}}

== 外部链接 ==
* [https://web.archive.org/web/20100227234254/http://www.devwhy.com/blog/2009/8/4/from-write-down-to-the-flash-chips.html ''From write() down to flash chips''] – An explanation on how the TRIM command lets SSDs erase data not used by the filesystem
* [http://www.maximumpc.com/article/features/white_paper_trim_command ''TRIM Command White Paper'']{{WebCite|url=https://www.webcitation.org/67wp4edGe?url=http://www.maximumpc.com/article/features/white_paper_trim_command |date=20120526115220 |dateformat=iso }} – A white paper explaining the command's purpose and actions
* Fusion-io Patent [https://www.google.com/patents/US8706968?dq=%22Fusion-io%22+trim&hl=en&sa=X&ei=ZNWlU4ugOc_doAShvoHwCQ&ved=0CCsQ6AEwAjgU "Apparatus, system, and method for redundant write caching"]{{Wayback|url=https://www.google.com/patents/US8706968?dq=%22Fusion-io%22+trim&hl=en&sa=X&ei=ZNWlU4ugOc_doAShvoHwCQ&ved=0CCsQ6AEwAjgU |date=20161222230439 }}

{{固态硬盘}}
[[Category:固态计算机存储|Category:固态计算机存储]]
[[Category:Serial_ATA|Category:Serial ATA]] 
[[Category:SCSI|Category:SCSI]]