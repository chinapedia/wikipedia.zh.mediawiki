{{noteTA
|G1=IT
}}
{{lowercase}}
在[[类Unix|类Unix]][[操作系统|操作系统]]中，<tt>'''true'''</tt>和<tt>'''false'''</tt>的唯一功能就是始终返回设定的[[退出状态|退出状态]]。程序员和脚本通常使用退出状态评估命令执行的成功（0状态）与否（不为零）。''true''和''false''命令可以代表命令成功的[[逻辑值|逻辑值]]，因为''true''返回0，''false''返回1。

== 用法 ==
命令通常在[[shell脚本|shell脚本]]中的[[条件语句|条件语句]]和[[程序循环|循环语句]]使用。例如，下面的shell脚本重复''echo hello''循环，直至被中断：

<syntaxhighlight lang="bash">
while true
do
  echo hello
done
</syntaxhighlight>

命令可用来忽略其他命令序列的成败状态，如在本例中：
<syntaxhighlight lang="bash">make … && false</syntaxhighlight>
在[[Passwd_(文件)|/etc/passwd]]中将用户的[[Unix_shell|登录shell]]设置为<tt>'''false'''</tt>，事实上阻止了他们访问交互式shell，但他们帐户的其他服务可能仍然有效，如[[FTP|FTP]]。（尽管如此，如果可用的话，<tt>/sbin/nologin</tt>可能更适合这个目的，因为它在终止会话之前会显示一个通知。）

程序并没有“实际的”参数；在大多数Linux版本中，标准参数<code>--help</code>可以显示用法摘要，<code>--version</code>则显示程序版本。

== 空命令 ==
''true''命令有时可以用非常相似的[[空命令|空命令]]代替，<ref>{{citation
|url=http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_16
|title=Colon
|work=The Open group base specifications, issue 7
|id=IEEE std 1003.1-2008
|accessdate=2013-04-27
|archive-date=2014-04-27
|archive-url=https://web.archive.org/web/20140427082439/http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_16
|dead-url=no
}}</ref>写法为一个单冒号（<code>:</code>）。空命令是[[壳层内建指令|壳层内建指令]]，因此，当''true''是外部程序时，它可能会更有效（''true''通常是壳层内建指令）。我们可以用<code>:</code>代替<code>true</code>重写上面的例子：
<syntaxhighlight lang="bash">
while :
do
  echo hello
done
</syntaxhighlight>
空命令可以有参数，但会被忽略。也可以用它作一个[[NOP|无操作]]的伪命令，一种参数的扩展形式<code>${parameter:=word}</code>使用了它的副作用，来为参数分配默认值。<ref>{{citation |url=http://tldp.org/LDP/abs/html/special-chars.html#COLON0REF |accessdate=2011-08-04 |chapter=Null command |title=Advanced Bash-scripting guide, 6.3 |first=Mendel |last=Cooper |date=April 2011 |publisher=The Linux documentation project |archive-date=2019-06-03 |archive-url=https://web.archive.org/web/20190603071617/http://tldp.org/LDP/abs/html/special-chars.html#COLON0REF |dead-url=no }}</ref>如一个来自''bashbug''，[[Bash|Bash]] bug报告脚本的例子：

<syntaxhighlight lang="bash">
 : ${TMPDIR:=/tmp}
 : ${EDITOR=$DEFEDITOR}
 : ${USER=${LOGNAME-`whoami`}}
</syntaxhighlight>

== 参见 ==
*[[Unix实用程序列表|Unix实用程序列表]]
*[[二值原理|二值原理]]
*[[IEFBR14|IEFBR14]]

== 参考 ==
{{Reflist}}

== 外部链接 ==
*{{man|cu|true|SUS|return true value}}
*{{man|cu|false|SUS|return false value}}

=== 手册页 ===
*[http://www.gnu.org/software/coreutils/manual/html_node/true-invocation.html true(1)]{{Wayback|url=http://www.gnu.org/software/coreutils/manual/html_node/true-invocation.html |date=20130515062728 }}: Do nothing, successfully – [[GNU|GNU]] [[GNU核心工具组|Coreutils]]参考
*[http://www.gnu.org/software/coreutils/manual/html_node/false-invocation.html false(1)]{{Wayback|url=http://www.gnu.org/software/coreutils/manual/html_node/false-invocation.html |date=20130502131927 }}: Do nothing, unsuccessfully – [[GNU|GNU]] [[GNU核心工具组|Coreutils]]参考
*[http://man.freebsd.org/true true(1)]: Return true value – [[FreeBSD|FreeBSD]]手册页
*[http://man.freebsd.org/false false(1)]: Return false value – [[FreeBSD|FreeBSD]]手册页

{{Unix命令}}

[[Category:标准Unix程序|Category:标准Unix程序]]
[[Category:Unix_SUS2008实用工具|Category:Unix SUS2008实用工具]]