'''TCP Cookie 传输'''（[[英文|英文]]：'''TCP C'''ookie '''T'''ranscations）是一个实验性的[[传输控制协议|传输控制协议]]拓展，在RFC 6013中定义，用于保护TCP连接免于[[拒绝服务攻击|拒绝服务攻击]]，例如通过[[SYN_Flood|SYN Flood]]和第三方的恶意连接中止耗尽目标资源。<ref>{{cite IETF |title= TCP Cookie Transactions |rfc= 6013 |last1= Simpson |first1= W. |year= 2011 |month= January |accessdate= March 16, 2012 |publisher= [[Internet_Engineering_Task_Force|IETF]]}}</ref>不像原有的 [[SYN_cookies|SYN cookies]] 方法，<ref>{{cite web |title=SYN cookies |author=[[Daniel_J._Bernstein|Daniel J. Bernstein]] |quote=SYN cookies "do not allow to use TCP extensions" such as large windows. [...] A connection saved by SYN cookies can't use large windows |url=http://cr.yp.to/syncookies.html |accessdate=2014-12-06 |archive-date=2010-12-23 |archive-url=https://web.archive.org/web/20101223201913/http://cr.yp.to/syncookies.html |dead-url=no }}</ref> TCPCT 不会和其它 TCP 拓展冲突, 但是要求客户端（发起者）和服务器（响应者）都支持这一拓展。<ref name="tcp-robust-cookies">{{cite paper |author=Perry E. Metzger, William Allen Simpson, [[Paul_Vixie|Paul Vixie]] |date=December 2009 |title=Improving TCP Security With Robust Cookies |url=http://www.usenix.org/publications/login/2009-12/openpdfs/metzger.pdf |access-date=2014-12-06 |archive-date=2018-04-07 |archive-url=https://web.archive.org/web/20180407053802/https://www.usenix.org/publications/login/2009-12/openpdfs/metzger.pdf |dead-url=no }}</ref>

开发<!-- Parser auto-add -->这个拓展的直接原因是 [[DNSSEC|DNSSEC]] 协议的部署。在 DNSSEC 出现前，[[DNS|DNS]] 请求主要使用小型 [[用户数据报协议|UDP]] 数据包，但是由于 DNSSEC 数据交换的大小和[[IP分片|IP分片]]的缺点，UDP 对 DNSSEC 来说并不怎么现实。<ref>B. Carpenter and S. Brim, “Middleboxes: Taxonomy and Issues,” RFC 3234, February 2002.</ref><ref>P. Srisuresh and K. Egevang, “Traditional IP Network Address Translator (Traditional NAT),” RFC 3022, January 2001</ref>于是采用 DNSSEC 的请求会创建极多的短寿命 TCP 连接。<ref name="tcp-robust-cookies" /><ref>{{cite paper |author=D. Wessels |date=June 2009 |title=DNSSEC, EDNS, and TCP |url=http://www.nanog.org/meetings/nanog46/presentations/Wednesday/wessels_light_N46.pdf |publisher=DNS-OARC |access-date=2014-12-06 |archive-date=2016-07-06 |archive-url=https://web.archive.org/web/20160706004656/http://www.nanog.org/meetings/nanog46/presentations/Wednesday/wessels_light_N46.pdf |dead-url=no }}</ref>

TCPCT 避免了服务器端资源耗尽，因为它在完成[[三步握手|三步握手]]之前不会申请{{font|font=serif|任何}}资源。除此之外，TCPCT 允许服务器在连接关闭之后立即释放内存，此时连接还在 TIME-WAIT 状态持续。<ref name="tcp-robust-cookies" />

2009 年十二月，TCPCT 支持被部分并入了 [[Linux_内核|Linux 内核]]，<ref>{{cite web |author=Jake Edge |date={{date|2009-12-16}} |title=TCP cookie transactions |publisher=[[LWN.net|LWN.net]] |url=http://lwn.net/Articles/366986/ |accessdate=2014-12-06 |archive-date=2014-12-10 |archive-url=https://web.archive.org/web/20141210072239/http://lwn.net/Articles/366986/ |dead-url=no }}</ref><ref>{{Cite web |url=http://kernelnewbies.org/Linux_2_6_33#head-2c3c3a8cb87d5b7a6f1182e418abf071cda22c8c |title=存档副本 |accessdate=2014-12-06 |archive-date=2012-06-30 |archive-url=https://www.webcitation.org/68ok0wDgp?url=http://kernelnewbies.org/Linux_2_6_33#head-2c3c3a8cb87d5b7a6f1182e418abf071cda22c8c |dead-url=no }}</ref>但是在 2013 年五月被移除因为它从来没有被完整实现，还会造成性能消耗。<ref>{{cite web |author=Jonathan Corbet |date={{date|2013-05-08}} |title=What's coming in 3.10, part 2 |publisher=[[LWN.net|LWN.net]] |url=https://lwn.net/Articles/549477/ |accessdate=2014-12-06 |archive-date=2014-12-10 |archive-url=https://web.archive.org/web/20141210072418/https://lwn.net/Articles/549477/ |dead-url=no }}</ref>

== 参见 ==
* [[SYN_cookies|SYN cookies]]
* [[T/TCP|T/TCP]]（事务 TCP）
* [[TCP_快速打开|TCP 快速打开]]

== 参考资料 ==
{{Reflist|30em}}

[[Category:TCP/IP|Cookie 传输]]
[[Category:计算机网络安全|Category:计算机网络安全]]<!-- :en:Category:Computer network security -->