{{noteTA
|G1=IT
}}
{{Infobox file format
|name= WebP
| icon =WebPLogo.svg
|screenshot=File:Johnrogershousemay2020.webp
|caption=一张 WebP 格式图片
| extension = .webp<ref>{{Cite web|url=http://dotwhat.net/webp/10843/|title=WEBP file extension|publisher=DotWhat.net|accessdate=2010-10-01|archive-date=2013-03-13|archive-url=https://www.webcitation.org/6F4r6QVlG?url=http://dotwhat.net/webp/10843|dead-url=no}}</ref>
| mime = image/webp
| magic = 52 49 46 46 xx xx xx xx 57 45 42 50
| developer=
| type=
| released = {{start date|2010|9|30}}<ref name="Announcement-in-chromium">{{Cite web|url=http://blog.chromium.org/2010/09/webp-new-image-format-for-web.html|title=WebP, a new image format for the Web|work=Chromium Blog|publisher=Google|date=2010-09-30|accessdate=2010-10-01|first=Richard|last=Rabbat|archive-date=2011-08-13|archive-url=https://www.webcitation.org/60ukFiaUL?url=http://blog.chromium.org/2010/09/webp-new-image-format-for-web.html|dead-url=no}}</ref>
|latest_release_version=1.2.2
|latest_release_date={{Start date and age|2022|01|20|df=yes}}<ref>{{cite web |url=https://chromium.googlesource.com/webm/libwebp/+/refs/tags/v1.2.2 |title=libwebp 1.2.2 |last=Zern |first=James |date=2022-01-20 |work=[[Chromium|Chromium]] |publisher=[[Google|Google]] |accessdate=2022-01-20 |archive-date=2022-01-21 |archive-url=https://web.archive.org/web/20220121131408/https://chromium.googlesource.com/webm/libwebp/+/refs/tags/v1.2.2/ }}</ref>
| free = 是<ref name="faq">{{Cite web|url=http://code.google.com/speed/webp/faq.html|title=WebP FAQs|publisher=Google|work=Google Code|accessdate=2010-10-06|archive-date=2013-03-13|archive-url=https://www.webcitation.org/6F4r8hKvs?url=https://developers.google.com/speed/webp/faq|dead-url=no}}</ref>
| url = {{url|https://developers.google.com/speed/webp/}}
| type code =
| uniform type =
| owner = [[Google|Google]]
| genre = 圖片檔案<br>[[破壞性資料壓縮|破壞性資料壓縮演算法]]
| extended from =
| contained by = [[資源交換檔案格式|資源交換檔案格式]]（RIFF）<ref>{{Cite web|url=http://code.google.com/speed/webp/docs/riff_container.html|title=RIFF Container|work=[[Google_Code|Google Code]]|publisher=Google|accessdate=2010-10-01|archive-date=2013-03-13|archive-url=https://www.webcitation.org/6F4r7tZOg?url=https://developers.google.com/speed/webp/docs/riff_container|dead-url=no}}</ref>
}}

'''WebP'''（發音：''weppy''<ref>[http://code.google.com/speed/webp/ WebP Home] {{Wayback|url=http://code.google.com/speed/webp/ |date=20120323165730 }}: "'''Did you know?''' WebP is pronounced 'weppy'. /（wĕpˈē）/"</ref><ref>{{Cite web|url=http://www.zdnet.com/blog/seo/google-8217s-new-webp-image-standard-is-all-about-seo/669|title=Google's New WebP Image Standard Is All About SEO|publisher=[[ZDNet|ZDNet]]|date=2010-10-04|accessdate=2010-10-06|first=Stephen|last=Chapman|deadurl=yes|archiveurl=https://web.archive.org/web/20101007122015/http://www.zdnet.com/blog/seo/google-8217s-new-webp-image-standard-is-all-about-seo/669|archivedate=2010-10-07}}</ref>）是一種同時提供了[[有損壓縮|有損壓縮]]與[[無損壓縮|無損壓縮]]（可逆壓縮）的圖片檔案格式<ref>{{Cite web|url=http://www.wired.com/epicenter/2010/10/meet-webp-googles-new-image-format/|title=Meet WebP, Google's New Image Format|publisher=[[Wired_(magazine)|Wired]]|date=2010-10-01|accessdate=2010-10-05|first=Michael|last=Calore|archive-date=2011-09-25|archive-url=https://web.archive.org/web/20110925231333/http://www.wired.com/epicenter/2010/10/meet-webp-googles-new-image-format/}}</ref>。

WebP最初在2010年9月釋出，其支持库于2018年4月发布1.0版本。截至2021年5月，已有94%的浏览器支持此格式<ref name=":0">{{Cite web|title=WebP image format {{!}} Can I use... Support tables for HTML5, CSS3, etc|url=https://caniuse.com/webp|access-date=2021-07-18|work=caniuse.com|archive-date=2021-07-23|archive-url=https://web.archive.org/web/20210723010011/https://caniuse.com/webp}}</ref>。

WebP的设计目標是在減少檔案大小的同时，達到和[[JPEG|JPEG]]、[[PNG|PNG]]、[[GIF|GIF]]格式相同的圖片品質，并希望借此能夠減少圖片檔在網路上的傳送時間。<ref>{{Cite web|url=http://code.google.com/intl/no/speed/webp/docs/c_study.html|title=Comparative Study of WebP, JPEG and JPEG 2000|work=Google Code|publisher=[[Google|Google]]|accessdate=2010-10-01|deadurl=yes|archiveurl=https://web.archive.org/web/20101004134848/http://code.google.com/intl/no/speed/webp/docs/c_study.html|archivedate=2010-10-04}}</ref>根據Google較早的測試，WebP的無損壓縮比網路上找到的[[PNG|PNG]]檔少了45％的檔案大小，即使這些PNG檔在使用[[pngcrush|pngcrush]]和[[PNGOUT|PNGOUT]]處理過，WebP還是可以減少28％的檔案大小<ref>{{Cite web |url=http://googlecode.blogspot.com/2011/11/lossless-and-transparency-encoding-in.html |title=Google Code blog: Lossless and transparency encoding in WebP |accessdate=2013-08-21 |archive-date=2011-11-20 |archive-url=https://web.archive.org/web/20111120172912/http://googlecode.blogspot.com/2011/11/lossless-and-transparency-encoding-in.html |dead-url=no }}</ref>。

WebP支援的像素最大數量是16383x16383。有損壓縮的WebP僅支援8-bit的YUV 4:2:0格式。而無損壓縮（可逆壓縮）的WebP支援VP8L編碼與8-bit之RGBA色彩空間。而無論是有損或無損壓縮皆支援Alpha透明通道、ICC色彩配置、XMP詮釋資料。

WebP有靜態與動態兩種模式。動態WebP（Animated WebP）支援有損與無損壓縮、ICC色彩配置、XMP詮釋資料、Alpha透明通道。

== 历史 ==
Google于2010年9月30日首次公布WebP格式，它衍生自影像編碼格式[[VP8|VP8]]<ref>{{Cite web|title=Google's new VP8-based image format could replace JPEG|url=http://arstechnica.com/open-source/news/2010/10/googles-new-vp8-based-image-format-could-replace-jpeg.ars|accessdate=2010-10-05|date=2010-10-02|last=Paul|first=Ryan|publisher=[[Ars_Technica|Ars Technica]]|archive-url=https://web.archive.org/web/20110731022517/http://arstechnica.com/open-source/news/2010/10/googles-new-vp8-based-image-format-could-replace-jpeg.ars|archive-date=2011-07-31|dead-url=no}}</ref>，被認為是[[WebM|WebM]]多媒體格式的姊妹項目，是[[Google|Google]]在購買[[On2_Technologies|On2 Technologies]]後获得技术發展而来的<ref>{{Cite web|title=Google offers JPEG alternative for faster Web|url=http://news.cnet.com/8301-30685_3-20018146-264.html|accessdate=2010-10-01|date=2010-09-30|last=Shankland|first=Stephen|work=[[CNET_News|CNET News]]|publisher=CBS Interactive|archive-url=https://www.webcitation.org/query?url=http%3A%2F%2Fnews.cnet.com%2F8301-30685_3-20018146-264.html&date=2011-04-03|archive-date=2011-04-03|dead-url=no}}</ref>，该格式及其衍生的支持库以[[BSD授權條款|BSD授權條款]]釋出。<ref>{{Cite web|title=License/Patent clarification|url=http://groups.google.com/a/webmproject.org/group/webp-discuss/browse_thread/thread/5b8fe3ed39687eff|accessdate=2011-03-11|date=2010-10-03|last=Rabbat|first=Richard|archive-date=2013-06-20|archive-url=https://web.archive.org/web/20130620021254/http://groups.google.com/a/webmproject.org/group/webp-discuss/browse_thread/thread/5b8fe3ed39687eff}}</ref>

2011年10月3日，Google给WebP添加了扩展格式以让其支持[[ICC色彩特性文件|ICC色彩特性文件]]、[[XMP|可扩展后设资料平台]]和[[Exif|EXIF]]<ref name=":1" />。

2011年11月8日，Google開始讓WebP支援無損壓縮和[[Alpha通道|透明色（alpha通道）]]的功能，而在2012年8月16日的參考實做libwebp 0.2.0中正式支援<ref>{{Cite web|title=WebP v0.2.0 decoder and encoder source tree|url=http://code.google.com/p/webp/downloads/detail?name=libwebp-0.2.0.tar.gz|accessdate=2013-08-21|archive-url=https://web.archive.org/web/20130701022643/http://code.google.com/p/webp/downloads/detail?name=libwebp-0.2.0.tar.gz|archive-date=2013-07-01|dead-url=no}}</ref><ref name="lossless-announce">{{Cite web |url=http://googledevelopers.blogspot.hu/2012/08/lossless-and-transparency-modes-in-webp.html |title=Google Developers Blog: Lossless and Transparency Modes in WebP |access-date=2013-08-21 |archive-date=2016-03-03 |archive-url=https://web.archive.org/web/20160303223547/http://googledevelopers.blogspot.hu/2012/08/lossless-and-transparency-modes-in-webp.html }}</ref>。

截至2022年1月，已有94%的浏览器支持此格式<ref>{{Cite web|title=WebP image format {{!}} Can I use... Support tables for HTML5, CSS3, etc|url=https://caniuse.com/webp|access-date=2022-01-29|work=caniuse.com|archive-date=2021-07-23|archive-url=https://web.archive.org/web/20210723010011/https://caniuse.com/webp}}</ref>。

==技術==
{| class="wikitable floatright"
|+简单WebP
!位
!colspan="4"|内容
|-
|align="right"|<code> 0- 3</code>
|R||I||F||F
|-
|align="right"|<code> 4- 7</code>
|colspan="4"|''length+8''
|-
|align="right"|<code> 8-11</code>
|W||E||B||P
|-
|align="right"|<code>12-15</code>
|V||P||8|| <ref name=":1">[https://developers.google.com/speed/webp/docs/riff_container#webp_file_header WebP Container Specification] {{Wayback|url=https://developers.google.com/speed/webp/docs/riff_container#webp_file_header |date=20220518091634 }}: U+0020 for lossy images, and "L" for lossless images.</ref>
|-
|align="right"|<code>16-19</code>
|colspan="4"|''length'' <small>(padded)</small>
|-
|align="right"|<code>20- …</code>
|colspan="4"|''VP8关键帧''
|-
|''pad''
|colspan="4"|? <small>(even length)</small>
|}

WebP的有损压缩算法是基于[[VP8|VP8]]视频格式的{{le|帧内编码|Intra-frame coding}}<ref name="f.glaser">{{cite web |url=http://x264dev.multimedia.cx/archives/541 |title=H.264 and VP8 for still image coding: WebP? |work=Diary Of An x264 Developer |date=2010-09-30 |accessdate=2010-10-01 |first=Fiona |last=Glaser |deadurl=yes |archiveurl=https://web.archive.org/web/20150319214453/http://x264dev.multimedia.cx/archives/541 |archivedate=2015-03-19 }}</ref>，并以[[資源交換檔案格式|RIFF]]作为[[视频文件格式|容器格式]]。<ref name="Announcement-in-chromium" /> 因此，它是一个具有八位[[色彩深度|色彩深度]]和以1:2的比例进行[[色度抽样|色度子采样]]的[[YUV|亮度-色度模型]]（[[YCbCr|YCbCr]] 4:2:0）的基于块的转换方案。<ref name="vp8-bitstream">{{cite web|title=VP8 Data Format and Decoding Guide|url=https://www.webmproject.org/media/pdf/vp8-bitstream.pdf|publisher=Google|date=2010-09-23|accessdate=2010-10-02|format=PDF}}{{Dead link|date=2018年8月|bot=InternetArchiveBot|fix-attempted=yes}}</ref> 不含内容的情况下，RIFF容器要求只需20字节的开销，依然能保存额外的[[元数据|元数据]](metadata)。<ref name="Announcement-in-chromium" /> WebP图像的边长限制为16383像素。<ref name="faq" />

WebP是基于块预测的。每个块都是根据它上面三个块的值和其左边一个块的值进行预测的（块解码以光栅扫描顺序完成：从左到右，从上到下）。块预测有四种基本模式：水平、垂直、DC（单色）和TrueMotion。利用[[离散余弦变换|离散余弦变换]]或[[阿达马变换|沃尔什-阿达玛转换]]将预测错误的数据和未预测块压缩在4×4像素子块中。这两种转换都是使用{{le|定点算术|fixed-point arithmetic}}完成的，以避免舍入误差。输出使用[[熵編碼法|熵编码]]进行压缩。<ref name="vp8-bitstream" /> WebP也明确支持并行解码。<ref name="vp8-bitstream" />

参考实现包含一个Linux[[命令行界面|命令行]]程序的转换器，以及以及用于解码的[[函式庫|库]]，与WebM相同。开源社区很快设法将转换器移植到其他平台，例如Windows。<ref name="webp-windows">{{cite web|title=WebP for .NET|url=http://webp.codeplex.com/|publisher=[[Microsoft|Microsoft]]|work=Codeplex|date=2010-10-01|access-date=2018-03-02|archive-date=2018-01-16|archive-url=https://web.archive.org/web/20180116102030/http://webp.codeplex.com/}}</ref>

WebP的无损压缩采用先进的技术，例如用于不同颜色通道的专用熵代码，利用反向参考距离的2D位置和最近使用的颜色的颜色缓存。这补充了字典编码、[[霍夫曼编码|霍夫曼编码]]和颜色索引变换等基本技术。<ref name="lossless-announce"/>

==支援==

=== 浏览器 ===
[[Google_Chrome|Chrome]]和所有基于[[Chromium|Chromium]]的浏览器（如[[Opera電腦瀏覽器|Opera]]、[[Brave浏览器|Brave]]等）均原生支援靜態與動態的WebP格式<ref>{{Cite news|url=http://www.theregister.co.uk/2010/09/30/google_webp/|title=Google open sources JPEG assassin|newspaper=[[The_Register|The Register]]|date=2010-09-30|accessdate=2010-10-03|location=[[San_Francisco|San Francisco]]|last=Metz|first=Cade|archive-date=2019-11-04|archive-url=https://web.archive.org/web/20191104031802/https://www.theregister.co.uk/2010/09/30/google_webp/}}</ref><ref>{{Cite news|url=http://my.opera.com/desktopteam/blog/2011/03/15/css-gradients-webp-declarativeui|title=CSS gradients, WebP, and Declarative UI|work=Opera Desktop Team|agency=[[My_Opera|My Opera]]|publisher=Opera Software ASA|first=Ruarí|last=Ødegaard|date=2011-03-15|accessdate=2011-03-15|archiveurl=https://web.archive.org/web/20110317032114/http://my.opera.com/desktopteam/blog/2011/03/15/css-gradients-webp-declarativeui|archivedate=2011-03-17|deadurl=yes}}</ref>，且自12版開始支援WebP的漸進式解碼功能<ref name="Chromium_WebP">{{Cite web|url=http://blog.chromium.org/2011/05/webp-in-chrome-picasa-gmail-with-slew.html|title=The Chromium Blog: WebP in Chrome, Picasa, Gmail With a Slew of New Features and Improvements|publisher=Google|date=2011-05-21|accessdate=2011-05-20|archive-date=2011-08-06|archive-url=https://web.archive.org/web/20110806165211/http://blog.chromium.org/2011/05/webp-in-chrome-picasa-gmail-with-slew.html|dead-url=no}}</ref>。

从2020年1月后发布的基于Chromium的Edge版本原生支持WebP格式。在此之前基于[[EdgeHTML|EdgeHTML]]的Edge版本则在除安全应用保护模式外，通过默认安装的平台扩展实现支持<ref>{{Cite web|title=WebP images won’t load in Microsoft Edge with Application Guard|url=https://www.ctrl.blog/entry/windows-webp-appguard.html|access-date=2021-07-18|date=2018-11-14|last=Aleksandersen|first=Daniel|work=www.ctrl.blog|language=en|archive-date=2021-07-28|archive-url=https://web.archive.org/web/20210728165423/https://www.ctrl.blog/entry/windows-webp-appguard.html}}</ref>

[[Firefox瀏覽器|Firefox]]和所有克隆自Firefox的浏览器（如[[苍月浏览器|Pale Moon]]和[[Waterfox|Waterfox]]等）瀏覽器亦在65.0版本起支援WebP圖像。<ref>{{cite web|title=Firefox 65 Release Note|url=https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/65|access-date=2019-01-29|archive-date=2021-12-15|archive-url=https://web.archive.org/web/20211215210147/https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/65}}</ref>

2020年9月，在[[iOS_14|iOS 14]]和[[macOS_Big_Sur|macOS Big Sur]]的[[Safari_14|Safari 14]]中加入了WebP支持。<ref name="safari-14">{{Cite web|title=Apple Developer Documentation - Safari 14 Release Notes|url=https://developer.apple.com/documentation/safari-release-notes/safari-14-release-notes|access-date=2021-05-13|website=developer.apple.com|archive-date=2021-05-14|archive-url=https://web.archive.org/web/20210514183054/https://developer.apple.com/documentation/safari-release-notes/safari-14-release-notes}}</ref>

在[[Linux|Linux]]中使用的[[GNOME_Web|GNOME Web]]和[[KDE|KDE]]圖片瀏覽器[[Gwenview|Gwenview]]也支援WebP。

此外所有可以原生播放[[WebM|WebM]]影像的瀏覽器，也可以透過javascript來顯示WebP影像<ref>{{Cite web|title=Weppy Demo: WebP in modern browsers today|url=http://antimatter15.github.com/weppy/demo.html|accessdate=2010-10-11|publisher=[[GitHub|GitHub]]|archive-url=https://web.archive.org/web/20110811135655/http://antimatter15.github.com/weppy/demo.html|archive-date=2011-08-11|dead-url=no}}</ref><ref>{{Cite web|title=Weppy: Javascript Shim for WebP on Chrome 6 and Firefox 4.0|url=http://antimatter15.com/wp/2010/10/weppy-javascript-shim-for-webp-on-chrome-6-and-firefox-4-0/|accessdate=2011-05-24|date=2010-10-03|work=Blog: this title probably isn't very original|publisher=antimatter15.com|archive-url=https://web.archive.org/web/20110113000446/http://antimatter15.com/wp/2010/10/weppy-javascript-shim-for-webp-on-chrome-6-and-firefox-4-0/|archive-date=2011-01-13|dead-url=no}}</ref>。不过在[[Internet_Explorer|Internet Explorer]] 6和以上版本中是通过[[Adobe_Flash|Flash]]实现的。

=== 图像软件 ===
圖像軟體當中，[[Picasa|Picasa]]（從3.9版本起）、{{le|PhotoLine}}<ref>{{cite web | url = http://www.pl32.com/pages/rnote18.php | title = Release notes Version 18.00 | work = pl32.com | accessdate = 2013-10-05 | archive-date = 2021-05-13 | archive-url = https://web.archive.org/web/20210513030725/https://pl32.com/pages/rnote18.php }}</ref>、[[Pixelmator|Pixelmator]]<ref>{{cite web | url = https://www.pcworld.com/article/206899/pixelmator_to_add_support_for_googles_webp_image_format.html | title = Pixelmator to Add Support for Google's WebP Image Format | publisher = [[International_Data_Group|IDG]] | work = [[PC_World_(magazine)|PC World]] | date = 2010-10-04 | accessdate = 2010-10-05 | last = David | first = Chartier }}{{Dead link}}</ref>、[[ImageMagick|ImageMagick]]、[[XnView|XnView]]、[[IrfanView|IrfanView]]、[[GDAL|GDAL]]<ref>{{cite web | url = http://www.gdal.org/frmt_webp.html | title = GDAL supported formats | work = gdal.org | publisher = GDAL - Geospatial Data Abstraction Library | accessdate = 2011-11-30 | archive-date = 2016-01-12 | archive-url = https://web.archive.org/web/20160112234811/http://www.gdal.org/frmt_webp.html }}</ref>、Aseprite和[[GIMP|GIMP]]（2.10起）皆原生支援WebP格式。

=== 系统 ===
蘋果在macOS Sierra及iOS 10的早期beta版本中加入了WebP支援。<ref name="Apple CNET">{{cite web|url=http://www.cnet.com/news/apple-ios-macos-tests-googles-webp-graphics-to-speed-up-web/|title=Apple tests Google graphics format to speed up websites|author=Stephen Shankland|publisher=CNET|date=2016-07-19|accessdate=2016-07-20|archive-date=2021-03-16|archive-url=https://web.archive.org/web/20210316151339/https://www.cnet.com/news/apple-ios-macos-tests-googles-webp-graphics-to-speed-up-web/}}</ref>而在2016年9月7日釋出的iOS 10和macOS Sierra GM種子版本中卻移除了WebP的支援。

=== 其他程序 ===
Gmail和Google 相册都支持 WebP。

[[Telegram|Telegram]] 将 WebP 用于他们的表情，声称它们的显示速度比消息应用程序中通常使用的其他格式快5倍<ref>{{Cite web|title=Stickers Done Right|url=https://telegram.org/blog/stickers|access-date=2022-01-29|date=2015-01-02|work=Telegram|archive-date=2022-04-29|archive-url=https://web.archive.org/web/20220429081519/https://telegram.org/blog/stickers}}</ref>。

==評論==
[[x264|x264]]的開發者之一：Jason Garrett-Glaser，針對WebP做出了幾點評論<ref name="j.g.glaser">{{Cite web|url=http://x264dev.multimedia.cx/?p=541|title=H.264 and VP8 for still image coding: WebP?|work=Diary Of An x264 Developer|date=2010-09-30|accessdate=2010-10-01|first=Jason|last=Garrett-Glaser|deadurl=yes|archiveurl=http://webarchive.loc.gov/all/20101127132637/http%3A//x264dev.multimedia.cx/archives/541|archivedate=2010-11-27}}</ref>，根據和其他編碼器（JPEG、x264、[[Theora|Theora]]）測試的結果，他認為WebP的影像品質是最差的，多數是在模糊度方面。他也評論Google應該等到WebP可以超越JPEG之後再發佈。不過在2011年4月20日，他提到新的WebP編碼器表現的非常好，超越JPEG指日可待。

== WebP 2 ==
WebP 2是Google自2021年6月起开发的新一代WebP。它的具体实现为<code>libwebp2</code>。这种新格式的主要目标是达到与[[AV1|AV1]]类似的压缩比，并同时保有更快的编码和解码速度<ref>{{Cite web|title=codecs/libwebp2 - Git at Google|url=https://chromium.googlesource.com/codecs/libwebp2/|access-date=2021-07-18|work=chromium.googlesource.com|archive-date=2021-03-25|archive-url=https://web.archive.org/web/20210325234423/https://chromium.googlesource.com/codecs/libwebp2/}}</ref>。

==相關條目==
* [[Multiple-image_Network_Graphics|MNG]]
* [[APNG|APNG]]
* [[WebM|WebM]]
* [[VP8|VP8]]
* [[JPEG_2000|JPEG 2000]]
* [[JPEG_XR|JPEG XR]]
* [[Better_Portable_Graphics|BPG]]

==參考文獻==
{{reflist|2}}

==外部連結==
{{commonscat|WebP file format|WebP格式}}
* {{Official|http://code.google.com/speed/webp/}}

{{多媒體壓縮格式}}
{{DEFAULTSORT:WebP}}
[[Category:有损压缩算法|Category:有损压缩算法]]
[[Category:图形文件格式|Category:图形文件格式]]
[[Category:影像科技|Category:影像科技]]
[[Category:Google|Category:Google]]
[[Category:开放源代码|Category:开放源代码]]