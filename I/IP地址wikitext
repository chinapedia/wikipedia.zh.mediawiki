{{refimprove|time=2014-11-22}}{{noteTA
|G1=IT
|1=zh-cn:IPv4地址; zh-tw:IPv4位址;
|2=zh-cn:IPv6地址; zh-tw:IPv6位址;
}}

'''IP地址'''（{{lang-en|IP Address}}，全称{{lang|en|Internet Protocol Address}}），又譯為'''网际协议地址'''、'''網際網路協定位址'''。是[[网际协议|网际协议]]中用于标识'''发送'''或'''接收[[数据报|数据报]]'''的设备的一串数字。<ref>{{Cite web|title=IP 地址简介 - Google 搜索帮助|url=https://support.google.com/websearch/answer/1696588?hl=zh-Hans|accessdate=2020-04-18|work=support.google.com|archive-date=2020-08-30|archive-url=https://web.archive.org/web/20200830033718/https://support.google.com/websearch/answer/1696588?hl=zh-Hans|dead-url=no}}</ref><ref name=":0">{{Cite web|title=IPv4 vs. IPv6: What’s the Difference?|url=https://www.avast.com/c-ipv4-vs-ipv6-addresses|accessdate=2020-04-18|work=IPv4 vs. IPv6: What’s the Difference?|language=en|archive-date=2020-05-18|archive-url=https://web.archive.org/web/20200518191308/https://www.avast.com/c-ipv4-vs-ipv6-addresses|dead-url=no}}</ref>

== 概述 ==
当设备连接网络，设备将被分配一个IP地址，用作标识。通过IP地址，设备间可以互相通讯，如果没有IP地址，我们将无法知道哪个设备是发送方，无法知道哪个是接收方。<ref name=":0" /> IP地址有两个主要功能：'''标识设备或网络'''和'''[[網路位址|寻址]]'''。

常見的IP位址分為 [[IPv4|IPv4]] 與 [[IPv6|IPv6]] 兩大類，IP地址由一串数字组成。[[IPv4|IPv4]]为32位长，通常书写时以四组十进制数字组成，并以点分隔，如：<code>172.16.254.1</code> ； [[IPv6|IPv6]]为128位长，通常书写时以八组十六进制数字组成，以冒号分割，如：<code>2001:db8:0:1234:0:567:8:1</code>。

== 功能 ==
IP地址有两个主要的功能：

# '''标识主机：'''更具体地说，标识其网络接口，并且提供主机在网络中的位置。
# '''网络寻址：'''[[网际协议|网际协议]]（缩写：IP）的一个重要机制就是网络寻址（{{lang-en|internet address}}）。该功能的目的是将[[数据报|数据报]]从一个网络模块送到目的地。在发送的整个过程，IP地址（address）充当着目的地的位置，[[域名|域名]]（name）意味着我们要找什么，[[路由|路由]]（route）代表着如何到达目的地的这个过程。<ref>{{Cite web|title=Internet Protocol（2.3.  Function Description）|url=https://tools.ietf.org/html/rfc791#section-2.3|accessdate=2020-03-15|author=|date=|last=Postel|first=J.|format=|work=tools.ietf.org|publisher=|language=en|archive-date=2011-07-17|archive-url=https://web.archive.org/web/20110717052432/http://tools.ietf.org/html/rfc791#section-2.3|dead-url=no}}</ref> 每个[[网际协议|IP数据包]]的标头包含了发送主机的IP地址和目的主机的IP地址。

== 历史 ==
1981年，[[IETF|IETF]]定义了32位IP地址的 [[IPv4|IPv4]] 。随着互联网的发展，网络位置（IPv4）渐渐被消耗殆尽，虽然当前的[[网络地址转换|网络地址转换]]及[[无类别域间路由|无类别域间路由]]等技术可延缓网络位置（IPv4）匮乏之现象，但为求解决根本问题，从1990年开始，[[互联网工程工作小组|互联网工程工作小组]]开始规划[[IPv4|IPv4]]的下一代协议，除要解决即将遇到的IP地址短缺问题外，还要发展更多的扩展，为此IETF小组创建IPng，以让后续工作顺利进行。1994年，各IPng领域的代表们于[[多倫多|多伦多]]举办的IETF会议中，正式提议'''IPv6'''发展计划，该提议直到同年的11月17日才被认可，并于1996年8月10日成为IETF的草案标准，最终IPv6在1998年12月由互联网工程工作小组以互联网标准规范（<nowiki>RFC 2460</nowiki>）的方式正式公布。

IP地址空间 是由'''[[互联网号码分配局|互联网号码分配局]]'''（英语：Internet Assigned Numbers Authority，简称：'''IANA'''）以及其他5个'''[[区域互联网注册管理机构|区域互联网注册管理机构]]'''（英语：Regional Internet Registry，简称：'''RIR'''）在其指定区域内分配给本地Internet注册表，例如'''[[互联网服务供应商|网络服务提供商]]'''（英语：Internet Service Providers，简称：[[互联网服务供应商|ISP]]）和其他最终用户。IPv4地址被IANA以块为单位分布给RIR，每个地址块大约为1680万个地址，但自2011年以来在IANA级别已用尽。在非洲，RIR中只有1个RIR仍然可以给当地分配。一些IPv4地址是为专用网络保留的，并不是全局唯一的。

== IP版本 ==
当今，Internet上普遍使用两种版本的Internet协议。Internet协议的原始版本于1983年在[[ARPANET|ARPANET]]（Internet的前身，中文：[[ARPANET|阿帕网]]）中首次部署，其版本是[[IPv4|Internet协议版本4]]（[[IPv4|IPv4]]）.

直到1990年代初，可供分配给[[互联网服务供应商|Internet服务器提供商]]（[[互联网服务供应商|ISP]]）和最终用户组织的IPv4地址空间迅速的消耗殆尽，促使[[互联网工程任务组|Internet工程任务组]]（[[互联网工程任务组|IETF]]）探索新的技术以扩展在Internet上的寻址能力。结果是对Internet协议进行重新设计，该协议最终在1995年被称为[[IPv6|Internet协议版本6]]（[[IPv6|IPv6]]）。IPv6技术处于各个测试阶段，一直到2000年代中期开始商业生产部署。

今天，这两个版本的[[网际协议|Internet协议]]（[[网际协议|网际协议]]）在同时使用。除了其他的技术性更改之外，每个版本对地址的格式定义都不同。由于IPv4的历史悠久，通用术语''IP地址''仍通常指IPv4定义的地址（即IPv4地址）。IPv4和IPv6之间的版本顺序差距是由1979年将版本5分配给实验性[[IPv5|Internet流协议]]而引发的，但是从未将其称之为[[因特网流协议|IPv5]]。

虽然定义了其他的协议版本，版本1（v1）到版本9（v9），但是只有v4和v6得到了广泛的使用，v1和v2是1974年和1977年的[[传输控制协议|TCP协议]]（[[传输控制协议|传输控制协议]]）的名称，因为当时IP规范是分开的。v3于1978年定义，而v3.1是TCP与IP分离的第一个版本。''v6是几个建议的版本的集合，其中包括v6 简单Internet协议，v7 TP/IX：下一个互联网，v8 PIP（P Internet协议）和v9 TUBA（[[传输控制协议|TCP]]&[[用户数据报协议|UDP]]和大的地址）。''

== 子网 ==
IP网络可以在[[IPv4|IPv4]]和[[IPv6|IPv6]]中划分[[子网|子网]]。为此，将IP地址识别成由两部分组成：网络前缀（高位）和其余的位（称为其余字段，主机标识符或者接口标识符（IPv6）），用于网络内的主机编号。[[子网掩码|子网掩码]]（subnet mask）或[[无类别域间路由|无类别域间路由]]（英语：Classless Inter-Domain Routing，简称：CIDR）表示法确定了IP地址如何分为网络部分和主机部分。

子网掩码一词仅用于IPv4地址中。但是，两个版本的IP地址都使用CIDR概念和符号。在此，在IP地址后面加斜杠和用于标识网络部分的位数（十进制），也称路由前缀。例如：IPv4地址及其子网掩码分别可以是 <code>192.0.2.1</code> 和 <code>255.255.255.0</code> 。因为IP地址的前24位表示网络和子网，所以相同的IP地址和子网的CIDR表示法为<code>192.0.2.1/24</code>。

==IPv4==
{{main|IPv4}}
IP地址由32位[[二进制|二进制]]数组成，为便于使用，常以XXX.XXX.XXX.XXX形式表现，每组XXX代表小于或等于255的10进制数，该表示方法称为点分十进制。例如[[維基媒體|維基媒體]]的一个IP位址是208.80.152.2。位址可分为A、B、C、D、E五大类，其中'''E类'''属于特殊保留地址。

IP地址是唯一的。目前IPv4技术可能使用的IP地址最多可有4,294,967,296個（即2<sup>32</sup>）。看上去像是很难会用尽，但由于早期编码和分配上的問題，很多区域的编码实际上被空出或不能使用。加上互联网的普及，使大部分家庭都至少有一部电脑，连同公司的电脑，以及连接网络的各种设备都消耗大量IPv4地址资源。

隨著[[互聯網|互聯網]]的快速成長，IPv4的42億個地址最終於2011年2月3日用尽<ref name="sohuIT">{{cite web | url=http://it.sohu.com/20110202/n279200756.shtml | title=ICANN将宣布IPv4地址耗尽全球进入IPv6时代 | publisher=搜IT | work=赵秀芹 | date=2011年2月2日 | accessdate=June 22, 2011 | author=柯山 | archive-date=2011年2月6日 | archive-url=https://web.archive.org/web/20110206165411/http://it.sohu.com/20110202/n279200756.shtml | dead-url=no }}</ref><ref>{{cite web |url=http://twitter.com/theiana/status/33170437856825344 |title=102, 103, 104, 179 and 185 have been allocated. No unicast IPv4 /8s remain unallocated. |author=IANA |date=2011-02-03 |accessdate=2011-02-03 |archive-date=2011-02-07 |archive-url=https://web.archive.org/web/20110207013420/http://twitter.com/theiana/status/33170437856825344 |dead-url=no }}</ref>。相应的科研组织已研究出128位的[[IPv6|IPv6]]，其IP位址数量最高可达3.402823669 × 10<sup>38</sup>个，屆時每個人家居中的每件電器，每件物件，甚至地球上每一粒沙子都可以擁有自己的IP位址。

在A类、B类、C类IP地址中，如果主机号是全1，那么这个地址为直接广播地址，它是用来使路由器将一个分组以广播形式发送给特定网络上的所有主机。[[32位|32位]]全为1的'''IP地址'''「255.255.255.255」为'''受限广播地址'''（"limited broadcast" destination address），用来将一个分组以广播方式发送给本[[电脑网络|网络]]中的所有[[网络主机|主机]]，[[路由器|路由器]]则阻挡该分组通过，将其广播功能限制在本网内部。
{| class="wikitable mw-collapsible"
|+IPv4地址分类
!
!'''A类IPv4地址'''
!'''B类IPv4地址'''
!'''C类IPv4地址'''
!'''D类IPv4地址'''
!'''E类IPv4地址'''
|-
!'''网络标志位'''
|0
|10
|110
|1110
|11110
|-
!'''IP地址范围'''
|0.0.0.0~127.255.255.255
|128.0.0.0~191.255.255.255
|192.0.0.0~223.255.255.255
|224.0.0.0~239.255.255.255
|240.0.0.0~247.255.255.255
|-
!'''可用IP地址范围'''
|1.0.0.1~127.255.255.254
|128.0.0.1~191.255.255.254
|192.0.0.1~223.255.255.254
|
|
|-
!'''是否可以分配给主机使用'''
|是
|是
|是
|否
|否
|-
!'''网络数量（个）'''
|126   (2<sup>7</sup>-2)
|16384   (2<sup>14</sup>)
|2097152   (2<sup>21</sup>)
| ---
| ---
|-
!'''每个网络中可容纳主机数（个）'''
|16777214   (2<sup>24</sup>-2)
|65534   (2<sup>16</sup>-2)
|254   (2<sup>8</sup>-2)
| ---
| ---
|-
!'''适用范围'''
|大量主机的大型网络
|中等规模主机数的网络
|小型局域网
|留给Internet体系结构委员会(IAB)使用【组播地址】
|保留，仅作为搜索、Internet的实验和开发用
|-
!备注
|0.0.0.0为特殊地址，表示本网主机
|
|
|
|255.255.255.255为特殊地址，用于定向广播
|}
'''说明：D类与E类IPv4地址不区分网络地址与主机地址'''
{| class="wikitable"
|+特殊IP地址
!网络号
!主机号
!是否可以作为源地址
!是否可以作为目的地址
!备注/描述
|-
|全为0
|全为0
|允许
|禁止
|表示本网主机
|-
|全为0
|Host ID
|允许
|禁止
|表示特定主机
|-
|全为1
|全为1
|禁止
|允许
|定向广播地址
|-
|127
|任意合法的值
|允许
|允许
|迂回地址，用于本地测试
|-
|Network ID
|全为1
|禁止
|允许
|直接广播地址
|}

==== 子网划分的历史 ====
在Internet协议开发的早期阶段，网络号始终是最高阶的八位元组（最高且有效的八位）。由于此方法仅允许256个网络使用，因此很快被证明这样是不够的，因为所开发的其他网络都独立于已经由网络号指定的现有网络。1981年，随着[[分类网络|分类网络]]体系结构的引入，对寻址规范进行了修订。<ref>{{Cite web|title=RFC791 Internet Protocol|url=https://tools.ietf.org/html/rfc791|accessdate=2020-08-26|last=Postel|first=J.|work=tools.ietf.org|language=en|archive-date=2011-07-17|archive-url=https://web.archive.org/web/20110717052432/http://tools.ietf.org/html/rfc791|dead-url=no}}</ref>

一流的网络设计允许进行大量的单独网络分配和细颗粒的子网设计。IP地址的最高的有效的八位元组的前三位被定义为地址的''类别位。''为通用[[單播|单播]]寻址定义了三个类别（A类、B类和C类）。根据派生的类，网络标识基于整个地址的八位字节边界段。每个类别在网络标识符中依次使用其他八位元组，从而减少高阶类别（B类和C类）中的主机数量。上表概述了这个过时的系统。

分类网络的设计在Internet启用阶段就达到了这个目的，但是对于20世纪90年代的网络的迅速发展，它缺乏可扩展性。地址空间的类系统在1993年被[[无类别域间路由|无类别域间路由]]（[[无类别域间路由|CIDR]]）取代。[[无类别域间路由|CIDR]]基于可变长子网掩码（VLSM），允许基于任意长度前缀来分配以及路由。当今，分类网络的残余概念仅仅在有限的范围内用于某些网络的软件和硬件（例如[[子网掩码|子网掩码]]）的默认配置参数，以及用于网络管理员们讨论中使用的术语。


==IPv6==
{{main|IPv6}}
===IP编址===
从IPv4到IPv6最显著的变化就是网络地址的长度。RFC 2373和RFC 2374定义的IP地址，就像下面章节所描述的，有128位长；IP地址的表达形式，一般采用32个十六进制数。

IP中可能的地址有2<sup>128</sup>≈3.4×10<sup>38</sup>个，具体数量为340,282,366,920,938,463,463,374,607,431,768,211,456（即16<sup>32</sup>)，因为32位地址每位可以取16个不同的值。
在很多场合，IP地址由两个逻辑部分组成：一个64位的网络前缀和一个64位的主机地址，主机地址通常根据物理地址自动生成，叫做EUI-64（或者64-位扩展唯一标识）。

=== 私有地址 ===
就像IPv4为专用的网络保留的地址一样，在IPv6中也有被预留的地址。在IPv6中，这些地址被称为唯一本地地址（ULA）。路由前缀：''fc00::/7'' 就是为这个块保留的，且被分为2个 ''/8'' 块，都具有不同的隐藏策略。这些地址包括一个40位的伪随机数，如果站点合并或者数据包被错误的路由，则可以将地址冲突的风险降到最低。

== IP地址的分配 ==
IP地址是在主机加入网络时动态分配的，还是通过主机硬件/软件的配置永久分配给主机的。永久性的配置也称为使用'''静态IP地址'''。相反，在每次重新启动时分配的IP地址，称为使用'''动态IP地址。'''

动态IP地址是通过网络使用[[动态主机设置协议|动态主机配置协议（DHCP）]]分配的。DHCP是分配地址最常用的技术。它避免了为网络上的每台设备分配特定静态地址的管理负担。如果某些设备在特定的时间处于联机状态，它还允许设备共享网络上有限的地址空间。通常，在现代的台式计算机操作系统中，默认情况下会启用动态IP地址分配。

DHCP分配的地址于租约相关联，并且一般都是具有有效期。如果主机在到期前未能续订租约，则可以将该地址分配给其他设备中的一台设备。某些DHCP实现会在主机每次加入网络时根据其[[MAC地址|MAC地址]]尝试将相同的IP地址重新分配给该主机。网络管理员可以通过基于MAC地址分配特定的IP地址来配置DHCP。

DHCP并不是唯一一种动态IP地址分配技术。Bootstrap协议是DHCP的类似协议和前身。拨号和某些宽带网络使用[[点对点协议|点对点协议]]的动态地址功能。

用于网络设施的计算机和设备（例如：[[路由器|路由器]]或者邮件服务器等），通常配置为静态地址分配。

在动态或者静态地址分配失效的情况下，操作系统可以将无状态地址自动配置，将链接本地的地址分配给主机。

== 参见 ==

* RFC 791
* [[网际协议|IP协议（网际协议）]]

==参考资料==
{{reflist}}

==參見==
*[[分类网络|分类网络]]
*[https://ipip.net ipip.net]{{Wayback|url=https://ipip.net/ |date=20180617112433 }} 通常IP库较新
*[https://lite.ip2location.com IP2Location LITE]{{Wayback|url=https://lite.ip2location.com/ |date=20200912083057 }} 通用国际版IP库
*[http://www.ip138.com IP138]{{Wayback|url=http://www.ip138.com/ |date=20200922195206 }}

==外部連結==
* {{Dmoz}}

[[Category:网际协议|Category:网际协议]]
[[Category:网络层协议|Category:网络层协议]]
[[Category:網路結構|Category:網路結構]]
[[Category:網路定址|Category:網路定址]]