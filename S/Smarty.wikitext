{{Infobox Software
| name = Smarty Templates
| logo = [[File:smarty-logo.gif|File:smarty-logo.gif]]
| developer = Monte Ohrt, Messju Mohr
| latest_release_version = 3.1.27 
| latest_release_date = {{Release date and age|2015|06|19|df=yes}}<ref>{{Cite web |url=https://github.com/smarty-php/smarty/blob/v3.1.27/change_log.txt |title=存档副本 |accessdate=2015-08-07 |archive-date=2019-02-17 |archive-url=https://web.archive.org/web/20190217231514/https://github.com/smarty-php/smarty/blob/v3.1.27/change_log.txt |dead-url=no }}</ref>
| genre = [[網頁模板引擎|網頁模板引擎]]
| license = [[LGPL|LGPL]]
| website = [http://smarty.net smarty.net]
}}

'''Smarty'''是一個[[PHP|PHP]]下的[[網頁模板|網頁模板]]系統。Smarty基本上是一種為了將不同考量的事情分離而推出的工具，這對某些應用程式是一種共通性設計策略。<ref>Smarty將[[PHP|PHP]]碼（{{link-en|事務邏輯|Business logic}}）與 [[HTML|HTML]]碼分開（通常代表{{link-en|表現邏輯|Presentation logic}}）.</ref><ref name="Parr000">{{cite book 
        | first = Terence John
        | last = Parr
        | title = Enforcing strict model-view separation in template engines
        | publisher = Proceedings of the 13th international conference on World Wide Web
        | year = 2004
        | id = 1-58113-844-X
        }}</ref>

== 簡介 ==
Smarty以在文件中放置特殊的「Smarty標籤」來產生網頁內容。這些標籤會被處理並替換成其他的內容。

標籤是給Smarty的指令符，以模板[[定界符|定界符]]包住。這些指令符可以是[[變數|變數]]，以$符號代表函數、[[條件式語法|邏輯]]或 [[流程控制|流程控制]]語法。Smarty允許PHP程式設計師以Smarty標籤去定義可存取的函數。

Smarty意圖簡化[[區域化|區域化]]，允許PHP網頁後端邏輯與表現層（即[[使用者介面|使用者介面]]）分離。理想的情況下，這將降低軟體維護費用和人力。在這個研發策略之下，設計師可專注於實現表現層而不用撰寫PHP程式碼，並允許PHP程式設計師抽離出表現層並專注實現後端邏輯。

Smarty支援幾個高階模板程式的特性，包含：
* [[正則表達式|正規表示法]]
* [[流程控制|流程控制]]語法，如foreach、while。
* [[Control_flow#Choice|if]]，elseif，else
* 可修改的變數 - 例如{$variable|nl2br}
* 使用者自訂的函數
* 在模板內的數學計算

以及其他特性。一些其他的[[網頁|模板引擎]]也支援這類特性。

== 程式碼範例 ==

因為 Smarty將 HTML碼與PHP程式碼分離，所以會有兩個檔案：
<syntaxhighlight lang="html4strict">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
<head>
   <title>{$title_text}</title>
   <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
</head>

<body> {* This is a little comment that won't be visible in the HTML source *}

<p>{$body_text}</p>

</body><!-- this is a little comment that will be seen in the HTML source -->
</html>
</syntaxhighlight>

在企業邏輯程式碼中，設計者能配置Smarty去使用這個模板：
<syntaxhighlight lang="php">
define('SMARTY_DIR', 'smarty-2.6.9/' );
require_once(SMARTY_DIR . 'Smarty.class.php');

$smarty = new Smarty();
$smarty->template_dir = './templates/';
$smarty->compile_dir = './templates/compile/';
$smarty->cache_dir = './templates/cache/';
$smarty->caching = false;
$smarty->error_reporting = E_ALL; // LEAVE E_ALL DURING DEVELOPMENT
$smarty->debugging = true;

$smarty->assign('title_text', 'TITLE: This is the Smarty basic example ...');
$smarty->assign('body_text', 'BODY: This is the message set using assign()');

$smarty->display('index.tpl');
</syntaxhighlight>

並且能將PHP包涵在Smarty模板裡，像是下面這樣：
<syntaxhighlight lang="php">
{* We can use PHP syntax in smarty template inside {php} ..{/php} *}
{php} 
$contentType = strpos($_SERVER['HTTP_ACCEPT']，'application/xhtml+xml') === false ? 'text/html' : 'application/xhtml+xml';
header("Content-Type: $contentType; charset=utf-8"); 
{/php}
<html>
<head>
<title>{$page_title}</title>
</head>
<body>
   {$body_text}
</body>
</html>
</syntaxhighlight>

== 參照 ==
{{reflist}}

== 參見 ==
* [[內容管理系統|內容管理系統]]

== 外部連結 ==
=== 英文 ===
* [http://www.smarty.net/ Official site]{{Wayback|url=http://www.smarty.net/ |date=20111217045032 }}
* [https://web.archive.org/web/20061207024654/http://www.zend.com/zend/tut/tutorial-cezar.php ''PHP Templating with Smarty''] by Cezar Floroiu - Smarty tutorial
* [http://www.devpapers.com/article/18 ''Smarty vs. XML/XSLT'']{{Wayback|url=http://www.devpapers.com/article/18 |date=20070526053351 }} - from DevPapers.com by Sergey Makogon
* [http://hasin.wordpress.com/2006/06/10/smarty-cheat-sheet-version-20/ Smarty Cheat Sheet]{{Wayback|url=http://hasin.wordpress.com/2006/06/10/smarty-cheat-sheet-version-20/ |date=20070715121241 }} Smarty Cheat Sheet for Templates Designers and Programmers
* [https://web.archive.org/web/20070627161639/http://www.timestretch.com/php_intro/?page=smarty Timestretch: ''PHP, MySQL, and Smarty Programming''] - Also see the PHP2 page for more.
* [http://www.nusphere.com/products/php_smarty.htm PHP Smarty Tools]{{Wayback|url=http://www.nusphere.com/products/php_smarty.htm |date=20070820043923 }} - Using Smarty in PhpED

=== 中文 ===
* [https://web.archive.org/web/20170212091000/http://jaceju.net/2005-06-08-getting-started-with-smarty/ Smarty入門]
* [http://www.ecstart.com/ebook/SMARTYTEMPLATE_BIG5/ Smarty使用手冊]{{Wayback|url=http://www.ecstart.com/ebook/SMARTYTEMPLATE_BIG5/ |date=20071010131700 }}
* [https://web.archive.org/web/20110215200723/http://www.leapsoul.cn/?p=405 Smarty使用教程]

[[Category:PHP|Category:PHP]]
[[Category:網頁模板引擎|Category:網頁模板引擎]]