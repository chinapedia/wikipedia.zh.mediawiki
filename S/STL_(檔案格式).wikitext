{{copyedit|time=2016-09-04T11:32:56+00:00}}
{{TA|G1=IT}}
{{Infobox file format
| name = STL
| icon = 
| logo = 
| screenshot = The differences between CAD and STL Models.svg
| caption = STL vs [[電腦輔助設計|CAD]] 格式的例子。STL提供的是小面湊出來的近似面（黑實線），CAD要的是曲面（紅虛線）。CAD常用[[NURBS|NURBS]]來達到近似的曲面。
| extension = .stl
| mime = 
| type code = 
| uniform type = 
| magic = 
| owner = {{le|3D Systems軟體公司|3D Systems}}
| released = 
| latest release version = 
| latest release date = 
| genre = [[立體光刻|立體光刻]]
| container for = 
| contained by = 
| extended from = 
| extended to = 
| standard = 
| url = 
}}

'''STL'''（STereoLithography，譯作：'''立體光刻'''）是由{{le|3D Systems軟體公司|3D Systems}}創立，原本用於[[立體光刻|立體光刻]][[電腦輔助設計|電腦輔助設計]][[軟體|軟體]]的[[檔案格式|檔案格式]]<ref>{{Citation |title=StereoLithography Interface Specification |date=July 1988 |publisher=3D Systems, Inc.}}</ref><ref>{{Citation |title=StereoLithography Interface Specification |date=October 1989 |publisher=3D Systems, Inc.}}</ref><ref>{{Citation |title=SLC File Specification |year=1994 |publisher=3D Systems, Inc.}}</ref>。它有一些[[逆向首字母缩略词|逆向首字母缩略词]]如「標準三角語言」（Standard Triangle Language）、「標準[[密鋪#在電腦圖形中|曲面細分]]語言」（Standard Tessellation Language）、「立體光刻語言」（STereolithography Language）和「立體光刻曲面細分語言」<ref>{{citation |title=User's Guide to Rapid Prototyping |first=Todd |last=Grimm |url=https://books.google.com/books?id=o2B7OmABPNUC&pg=PA55&lpg=PA55&f=false |page=55 |publisher={{le|Society of Manufacturing Engineers|SME (society)}} |date=2004 |isbn=0-87263-697-6 |accessdate=2016-07-13 |archive-date=2016-04-08 |archive-url=https://web.archive.org/web/20160408034305/https://books.google.com/books?id=o2B7OmABPNUC&pg=PA55&lpg=PA55&f=false |dead-url=no }}. 這格式有許多名字，如："Standard Triangle Language"、"STereolithography Language"和"Stereolithography Tesselation Language"。第55頁陳述：「立體光刻和3D Systems軟體公司的創立人{{le|Chuck Hull|Chuck Hull}}說：『這副檔名是因為STereoLithography。』」</ref>。許多套裝軟體支援這種格式，它被廣泛用於[[快速成型|快速成型]]、[[3D列印|3D列印]]和[[電腦輔助製造|電腦輔助製造]]<ref>{{Citation |last1=Chua |first1=C. K |last2=Leong |first2=K. F. |last3=Lim |first3=C. S. |title=Rapid Prototyping: Principles and Applications |edition=2nd |year=2003 |publisher=World Scientific Publishing Co |isbn=981-238-117-1}}第6章，快速原型格式(Rapid Prototyping Formats)。第237頁6.2節STL檔問題、6.4節STL檔修復：「STL (STeroLithography)檔，如事實上的標準，已被廣泛（即使不是全部）使用在快速原型系統。("The STL (STeroLithography) file, as the de facto standard, has been used in many, if not all, rapid prototyping systems.")」</ref>。STL檔案僅描述[[三維|三維]]物體的[[表面|表面]]幾何形狀，沒有[[顏色|顏色]]、[[材質貼圖|材質貼圖]]或其它常見[[三維模型|三維模型]]的屬性。STL格式有[[ASCII|文字]]和[[二進碼|二進碼]]兩種型式。二進碼型式因較簡潔而較常見。<ref name="burns">{{cite book | author=Burns, Marshall | title=Automated Fabrication | publisher=Prentice Hall | year=1993 | isbn=978-0-13-119462-5}}</ref>

STL檔描述原始非結構化{{le|三角網格|Triangulation (geometry)|}}由表面[[單位向量|單位]][[法線|法線]]和由[[右手定則|右手定則]]排序的[[頂點_(電腦圖學)|頂點]]用三維三角形[[笛卡兒座標系|笛卡兒座標系]]。STL座標必須是[[正數|正數]]，沒有尺度資訊，且[[計量單位|計量單位]]為任意的。<ref>Fabbers.com, The StL Format: Standard Data Format for Fabbers, reprinted from Marshall Burns, Automated Fabrication, http://www.ennex.com/~fabbers/StL.asp {{Wayback|url=http://www.ennex.com/~fabbers/StL.asp |date=20150516051304 }} 描述：「所代表的對象必須位於全正的[[卦限|卦限]]。換言之，所有的頂點坐標必須是正數（非負且非零）。STL檔不含任何尺度信息；計量單位為任意的。(The object represented must be located in the all-positive octant. In other words, all vertex coordinates must be positive-definite (nonnegative and nonzero) numbers. The StL file does not contain any scale information; the coordinates are in arbitrary units.)</ref>

== 文字(ASCII)STL ==
文字STL檔以下列來開始

 solid ''name''

''name''是個可有可無的[[字串|字串]]。不過，即使省略了''name''，solid後的空白必須存在。這列之後跟著任意數量的以下列方式表示的三角形：

 facet normal ''n<sub>i</sub> n<sub>j</sub> n<sub>k</sub>''
     outer loop
         vertex ''v''1<sub>''x''</sub> ''v''1<sub>''y''</sub> ''v''1<sub>''z''</sub>
         vertex ''v''2<sub>''x''</sub> ''v''2<sub>''y''</sub> ''v''2<sub>''z''</sub>
         vertex ''v''3<sub>''x''</sub> ''v''3<sub>''y''</sub> ''v''3<sub>''z''</sub>
     endloop
 endfacet

當中，每個''n''或''v''都是正負-{{le|假數|Significand}}-"e"-正負-[[冪數|冪數]]型式的[[浮點數|浮點數]]，如"2.648000e-002"（注意：每個''v''都必須不是負數）。檔案以

 endsolid ''name''

來結束。格式結構暗示其他可能的存在（如，不只一個loop定義同一個小面({{le|facet|Face (geometry)}})，或一個loop具有三個以上頂點）。然而在實踐中，所有小面都是簡單三角形。

除了數字或單詞內以外，檔案中任何地方都可使用[[空白字元|空白字元]](空格、tab、換列)。"facet"和"normal"以及"outer"和"loop"之間的空白是必要的。<ref name="burns"/>

==二進碼 STL==
由於文字STL檔會非常大，因此有二進碼版的STL。二進碼STL檔有個80[[字元|字元]]的[[信頭|檔頭]]（內容通常都被忽略但絕不可用"solid"來開始！這樣會使不少軟體認為這是文字STL檔）。接著是一個4[[字节|字节]]{{le|無號整數|Signedness}}，它表示這檔案中的[[三角形|三角形]]數。再來是描述每個三角形的資訊。之後就結束。

每個三角形以12個32位元浮點數來描述：3個描述法線，接著三頂點的X/Y/Z座標─正如文字STL一樣。之後是一個2[[字节|字节]]無號整數(unsigned short)，它代表「屬性字元數」─在標準格式中它該是0，因為多數軟體不明白其它事項。<ref name="burns"/>

雖然文件內沒有說明，浮點數以[[位元組順序#小端序|little-endian]]的[[IEEE_754|IEEE 754]]表示。

 UINT8[80] – Header
 UINT32 – Number of triangles
 <br>
 foreach triangle
 REAL32[3] – Normal vector
 REAL32[3] – Vertex 1
 REAL32[3] – Vertex 2
 REAL32[3] – Vertex 3
 UINT16 – Attribute byte count
 end

==二進碼STL的顏色==

二進碼STL至少有兩種非標準方式來加上顏色資訊：

* [[VisCAM|VisCAM]]和[[SolidView|SolidView]]軟體用每個三角形後的2個「屬性字元數」存放15位元[[RGB|RGB]]色碼：
** 位元 0到 4是藍的強度(0~31)。
** 位元 5到 9是綠的強度(0~31)。
** 位元10到14是紅的強度(0~31)。
** 位元15是1表顏色有效；0表無效（同正常的STL檔）。

*[[Materialise_Magics|Materialise Magics]]軟體用開頭的80位元檔頭表示模型整體顏色。若有使用顏色，檔頭某處會是文字字串"COLOR="接著4[[字节|字节]]的[[三原色光模式|RGB]]A(透明度)，[[值域|值域]]為0–255。這是整個模型的顏色，每個小面可以另外指定。這軟體還可以指定更詳細的表面特性，即{{le|物質(電腦圖形)|Material (computer graphics)}}。在"COLOR=RGBA"後可加上ASCII字串",MATERIAL="，接著3顏色(3×4位元)：
先是[[漫反射|漫反射]]的顏色，第二個是{{le|反射高光|Specular highlight}}顏色，第三是[[浓淡处理#环境光|環境光]]。物質設置優於顏色。每個小面的顏色是用三角形後的2個「屬性字元數」以下列方式來存放：
** 位元 0到 4是紅的強度(0~31)。
** 位元 5到 9是綠的強度(0~31)。
** 位元10到14是藍的強度(0~31)。
** 位元15是0表用小面顏色；1表用模型顏色。

上述兩種小面顏色資訊中，2位元裡的紅/綠/藍順序相反，因此，雖然這些格式容易相容，反序表示並非如此！更糟的是：通用的STL讀取器不能自動分別它們！也無法指定小面有透明度！因為沒有α值！雖然對目前的快速原型機而言，這不重要。

==小面法線==
文字(ASCII)和二進碼版的STL，'''小面法線'''必項是指向模型外部的[[單位向量|單位向量]]。若設為(0,0,0)，多數軟體會自動以三角形三頂點的順序根據'''右手定則'''計算法線。一些STL讀取器（如：[[Art_of_Illusion|Art of Illusion]]的STL外掛)會檢查小面的法線與它們用右手定則算出來的相符。若不同，會警告使用者。有的軟體會完算用自己根據右手定則算的。雖然可以不使用右手定則來計算法線的情況罕見，為了完全相容，文件都應提供小面法線及正確指定頂點順序。一個出名的例外是[[SolidWorks|SolidWorks]]，它用法線當[[濃淡處理|濃淡處理]]。

==歷史==

立體光刻機是能用一系列切片來構建任何體積形狀的[[3D列印|3D列印]]機。這些機器需要一系列用凝固材料填充在封閉的2D輪廓中，最後再與各層熔合在一起。對這樣的機器而言，自然的文件格式是一系列對應不同Z值的封閉的多邊形。然而，因為改變層的厚度可能會得到更快（雖然不太精確）的構建，若能以'''可在必要水平切片'''的'''封閉[[多面體|多面體]]'''來定義模型，會更好。

STL檔案格式看似能用多邊形來定義多面體，但在實用上它只被用過三角形。這表示ASCII協定的語法是多餘的。

要能正確組成3D體，STL檔表示的表面必須是封閉同相連的,且每個邊都正好是二個三角形的一部份，且沒有交叉。
由於STL語法對此屬性不嚴緊，應用程式能忽視其封閉性。

作為切片的該軟件的封閉性僅事項只要三角形需要它以確保所得到的二維的多邊形是封閉的。對'''切片三角形後須確保所得到的2D多邊形是封關閉'''的軟體而言，封閉性才會重要。這類軟體有時會移動接近的[[頂點_(電腦圖學)|頂點]]到同一位置，來清理小的差異。結果是不可預測的，但它往往足夠。

==其它使用領域==
STL檔案格式簡單且容易輸出。因此，許多[[電腦輔助設計|電腦輔助設計]](CAD)系統能輸出STL檔案格式。雖然輸出簡單產生，一些[[聯結性資訊|聯結性資訊]]卻被丟棄！例如：A和B在CAD系統是相異、但座標恰好相同的兩點。STL只輸出點的座標，因此點A和B在STL就有同的表示。還存在其他的問題。

許多[[電腦輔助製造|電腦輔助製造]](CAM)系統必須是三角形化的模型。STL檔案格式不是記憶體和計算上最有效轉換資料的方法，但STL常被CAM系統用於輸入三角化的幾何。這格式隨手可得，所以CAM系統用它。為了使用資料，CAM系統可能要重建連接性。重建會導致誤差。<!-- 一些FEM系統在尋找模型誤差上做了很多工作。英文版就Rem了，原因不詳，也找不到 FEM 是什麼。-->

STL也能在CAD、CAM和計算環境（如：[[Mathematica|Mathematica]]）間交換資料。

==支援STL的軟體==
* [[Clara.io|Clara.io]], [[線上|線上]]免費STL檔案輸入、編輯、輸出的3D編輯器。
* [[CloudCompare|CloudCompare]], 處理STL檔的開源應用軟體。
* [[Maple_(software)|Maple (software)]]和[[Mathematica|Mathematica]], 支援STL檔的技術計算系統。
* [[MeshLab|MeshLab]], 視覺化、處理、且轉換3D網模進/出STL的[[免費軟體|免費]]、[[開源軟體|開源]]且跨平台的應用軟體。
* [[FreeCAD|FreeCAD]], 能輸入、輸出STL檔的CAD[[開源軟體|開源軟體]]。
* [[OpenSCADE|OpenSCADE]], [[構造實體幾何|構造實體幾何]][[三維模型|建模]]且支援[[專門領域用語言|專門領域用語言]]，能產生及輸入STL檔。
* [[MountainsMap|MountainsMap]], 能以STL輸出{{le|輪廓|profilometer}}及細微3D表面的[[測繪學|微測繪學]]軟體。

==參見==
* {{le|Additive Manufacturing檔案格式|Additive Manufacturing File Format}} (AMF), 一個自然支援顏色、多種物質和星座的較新標準。
* [[PLY|PLY]], 一個比多數立體光刻規格提供更彈性的格式。
* [[Wavefront_.obj文件|Wavefront .obj文件]], 一個副檔名為''.obj''的3D幾何定義檔案格式。
* [[X3D|X3D]], 免專利費的三維電腦圖形ISO標準。

==參考資料==
{{Reflist|30em}}

==外部連結==
* [http://www.fabbers.com/tech/STL_Format The StL Format]{{Wayback|url=http://www.fabbers.com/tech/STL_Format |date=20200917211707 }}: Fabbers的標準資料格式。
* [http://fileextension.info/file/stl File Extension STL]{{Wayback|url=http://fileextension.info/file/stl |date=20160703000715 }}: 支援STL的軟體列表。

{{CAD軟體}}

[[Category:電腦圖學|Category:電腦圖學]]
[[分類:文件格式|分類:文件格式]]
[[分類:3D列印|分類:3D列印]]
[[分類:CAD文件格式|分類:CAD文件格式]]
[[分類:三維計算機圖形學|分類:三維計算機圖形學]]
[[分類:圖形文件格式|分類:圖形文件格式]]