{{Otheruses|subject=计算机中的Hosts文件|other=修改Hosts文件访问维基百科的用法|Help:如何访问维基百科#Hosts文件}}
{{refimprove|time=2020-03-13T13:49:58+00:00}}

{{noteTA
|T=zh:域名解析文件;zh-cn:Hosts文件;zh-tw:Hosts檔案;
|G1=IT
|1=zh-cn:文件;zh-tw:檔案;
|2=zh-cn:网络;zh-hk:網絡;zh-tw:網路;
}}

'''Hosts文件'''是一个没有[[扩展名|扩展名]]的[[操作系统|操作系统]][[文件|文件]]，以[[表|表]]的形式存储了[[主機名稱|主机名]]和[[IP地址|IP地址]]的[[映射|映射]]关系<ref name=":0">{{Cite web|title=hosts(5) — manpages — Debian stretch — Debian Manpages|url=https://manpages.debian.org/stretch/manpages/hosts.5.en.html.gz|accessdate=2020-03-12|work=manpages.debian.org}}</ref>。Hosts又称host table，译为“主机表”。现代系统中，虽然[[域名系统|DNS]]取代了主机表，但主机表的应用依旧很广<ref name=":0"/>。和[[域名系统|DNS]]不同的是，用户可以直接对Hosts文件进行控制。

== 用途 ==
Hosts文件是大多数系统都存在的一个小型主机表。Hosts文件中包含了本地网络重要的主机名和地址信息，查询Hosts文件得到的结果比通过查询[[域名系统|DNS]]得到的结果优先级更高。<ref name=":0"/>

=== 衍生用途 ===
Hosts文件也可以用于其它情况，例如可以将已知的广告服务器重定向到无广告的机器（通常是本地网络地址，如： [[Localhost|127.0.0.1]]）以过滤[[网络广告|广告]]。使用Hosts文件还可以减少对DNS服务器的查询次数以加快访问网站的速度。

Hosts文件的另一个重要用途就是用于拦截一些恶意网站的请求，从而防止访问欺诈网站、感染[[计算机病毒|病毒]]或[[恶意软件|恶意软件]]。

在面对[[网络审查|网络审查]]的技术机制下，Hosts也被利用来处理因[[域名服务器缓存污染|域名服务器缓存污染]]而对访问域名的地址解析进行修正，或者涉及域名与IP地址关系的技术调整等。

== 历史 ==
最初在[[Internet|Internet]]的前身[[ARPANET|ARPANET]]中，其成员{{tsl|en|SRI International}}手动维护并分享了一个名为HOSTS.TXT的文件，其中就包括主机名称和对应地址。1983年[[DNS|DNS]]系统开始开发，1984年得到了发展<ref name="BIND Home Page">{{cite web|title=The Most Widely Used Name Server Software: BIND|url=http://www.isc.org/downloads/bind/|accessdate=28 July 2013|author=Internet Systems Consortium|at=History of BIND|archive-url=https://web.archive.org/web/20160102190159/http://www.isc.org/downloads/bind/|archive-date=2016-01-02|dead-url=yes}}</ref>。在网络快速的发展过程中，可以自动提供动态的主机名解析。不过在现代操作系统中，Hosts文件仍然是一个可以作为备用手段的名称解析机制。

== 平台差异 ==
Hosts文件在不同[[操作系统|操作系统]]中的位置如下表所示：
{| class="wikitable"
|-
! 操作系统
! 版本
! 路径
|-
| [[Unix|Unix]]、[[类Unix系统|类Unix系统]]（例如[[Linux|Linux]]等）
|
| <code>/etc/hosts</code>
|-
|rowspan="3" |[[Microsoft_Windows|Microsoft Windows]]
| [[Windows_3.1x|3.1]]
| <code>[[环境变量|%WinDir%]]\HOSTS</code>
|-
| [[Windows_95|95]]、[[Windows_98|98]]、[[Windows_Me|ME]]
| <code>%WinDir%\hosts</code>
|-
| [[Windows_NT|NT]]、[[Windows_2000|2000]]、[[Windows_XP|XP]]、[[Windows_Server_2003|2003]]、[[Windows_Vista|Vista]]、<br/>[[Windows_Server_2008|2008]]、[[Windows_7|7]]、[[Windows_Server_2012|2012]]、[[Windows_8|8]]、[[Windows_8.1|8.1]]、[[Windows_10|10]]、[[Windows_11|11]]
| <code>%SystemRoot%\System32\drivers\etc\hosts</code>
|-
| [[Windows_Mobile|Windows Mobile]]、[[Windows_Phone|Windows Phone]]
|
| [[注册表|注册表]]项<code>HKEY_LOCAL_MACHINE\Comm\Tcpip\Hosts</code>
|-
|rowspan="3" | Apple [[Macintosh|Macintosh]]
| 9或更早版本
| <code>Preferences</code>或<code>System</code>目录中
|-
| [[OS_X|Mac OS X]] 10.0–10.1.5
| 通过<code>NetInfo</code>或<code>niload</code>设置
|-
| [[OS_X|Mac OS X]] 10.2和更新版本
| <code>/etc/hosts</code>（指向<code>/private/etc/hosts</code>的[[符号链接|符号链接]]）
|-
| [[NetWare|Novell NetWare]]
|
| <code>SYS:etc\hosts</code>
|-
| [[OS/2|OS/2]]和[[eComStation|eComStation]]
|
| <code>"bootdrive":\mptn\etc\</code>
|-
| rowspan="2"| [[Symbian|Symbian]]
| Symbian OS 6.1–9.0
| <code>C:\system\data\hosts</code>
|-
| Symbian OS 9.1+
| <code>C:\private\10000882\hosts</code>
|-
| {{tsl|en|MorphOS|}}
| NetStack
| <code>ENVARC:sys/net/hosts</code>
|-
| [[AmigaOS|AmigaOS]]
| 4
| <code>DEVS:Internet/hosts</code>
|-
| {{tsl|en|AROS|}}
|
| <code>ENVARC:AROSTCP/db/hosts</code>
|-
| [[Android|Android]]
|
| <code>/etc/hosts</code>（指向<code>/system/etc/hosts</code>的[[符号链接|符号链接]]）
|-
| [[iOS|iOS]]
| iOS 2.0和更新版本
| <code>/etc/hosts</code>（指向<code>/private/etc/hosts</code>的[[符号链接|符号链接]]）
|-
| {{tsl|en|TOPS-20|}}
|
| <code><SYSTEM>HOSTS.TXT</code>
|-
| [[Plan_9|Plan 9]]
|
| <code>/lib/ndb/hosts</code>
|-
| [[BeOS|BeOS]]
|
| <code>/boot/beos/etc/hosts</code>
|-
| [[Haiku|Haiku]]
|
| <code>/boot/common/settings/network/hosts</code>
|-
| rowspan="2"| [[OpenVMS|OpenVMS]]
| UCX
| <code>UCX$HOST</code>
|-
| {{tsl|en|TCPware|}}
| <code>TCPIP$HOST</code>
|-
| rowspan="2"| [[RISC_OS|RISC OS]]
| 3.7, 5
| <code>!Boot.Resources.!Internet.files.Hosts</code>
|-
| later boot sequence
| <code>!Boot.Choices.Hardware.Disabled.Internet.Files.Hosts</code>（RISC OS 6.14）
|}

在Windows中，默认的Hosts文件通常是空白的或包含了[[注释语句|注释语句]]并使用了以下的默认规则：
<syntaxhighlight lang="text">
127.0.0.1    localhost
::1          localhost
</syntaxhighlight>

== 相关链接 ==
* [[AdBlock|AdBlock]]
* [[Resolv.conf|Resolv.conf]]
* [[恶意软件|恶意软件]]
* [[间谍软件|间谍软件]]
* [[TCP/IP协议|TCP/IP协议]]

== 参考文献 ==
{{reflist}}

== 外部链接 ==
* {{en}}[http://www.hackernotcracker.com/2007-01/why-should-you-wait-for-internet-propagation.html Why Should You Wait for Internet Propagation?]{{Wayback|url=http://www.hackernotcracker.com/2007-01/why-should-you-wait-for-internet-propagation.html |date=20080213102724 }} – Hosts的另一个用途
* {{en}}[http://cubicspot.blogspot.com/2006/02/eliminating-web-advertisements.html Using a hosts file to remove ads without getting broken images]{{Wayback|url=http://cubicspot.blogspot.com/2006/02/eliminating-web-advertisements.html |date=20071014021559 }} - 使用Hosts文件来更方便地浏览网站
* {{en}}[http://vlaurie.com/computers2/Articles/hosts.htm 一个示例文件]{{Wayback|url=http://vlaurie.com/computers2/Articles/hosts.htm |date=20080306034921 }}
* {{zh-cn}}[https://web.archive.org/web/20170713170700/https://blog.my-eclipse.cn/host-google.html 修改Hosts，让您的谷歌跑起来]（https://web.archive.org/web/20160707075904/http://blog.my-eclipse.cn/hosts.txt 2016年更新），包含了几乎所有被封锁网站的Hosts，包括维基百科的所有项目。

=== 自定义Hosts文件 ===
* {{en}}[http://www.mvps.org/winhelp2002/hosts.htm Most Valuable Professional (MVP) site]{{Wayback|url=http://www.mvps.org/winhelp2002/hosts.htm |date=20080223234350 }} 每月更新的自定义Hosts文件
* {{en}}[http://someonewhocares.org/hosts/ Dan Pollock's hosts file]{{Wayback|url=http://someonewhocares.org/hosts/ |date=20170527224449 }} 几乎每天更新的Hosts文件
* {{en}}[https://web.archive.org/web/20071011132709/http://hosts-file.net/?s=Download HPHosts] – 用于广告拦截的Hosts文件
* {{en}}[http://www.grc.com/sn/notes-045.htm The Security Now! podcast page on the hosts file]{{Wayback|url=http://www.grc.com/sn/notes-045.htm |date=20071030064832 }}
* {{en}}[http://www.everythingisnt.com/hosts.html Mikes Ad-Blocking hosts file]{{Wayback|url=http://www.everythingisnt.com/hosts.html |date=20080509061333 }} – 可直接下载合并或使用安装程序
* {{en}}[https://web.archive.org/web/20080211182439/http://members.dialmaine.com/drdole/#hosts SCoooBY’s Hosts File] – 较大的广告服务器列表
* {{en}}[http://pgl.yoyo.org/adservers/index.php Ad Blocking Lists]{{Wayback|url=http://pgl.yoyo.org/adservers/index.php |date=20080311101243 }} – Peter Lowe的列表
* {{fr}} [http://rlwpx.free.fr/WPFF/hosts.htm Airelle Lists]{{Wayback|url=http://rlwpx.free.fr/WPFF/hosts.htm |date=20071020020246 }} – 超过500,000个网站的Hosts文件黑名单
* {{zh-cn}} [https://github.com/lennylxx/ipv6-hosts lennylxx]{{Wayback|url=https://github.com/lennylxx/ipv6-hosts |date=20160317040028 }} – 中国大陆IPv6版的Hosts文件（一般适用于[[教育网|教育网]]）
* {{zh-cn}} [https://github.com/vokins/yhosts vokins]{{Wayback|url=https://github.com/vokins/yhosts |date=20171008123912 }} – 中国大陆屏蔽常见广告的Hosts文件
* {{zh-cn}} [https://github.com/googlehosts/hosts/blob/master/hosts-files/hosts googlehosts]{{Wayback|url=https://github.com/googlehosts/hosts/blob/master/hosts-files/hosts |date=20190216142954 }} – 中国大陆IPv4版的Hosts文件

=== 管理Hosts的应用程序 ===
* {{zh-cn}}[//code.google.com/p/hostsx/ HostsX] – 记事本风格、支持自动更新Hosts文件的免费软件
* {{en}}[http://hostsman.abelhadigital.com/ Abelhadigital's HostsMan 3.1.55]{{Wayback|url=http://hostsman.abelhadigital.com/ |date=20070602005927 }} – 可自动更新Hosts文件的免费软件
* {{en}}[https://web.archive.org/web/20080412085655/http://www.bluetack.co.uk/forums/index.php?act=dscript&CODE=showdetails&f_id=5 Kimberly's Hosts Manager] – 管理Hosts文件的免费软件
* {{en}}[https://web.archive.org/web/20080304164846/http://www.funkytoad.com/content/view/13/31/ Funkytoad's HostsXpert v4.0] – 用于排列并整理Hosts文件的免费软件
* {{en}}[http://www.accs-net.com/hosts/HostsToggle/ Mike Meyer's HostsToggle 2.1]{{Wayback|url=http://www.accs-net.com/hosts/HostsToggle/ |date=20080307023923 }} – 开放源代码的Hosts文件工具
* {{en}}[https://web.archive.org/web/20080211182612/http://www.khempire.co.uk/ KH Blocker] – 管理广告拦截的Hosts文件管理器
* {{en}}[http://www.raymarron.com/hostess/ Ray Marron's Hostess]{{Wayback|url=http://www.raymarron.com/hostess/ |date=20080303025647 }} – 免费的Hosts文件管理器

{{突破网络封锁技术}}

[[Category:域名|Category:域名]]
[[Category:配置文件|Category:配置文件]]