{{NoteTA|G1=Math }}

在[[概率论|概率论]]中，如果一个[[事件_(概率论)|事件]]发生的概率是1（或在[[勒贝格测度|勒贝格测度]]下是1），则称该事件'''几乎必然'''（{{lang-en|almost surely}}，缩写为'''a.s.'''）发生。<ref name=":0">{{Cite web|url=https://mathvault.ca/math-glossary/#almost|title=The Definitive Glossary of Higher Mathematical Jargon — Almost|date=2019-08-01|website=Math Vault|language=en-US|access-date=2019-11-16|archive-date=2020-02-28|archive-url=https://web.archive.org/web/20200228211953/https://mathvault.ca/math-glossary/#almost|dead-url=no}}</ref><ref>{{Cite web|url=http://mathworld.wolfram.com/AlmostSurely.html|title=Almost Surely|last=Weisstein|first=Eric W.|website=mathworld.wolfram.com|language=en|access-date=2019-11-16|archive-date=2021-08-13|archive-url=https://web.archive.org/web/20210813055840/https://mathworld.wolfram.com/AlmostSurely.html|dead-url=no}}</ref>换句话说，此事件不发生所对应的事件集合可能是非空的，但该集合的概率是0。在[[测度论|测度论]]中，与本概念相似的概念是[[几乎处处|几乎处处]]。

很多时候，在有限[[样本空间|样本空间]]的概率试验中，'''几乎必然'''和'''必然'''是没有区别的（因为概率等于1的事件通常会包含样本空间中的所有样本）。但两者的区别对于样本空间是[[无穷集|无穷集]]时就显得很重要了<ref>{{Cite web|url=http://mathcentral.uregina.ca/QQ/database/QQ.09.06/h/ben1.html|title=Almost surely - Math Central|website=mathcentral.uregina.ca|access-date=2019-11-16|archive-date=2021-08-13|archive-url=https://web.archive.org/web/20210813060110/http://mathcentral.uregina.ca/QQ/database/QQ.09.06/h/ben1.html|dead-url=no}}</ref>，因为无穷集的非空子集的概率可以是0。

[[大数定理#强大数定理|强大数定理]]中使用了几乎必然的概念。

视上下文，有时也会使用同义词'''几乎一定'''（{{lang-en|almost certainly}}，缩写为a.c.）或'''几乎总是'''（{{lang-en|almost always}}，缩写为a.a.）。'''几乎从不'''则是几乎必然的相反感念：若一个事件发生的概率是0，则称该事件几乎从不发生。<ref name=":0" /><ref name=Gradel>{{cite book |last1=Grädel |first1=Erich |last2=Kolaitis |first2=Phokion G. |last3=Libkin |first3=Leonid  |last4=Marx |first4=Maarten |last5=Spencer |first5=Joel |last6=Vardi |first6=Moshe Y. |last7=Venema |first7=Yde |last8=Weinstein |first8=Scott |title=Finite Model Theory and Its Applications |url=https://archive.org/details/finitemodeltheor00grad |date=2007 |publisher=Springer |isbn=978-3-540-00428-8 |page=[https://archive.org/details/finitemodeltheor00grad/page/n244 232]}}</ref>

==定义==
令<math>(\Omega,\mathcal{F},P)</math>为一[[概率空间|概率空间]]。若<math>\mathcal{F}</math>中一个事件<math>E</math>满足<math>P(E)=1</math>，则称其'''几乎必然'''发生。等价地，若<math>E</math>不发生的概率是[[0|0]]，即<math>P(E^C) = 0</math>，则称<math>E</math>几乎必然发生。更一般地，若对于一个事件<math>E \subseteq \Omega</math>（不一定要属于<math>\mathcal{F}</math>），存在一个零测集<math>N</math>，满足<math>E^C\subset N</math>且<math>P(N)=0</math>，则称<math>E</math>几乎必然发生。<ref name="Jacod">{{cite book|last=Jacod|first=Jean|author2=Protter |year=2004|title=Probability Essentials|url=https://archive.org/details/probabilityessen00jaco_900|publisher=Springer|page=[https://archive.org/details/probabilityessen00jaco_900/page/n45 37]|isbn=978-3-540-438717}}</ref> 

几乎处处这一概念建立在概率测度<math>P</math>上。如果需要强调该概率测度，通常会说事件<math>E</math>是<math>P</math>-几乎必然发生的。

==举例==
粗略地说，就算概率空间中存在着一个事件不包含的结果，一个事件还是可以“几乎必然”发生。下面的例子中就是这样的情况。

===扔飞镖===
朝一个面积为1的正方形上扔飞镖，而飞镖总是只命中正方形上的一点。假设正方形上每一个点被命中的概率是相同的。因为正方形的面积是1，命中正方形上某个区域的概率就正好等于该区域的面积。例如，命中正方形右半边的概率是0.5，因为其面积也是0.5。

令事件<math>E=</math>“飞镖正好命中正方形对角线上的点”。因为该区域（两条交叉的线）的面积是0，事件<math>E</math>发生的概率也是0。换句话说，飞镖“几乎从不”命中对角线；或者它“几乎必然”不命中对角线，就算对角线上的点的集合并非空集，且飞镖命中对角线上的点和命中正方形上其它任何点的概率都是相同的。

===重复[[伯努利试验|抛硬币]]===
重复抛一枚（可能是不均匀的）硬币。如果令事件<math>H=</math>正面朝上，<math>T=</math>反面朝上，则对应的概率空间是<math>(\{H,T\}, 2^{\{H, T\}}, P)</math>。假设抛这枚硬币正面朝上的概率是<math>P(H) = p\in (0,1)</math>，而其对立事件，即硬币反面朝上的概率是<math>P(T) = 1 - p</math>。

重复抛这枚硬币，并令<math>\omega_1,\omega_2,\ldots</math>表示第1、2、...次抛的结果。假设每次抛硬币的结果都是相互[[独立_(概率论)|独立]]的（即这些随机变量是[[独立同分布|独立同分布]]的）。考虑抛硬币概率空间上的随机变量序列<math>(X_i)_{i\in\mathbb{N}}</math>，<math>X_i(\omega)=\omega_i</math>，也即每个<math>X_i</math>记录第<math>i</math>次抛硬币的结果。

在本例中，任意一个由无数个正面和反面组成的序列都是一个可能的结果。然而，存在一些这样的序列，它们发生的概率是0。这是因为独立同分布的假设意味着有<math>n</math>次正面朝上的概率是<math>P(X_i = H, \ i=1,2,\dots,n)=\left(P(X_1 = H)\right)^n = p^n</math>。当<math>n\rightarrow\infty</math>时，此概率趋向于0，因为假设了<math>p\in (0,1)</math>。不论该硬币有多不均匀，只要<math>p</math>不会取0或1，前述的结论都会成立。<ref>{{Cite journal|last=Williamson|first=Timothy|date=2007-07-01|title=How probable is an infinite sequence of heads?|url=https://academic.oup.com/analysis/article/67/3/173/2740432|journal=Analysis|language=en|volume=67|issue=3|pages=173–180|doi=10.1093/analys/67.3.173|issn=0003-2638|access-date=2021-08-13|archive-date=2021-03-08|archive-url=https://web.archive.org/web/20210308100450/https://academic.oup.com/analysis/article/67/3/173/2740432|dead-url=no}}</ref>

另外，事件“抛硬币结果序列上至少有一个反面”也几乎必然发生。但如果抛硬币的次数是有限次，比如1,000,000次，则全部正面朝上的概率是<math>p^{1,000,000}\neq0</math>，而至少有一个反面的概率是<math>1 - p^{1,000,000}\neq1</math>，即不再是几乎必然的。

== 渐进几乎必然 ==
在[[渐进分析|渐进分析]]中，若在一个集合序列上，某一性质发生的概率收敛到1，则称它是'''渐进几乎必然'''（{{lang-en|'''asymptotically almost surely'''}}，缩写为'''a.a.s'''）的。例如，在[[数论|数论]]中，根据[[素数定理|素数定理]]，一个大数渐进几乎必然是一个[[合数|合数]]；在[[随机图|随机图论]]中，若存在一个<math>\varepsilon > 0</math>，使得<math>p_n > \frac{(1+\varepsilon) \ln n} n</math>，则图<math>G(n,p_n)</math>是渐进几乎必然[[连通图|联通]]的（其中[[ER随机图|<math>G(n,p)</math>]]表示一个有<math>n</math>个节点、边的出现概率为<math>p</math>的随机图）。<ref name=RandGraph>{{cite journal |last1=Friedgut |first1=Ehud |last2=Rödl |first2=Vojtech |last3=Rucinski |first3=Andrzej |last4=Tetali |first4=Prasad|date=January 2006 |title=A Sharp Threshold for Random Graphs with a Monochromatic Triangle in Every Edge Coloring |journal=Memoirs of the American Mathematical Society |publisher=AMS Bookstore |volume=179 |issue=845 |pages=3–4 |issn=0065-9266|doi=10.1090/memo/0845 |s2cid=9143933 }}</ref>

在数论中，渐进几乎必然也称作'''{{tsl|en|almost all|几乎所有}}'''，比如“几乎所有数都是合数”。在图论中，该术语有时也直接称作“几乎必然”。<ref name=Springer>{{cite book |last=Spencer |first=Joel H. |title=The Strange Logic of Random Graphs |publisher=Springer |date=2001 |series=Algorithms and Combinatorics |volume=22 |isbn=978-3540416548 |chapter=0. Two Starting Examples |page=4 |chapter-url=https://books.google.com/books?id=u2c3LpjWs7EC&pg=PA4 |access-date=2021-08-13 |archive-date=2021-08-13 |archive-url=https://web.archive.org/web/20210813071806/https://books.google.com/books?id=u2c3LpjWs7EC&pg=PA4 |dead-url=no }}</ref>

==参见==
{{Portal|数学}}
*[[几乎|几乎]]
*[[几乎处处|几乎处处]]，测度论中的相关概念
*[[随机变量的收敛#依概率1收敛|依概率1收敛]]，也称“几乎必然收敛”或“几乎处处收敛”
*[[退化分布|退化分布]]
*[[无限猴子定理|无限猴子定理]]

==参考资料==
{{Reflist|30em}}

== 参见 ==

* [[幾乎處處|幾乎處處]]，测度论中相关的概念

* [[無限猴子定理|無限猴子定理]]，运用该术语的理论

==参考书目==

*{{cite book |last1=Rogers |first1=L. C. G. |last2=Williams |first2=David |title=''Diffusions, Markov Processes, and Martingales'' |publisher=Cambridge University Press |date=2000 |volume=1: Foundations |isbn=978-0521775946}}
*{{cite book |last=Williams |first=David |title=''Probability with Martingales'' |date=1991 |series=Cambridge Mathematical Textbooks |publisher=Cambridge University Press |isbn=978-0521406055}}


[[Category:概率论|Category:概率论]]
[[Category:數學術語|Category:數學術語]]