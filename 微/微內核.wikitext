{{noteTA
|G1=IT
|1=zh-cn:线程; zh-tw:執行緒;
|2=zh-cn:程序; zh-tw:程式;
|3=zh-cn:进程; zh-tw:行程;
}}
[[File:Kernel-microkernel-CN.png|thumb]]
[[File:OS-structure2.svg|thumb]]
在[[電腦科學|電腦科學]]中，'''微内核'''（{{lang-en|Microkernel}}，μ-kernel），是一種[[內核|內核]]的設計架構，由盡可能精簡的[[電腦程式|程式]]所組成，以實現一個[[作業系統|作業系統]]所需要的最基本功能，包括了底層的[[定址空間|定址空間]]管理、[[執行緒|執行緒]]管理、與[[进程間通訊|进程間通訊]]。

==概論==
微核心的設計理念，是將系統服務的實作，與系統的基本操作規則區分開來。它實作的方式，是將核心功能模組化，劃分成幾個獨立的行程，各自運行，這些行程被稱為服務（service）。所有的服務行程，都運行在不同的位址空間。只有需要絕對特權的行程，才能在具特權的執行模式下運行，其餘的行程則在[[使用者空間|使用者空間]]運行。

這樣的設計，使內核中最核心的功能，設計上變的更簡單。需要特權的行程，只有基本的[[线程|线程]]管理，[[内存管理|内存管理]]和[[进程间通信|进程间通信]]等，這個部份，由一個簡單的[[硬體抽象層|硬體抽象層]]與關鍵的[[系統調用|系統調用]]組成。其餘的服務行程，則移至使用者空間。

讓服務各自獨立，可以減少系統之間的耦合度，易於實作與除錯，也可增進可移植性。它可以避免單一組件失效，而造成整個系統崩潰，內核只需要重新啟動這個組件，不致於影響其他伺服器的功能，使系統穩定度增加。同時，作業系統也可以視需要，抽換或新增某些服務行程，使功能更有彈性。

因為所有服務行程都各自在不同位址空間運行，因此在微核心架構下，不能像[[宏内核|宏内核]]一樣直接進行函式調用。在微核心架構下，要建立一個[[行程間通訊|行程間通訊]]機制，通過[[訊息傳遞_(軟體)|訊息傳遞]]的機制來讓服務行程間相互交換訊息，調用彼此的服務，以及完成[[同步|同步]]。採用主從式架構，使得它在[[分散式系統|分散式系統]]中有特別的優勢，因為遠端系統與本地行程間，可以採用同一套[[行程間通訊|行程間通訊]]機制。

但是因為行程間通訊耗費的資源與時間，比簡單的函式呼叫還多；通常又會涉及到核心空間到使用者空間的[[上下文交換|環境切換]]（context switch）。這使得訊息傳遞有延遲，以及[[流通量|傳輸量]]（throughput）受限的問題，因此微核心在通訊寬容度不足下，可能出現效能不佳的問題。

就程式碼數量來看，一般來說，因為功能簡化，微核心使用的程式碼比集成式核心更少，其原始碼通常小於10,000行。例如，[[MINIX 3|MINIX 3]]的原始碼少於6,000行<ref>{{cite web |url=http://www.minix3.org/ |title=The MINIX 3 Operating System |work=minix3.org |archiveurl=https://www.webcitation.org/64sAstWXM?url=http://www.minix3.org/ |archivedate=2012-01-22 |deadurl=yes |access-date=2016-04-01 }}</ref>。更少的程式碼，也代表更少的潛藏程式bug，對於重視安全性的人來說會較為偏好。

==微核心列表==
微内核结构必然是多线程的，第一代微内核，在内核提供了较多的服务，因此被称为“胖微内核”，它的典型代表是[[Mach|Mach]]，它既是[[GNU_HURD|GNU HURD]]也是[[Mac_OS_X|Mac OS X]]的内核。第二代微内核只提供最基本的OS服务，典型的OS是[[QNX|QNX]]，QNX在[[黑莓手机|黑莓手机]][[BlackBerry_10|BlackBerry 10]]系统中被采用。[[L4微内核系列|L4微内核系列]]也是著名的微核心。
==變種微核心==
包括[[Windows_NT|Windows NT]]，[[Mac_OS_X|Mac OS X]]等，都宣稱採用微核心架構。為了追求效能，他們將需要具備特權的服務組件放進核心空間，違反了微內核的基本設計原則，更為接近[[整塊性核心|整塊性核心]]的設計方式。這被稱為[[混合核心|混合核心]]。

==相關條目==
* [[外核心|外核心]]

* [[单一内核|单一内核]]

== 参考文献 ==

{{Reflist}}

{{操作系统}}
{{Authority control}}
[[Category:操作系统技术|Category:操作系统技术]]
[[Category:微內核|Category:微內核]]