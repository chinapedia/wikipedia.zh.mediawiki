{{Infobox software
| name                   = KornShell
| logo                   = Kornshell.gif
| author                 = {{tsl|en|David Korn (computer scientist)|大卫·科恩|大卫·科恩}}
| released               = 1983<ref name=Gomes>{{Cite newsgroup
 |author       = Ron Gomes
 |title        = Toronto USENIX Conference Schedule (tentative)
 |date         = Jun 9, 1983
 |newsgroup    = net.usenix
 |url          = http://groups.google.com/group/net.usenix/msg/fa6e1f7de3b63bba?hl=en
 |accessdate   = Dec 29, 2010
 |archive-date = 2013-06-02
 |archive-url  = https://web.archive.org/web/20130602184825/http://groups.google.com/group/net.usenix/msg/fa6e1f7de3b63bba?hl=en
 |dead-url     = no
}}</ref><ref name=Harris>{{Cite newsgroup
 |author       = Guy Harris
 |title        = csh question
 |date         = Oct 10, 1983
 |newsgroup    = net.flame
 |url          = http://groups.google.com/group/net.flame/msg/4f868085b65af530?hl=en
 |accessdate   = Dec 29, 2010
 |archive-date = 2013-06-02
 |archive-url  = https://web.archive.org/web/20130602180641/http://groups.google.com/group/net.flame/msg/4f868085b65af530?hl=en
 |dead-url     = no
}}</ref>
| latest_release_version = ksh93u+
| latest_release_date    = {{release date and age|2013|06|01}}<ref>{{cite web|url=http://www2.research.att.com/~astopen/download/release.2013-06-01.2013-05-24.html|archive-url=https://web.archive.org/web/20150214070254/http://www2.research.att.com/~astopen/download/release.2013-06-01.2013-05-24.html|dead-url=yes|archive-date=2015-02-14|title=package changes from 2013-05-24 to 2013-06-01|date=14 February 2015|accessdate=10 December 2018}}</ref>
| programming language   = [[C语言|C]]
| operating system       = [[UNIX|Unix]]
| platform               = 
| language               = 英语
| genre                  = [[Unix_shell|Unix shell]]
| license                = {{plainlist|
*'''AT&T KornShell'''：[[Eclipse公共许可证|Eclipse公共许可证]]<ref name="ksh93epl">{{Cite web |url=https://about.att.com/error.html |title=Archived copy |access-date=2018-12-10 |archive-url=https://web.archive.org/web/20181114180733/http://about.att.com/error.html |archive-date=2018-11-14 |dead-url=yes |df= }}</ref>
*'''pdksh'''：[[公有领域软件|公有领域]]，含部分类[[ISC許可證|ISC]]代码<ref name="pdksh_LEGAL">{{cite web |url=http://www.cs.mun.ca/~michael/pdksh/LEGAL |title=Archived copy |accessdate=2010-06-10 |deadurl=yes |archiveurl=https://web.archive.org/web/20160330011641/http://www.cs.mun.ca/~michael/pdksh/LEGAL |archivedate=2016-03-30 |df= }}</ref>
*'''mksh'''：{{tsl|en|MirOS Licence|MirOS许可证|MirOS许可证}}<ref name="mkshlicense">{{cite web|url=https://www.mirbsd.org/mksh.htm|title=MirBSD Korn Shell|website=Mirbsd.org|accessdate=10 December 2018|archive-date=2015-08-01|archive-url=https://web.archive.org/web/20150801063222/https://www.mirbsd.org/mksh.htm|dead-url=no}}</ref>
*'''dtksh'''：[[Eclipse公共许可证|Eclipse公共许可证]]，部分使用[[GNU宽通用公共许可证|LGPL]]
  }}
| website                = {{url|http://www.kornshell.org/}}
}}

'''KornShell'''（<code>'''ksh'''</code>）是一款由{{tsl|en|David Korn (computer scientist)|大卫·科恩|大卫·科恩}}于二十世纪八十年代早期在[[贝尔实验室|贝尔实验室]]开发的[[Unix_shell|Unix shell]]，并在1983年7月14日的{{tsl|en|USENIX Annual Technical Conference|USENIX年度技术会议|USENIX年度技术会议}}上发布。<ref name=Gomes/><ref name=Harris/>起初此软件基于[[Bourne_shell|Bourne shell]]的源代码编写。<ref>{{citation
| title = ksh - An Extensible High Level Language
| last = Korn
| first = David G.
| publisher = USENIX Association
| journal = Proceedings of the USENIX 1994 Very High Level Languages Symposium
| date = October 26, 1994
| url = https://www.usenix.org/legacy/publications/library/proceedings/vhll/full_papers/korn.ksh.a
| quote = Instead of inventing a new script  language,  we  built  a  form  entry system  by  modifying  the  Bourne  shell,  adding  built-in commands as necessary.
| accessdate = February 5, 2015
| archive-date = 2020-08-23
| archive-url = https://web.archive.org/web/20200823154352/https://www.usenix.org/legacy/publications/library/proceedings/vhll/full_papers/korn.ksh.a
| dead-url = no
}}</ref>其他贡献者有贝尔实验室的开发者，如迈克·维奇（Mike Veach）和帕特·沙利文（Pat Sullivan）；他们分别编写了[[Emacs|Emacs]]和[[Vi|vi]]风格的行编辑模式代码。<ref>{{Cite book
  | last = Bolsky
  | first = Morris I.
  | last2 = Korn
  | first2 = David G.
  | title = The KornShell Command and Programming Language
  | publisher = Prentice Hall
  | year = 1989
  | location = Englewood Cliffs, NJ
  | chapter = Acknowledgements
  | pages = ''xii''
  | url = https://archive.org/details/kornshellcommand00bols
  | doi = 
  | id = 
  | isbn = 0-13-516972-0
}}</ref>KornShell向后兼容Bourne shell，同时还根据贝尔实验室用户的需求添加了诸多[[C_Shell|C shell]]的功能。

== 设计 ==
KornShell实现了[[可移植操作系统接口|POSIX.2]]，同时拥有壳层及实用工具、命令解释器（IEEE Std 1003.2-1992.）。KornShell与传统的Bourne shell的主要差别有：
* 根据[[C_Shell|C shell]]所设计的{{tsl|en|Job control (Unix)|作业控制|作业控制}}、[[Alias_(命令)|命令别名]]及[[命令行历史记录|命令历史]]特性。作业控制功能于1989年才添加至Bourne Shell。<ref>{{cite web|url=https://www.in-ulm.de/~mascheck/bourne/|title=traditional Bourne shell family / history and development|website=In-ulm.de|accessdate=10 December 2018|archive-date=2020-04-14|archive-url=https://web.archive.org/web/20200414150320/https://www.in-ulm.de/~mascheck/bourne/|dead-url=no}}</ref>
* 提供基于[[Vi|vi]]、[[Emacs|Emacs]]和[[XEmacs|XEmacs]]的三种命令行编辑风格。
* [[关联数组|关联数组]]及内置的[[浮点数|浮点运算]]操作（仅在{{mono|ksh93}}版KornShell中可用）。
* 内置指令的动态可扩展（截至{{mono|ksh93}}版本）。

== 历史 ==
[[File:OpenBSD_ksh_Interaction.png|thumb]]默认壳层（{{mono|pdksh}}）的交互界面]]

KornShell起初是一款[[专有软件|专有软件]]。2000年，其源代码以AT&T独有的许可发布；但在2005年年初，93q版本使用[[Eclipse公共许可证|Eclipse公共许可证]]发布。由于KornShell起初为私有授权软件，在那时的人们创造了自由开源的替代品（{{mono|pdksh}}、{{mono|mksh}}、[[GNU|GNU]] {{mono|[[Bash|bash]]}}及{{mono|[[Z_shell|zsh]]}}）。 <ref name="ksh93epl" />KornShell被收录进了AT&T软件技术（AST）开源软件集。

KornShell的原始版本（{{mono|ksh88}}）被当做[[可移植操作系统接口|POSIX.2]]、壳层及实用工具、命令解释器（IEEE Std 1003.2-1992.）的基础。

部分供应商有时会提供其自己根据老版本{{mono|ksh88}}改编的变体，有时还会在其基础上添加扩展。{{mono|ksh93}}现仍被作者维护，并通过在其后添加字母的方式命名发布版本；{{as of|2017|01|16|lc=y}}的最新版本为{{mono|ksh93u+}}（{{mono|ksh93u}}及{{mono|ksh93t+}}的更新版）；{{mono|ksh93v}}仍处于测试阶段（{{as of|2017|01|16|lc=y}}）。<ref>{{cite web|url=https://github.com/att/ast|title=This is the AT&T Software Technology ast software download site from AT&T Research. The AT&T AST OpenSource Software Collection provides an overview and Practical Reusable UNIX Software..|date=10 December 2018|accessdate=10 December 2018|website=Github.com|archive-date=2020-10-31|archive-url=https://web.archive.org/web/20201031235758/https://github.com/att/ast|dead-url=no}}</ref>

作为“桌面版KornShell”（{{mono|dtksh}}），{{mono|ksh93}}作为[[CDE|通用桌面环境]]的一部分发布。<ref name="RosenblattRobbins2002">{{cite book|author1=Bill Rosenblatt|author2=Arnold Robbins|title=Learning the Korn Shell|url=https://books.google.com/books?id=5nMCY272chUC&pg=PR8|year=2002|publisher=O'Reilly Media, Inc.|isbn=978-0-596-00195-7|pages=viii–ix|edition=2|access-date=2019-05-04|archive-date=2020-08-04|archive-url=https://web.archive.org/web/20200804053208/https://books.google.com/books?id=5nMCY272chUC&pg=PR8|dead-url=no}}</ref>此版本同时提供了对[[Motif|Motif]]挂件的壳层级映射。它的目的是成为[[Tcl|Tcl]]/[[Tk|Tk]]的竞争对手。<ref name="Pendergrast1995">{{cite book|author=J. Stephen Pendergrast|title=Desktop KornShell graphical programming|url=https://books.google.com/books?id=O6xQAAAAMAAJ|year=1995|publisher=Addison-Wesley|isbn=978-0-201-63375-7|page=359|access-date=2019-05-04|archive-date=2020-08-04|archive-url=https://web.archive.org/web/20200804105036/https://books.google.com/books?id=O6xQAAAAMAAJ|dead-url=no}}</ref>

原版KornShell（{{mono|ksh88}}）成为了[[IBM_AIX|AIX]]第四版的默认壳层，<ref name="CannonTrent1999">{{cite book|author1=Casey Cannon|author2=Scott Trent|author3=Carolyn Jones|title=Simply AIX 4.3|url=https://archive.org/details/simplyaix430000cann|year=1999|publisher=Prentice Hall PTR|isbn=978-0-13-021344-0|page=[https://archive.org/details/simplyaix430000cann/page/21 21]}}</ref><ref>{{cite web|url=https://www.ibm.com/support/knowledgecenter/ssw_aix_61/eos/eos.htm?origURL=api/redirect/aix/v6r1/topic/com.ibm.aix.cmds/doc/aixcmds5/sh.htm|title=IBM Knowledge Center|website=Ibm.com|accessdate=10 December 2018|archive-date=2019-08-09|archive-url=https://web.archive.org/web/20190809040303/https://www.ibm.com/support/knowledgecenter/ssw_aix_61/eos/eos.htm?origURL=api%2Fredirect%2Faix%2Fv6r1%2Ftopic%2Fcom.ibm.aix.cmds%2Fdoc%2Faixcmds5%2Fsh.htm|dead-url=no}}</ref>但同时也可使用ksh93。<ref>{{cite web|url=https://www.ibm.com/support/knowledgecenter/ssw_aix_61/eos/eos.htm?origURL=api/redirect/aix/v6r1/topic/com.ibm.aix.baseadmn/doc/baseadmndita/korn_shell_enhanced.htm|title=IBM Knowledge Center|website=Ibm.com|accessdate=10 December 2018|archive-date=2019-08-09|archive-url=https://web.archive.org/web/20190809034350/https://www.ibm.com/support/knowledgecenter/ssw_aix_61/eos/eos.htm?origURL=api%2Fredirect%2Faix%2Fv6r1%2Ftopic%2Fcom.ibm.aix.baseadmn%2Fdoc%2Fbaseadmndita%2Fkorn_shell_enhanced.htm|dead-url=no}}</ref>

{{tsl|en|UnixWare|UnixWare|UnixWare}} 7中既包括{{mono|ksh88}}，也包括{{mono|ksh93}}。默认的Kornshell版本为{{mono|ksh93}}（{{mono|/usr/bin/ksh}}），老版本则在{{mono|/usr/bin/ksh88}}下可用。<ref name="UW714doc">{{cite web|url=http://uw714doc.sco.com/en/DIFFS/UNIX95_Conformance.html#ksh-93_vs_ksh-88|title=UNIX95 conformance|website=Uw714doc.sco.com|accessdate=10 December 2018|archive-date=2020-08-02|archive-url=https://web.archive.org/web/20200802231706/http://uw714doc.sco.com/en/DIFFS/UNIX95_Conformance.html#ksh-93_vs_ksh-88|dead-url=no}}</ref>UnixWare同时在安装了[[CDE|CDE]]的情况下提供{{mono|dtksh}。

== 变体 ==
下列为多个与KornShel相关的软件产品：
* {{mono|dtksh}} – {{mono|ksh93}}的分支，为[[CDE|CDE]]的一部分。
* {{mono|tksh}} – {{mono|ksh93}}的分支，提供对[[Tk|Tk]][[部件工具箱|部件工具箱]]的访问。
* {{mono|oksh}} – [[OpenBSD|OpenBSD]]风味KornShell的Linux版分支，为{{tsl|en|DeLi Linux|DeLi Linux|DeLi Linux}}的默认壳层。
* {{mono|mksh}} – KornShell语言的[[自由软件|自由软件]]实现，为{{mono|pdksh}}的分支。其起初为{{tsl|en|MirOS BSD|MirOS BSD|MirOS BSD}}开发，以[[寬鬆自由軟體授權條款|宽松]]的授权条款发布（{{tsl|en|MirOS Licence|MirOS许可证|MirOS许可证}}）。<ref name="mkshlicense" />除了用在BSD上外，此变体还替代了Debian上的{{mono|pdksh}}，<ref name="debmksh">{{Cite web |url=https://people.debian.org/~spaillard/Debian_Release_Notes/mksh.html |title=Archived copy |access-date=2014-07-28 |archive-url=https://web.archive.org/web/20140728110151/https://people.debian.org/~spaillard/Debian_Release_Notes/mksh.html |archive-date=2014-07-28 |dead-url=yes |df= }}</ref>更是Android的默认壳层。
* {{mono|SKsh}} – [[AmigaOS|AmigaOS]]风味的版本，提供了多个Amiga的特有功能（如{{tsl|en|ARexx|ARexx|ARexx}}互用性）
* {{tsl|en|MKS Inc.|MKS Inc.|MKS Inc.}}的MKS Korn shell – 来自{{tsl|en|Microsoft Windows Services for UNIX|用于UNIX的微软Windows服务|用于UNIX的微软Windows服务}}（SFU）对KornShell语言的专有实现（版本2.0及以下）；据大卫·科恩所述，MKS Korn shell与1998年时的Kornshell不完全兼容。<ref>{{cite web |url=http://slashdot.org/articles/01/02/06/2030205.shtml |title=David Korn Tells All |publisher=Slashdot |date= |accessdate=2009-10-22 |archive-date=2009-06-16 |archive-url=https://web.archive.org/web/20090616093222/http://slashdot.org/articles/01/02/06/2030205.shtml |dead-url=no }}</ref><ref>{{cite web |url=http://lists.blu.org/pipermail/discuss/1998-August/002393.html |title=Jerry Feldman — USENIX NT/LISA NT conference attendee |publisher=Lists.blu.org |date= |accessdate=2009-10-22 |archive-date=2012-02-26 |archive-url=https://web.archive.org/web/20120226175344/http://lists.blu.org/pipermail/discuss/1998-August/002393.html |dead-url=no }}</ref>在SFU版本3.0中，[[微软|微软]]使用{{tsl|en|Interix|Interix|Interix}}中的POSIX.2兼容版壳层替换了MKS Korn shell。<ref>{{cite web |url=https://technet.microsoft.com/de-de/library/bb463204(en-us).aspx |title=Windows Services for UNIX Version 3.0 |publisher=Technet.microsoft.com |date= |accessdate=2009-10-22 |archive-date=2017-08-26 |archive-url=https://web.archive.org/web/20170826175443/https://technet.microsoft.com/de-de/library/bb463204(en-us).aspx |dead-url=no }}</ref>
* 大卫·科恩的Unix兼容包{{tsl|en|UWIN||UWIN}}中含有KornShell。<ref name="Olczak2001">{{cite book|author=Anatole Olczak|title=The Korn shell: Unix and Linux programming manual|url=https://books.google.com/books?id=dCIJv94vXUMC&pg=PA4|year=2001|publisher=Addison-Wesley Professional|isbn=978-0-201-67523-8|pages=4|access-date=2019-05-04|archive-date=2020-08-04|archive-url=https://web.archive.org/web/20200804045909/https://books.google.com/books?id=dCIJv94vXUMC&pg=PA4|dead-url=no}}</ref>

== 另请参阅 ==
{{Portal|自由软件}}
* {{tsl|en|Comparison of computer shells|计算机壳层对比|计算机壳层对比}}
* [[Unix实用程序列表|Unix实用程序列表]]
* {{mono|{{tsl|en|test (Unix)|测试 (Unix)|测试}}}}软件

== 参考文献 ==
{{reflist|30em}}

== 延伸阅读 ==
* {{cite book|author1=Morris I. Bolsky|author2=David G. Korn|title=The new KornShell command and programming language|url=https://archive.org/details/newkornshellcomm00bols|year=1995|publisher=Prentice Hall PTR|isbn=978-0-13-182700-4}}
* David G. Korn, Charles J. Northrup and Jeffery Korn [http://www.linuxjournal.com/article/1273 The New KornShell—ksh93] {{Wayback|url=http://www.linuxjournal.com/article/1273 |date=20201001082229 }}, {{tsl|en|Linux Journal|Linux杂志|Linux Journal}}, Issue 27, July 1996

== 外部链接 ==
* [http://www.kornshell.com Korn shell主页（AT&T ksh）]{{WebCite|url=https://www.webcitation.org/61A4E0Rr6?url=http://www.kornshell.com/ |date=20110823211521 |dateformat=iso }}
* [https://github.com/att/ast AT&T软件技术的（AST）GitHub页] {{Wayback|url=https://github.com/att/ast |date=20201031235758 }}，其中有ksh源代码。
* [https://github.com/att/ast#mailing-lists KSH官方邮件列表] {{Wayback|url=https://github.com/att/ast#mailing-lists |date=20201031235758 }}（ast-developers及ast-users）
* {{Cite web |url=http://www.research.att.com/~gsf/man/man1/ksh.html |title=ksh93 man page |access-date=2006-08-11 |archive-url=https://web.archive.org/web/20130605160033/http://www.research.att.com/~gsf/man/man1/ksh.html |archive-date=2013-06-05 |dead-url=no }} 
* {{Cite web |url=http://www2.research.att.com/sw/download/man/man1/ksh88.html |title=ksh88 man page |access-date=2019-05-04 |archive-url=https://web.archive.org/web/20151105130220/http://www2.research.att.com/sw/download/man/man1/ksh88.html |archive-date=2015-11-05 |dead-url=yes }}
* [https://web.archive.org/web/20040216045828/http://web.cs.mun.ca/~michael/pdksh/ Public Domain Korn shell (pdksh)]
* [http://www.mirbsd.org/mksh.htm MirBSD Korn Shell（mksh）]{{Wayback|url=http://www.mirbsd.org/mksh.htm |date=20150801063222 }}
* {{man|1|mksh|MirOS BSD}}

{{Unix Shells}}

[[Category:跨平台軟體|Category:跨平台軟體]]
[[Category:用C編程的自由軟體|Category:用C編程的自由軟體]]
[[Category:脚本语言|Category:脚本语言]]
[[Category:使用Meson的软件|Category:使用Meson的软件]]
[[Category:Unix_shells|Category:Unix shells]]
[[Category:面向文本编程语言|Category:面向文本编程语言]]