{{Hh}}
{{Meta|Help:Calculation}}
{{Other uses
|subject = 關於僅需要使用簡單的'''[[實數|實數]]運算'''的場合
|other = 需要使用到[[複數_(數學)|複數]]、[[複分析|複變數]]、[[四元數|四元數]]或特殊[[代數|代數]]運算的場合
|Template:複變運算
}}
借助于Mediawiki的扩展“函数解析器”，进行计算变得可行。

;注意：目前此功能还有bug，详情见[[meta:Talk:ParserFunctions#Bugs|meta:Talk:ParserFunctions#Bugs]]。

<tt>expr</tt>函数，计算数学表达式。语法为：
{{Squote|
:<nowiki>{{#expr:</nowiki> ''表达式'' <nowiki>}}</nowiki>
}}

表达式支持的运算符有：

{| class="prettytable" style="text-align: left;"
! 运算符 || 名称 || 优先级 || 元数 || 结合性 || 样例
|-
| + || 正 || 9 || 1 || 右 || <nowiki>{{#expr: + 7}}</nowiki> = {{#expr: + 7}}
|-
| - || 负 || 9 || 1 || 右 || <nowiki>{{#expr: - 7}}</nowiki> = {{#expr: - 7}}
|-
| not || 逻辑非 || 9 || 1 || 右 || <nowiki>{{#expr: not 7}}</nowiki> = {{#expr: not 7}}
|-
| * || 乘 || 8 || 2 || 左 || <nowiki>{{#expr: 30 * 7}}</nowiki> = {{#expr: 30 * 7}}
|-
| / || 除 || 8 || 2 || 左 || <nowiki>{{#expr: 30 / 7}}</nowiki> = {{#expr: 30 / 7}}
|-
| div || 除 || 8 || 2 || 左 || <nowiki>{{#expr: 30 div 7}}</nowiki> = {{#expr: 30 div 7}}
|-
| mod || 模 || 8 || 2 || 左 || <nowiki>{{#expr: 30 mod 7}}</nowiki> = {{#expr: 30 mod 7}}
|-
| + || 加 || 6 || 2 || 左 || <nowiki>{{#expr: 30 + 7}}</nowiki> = {{#expr: 30 + 7}}
|-
| - || 减 || 6 || 2 || 左 || <nowiki>{{#expr: 30 - 7}}</nowiki> = {{#expr: 30 - 7}}
|-
| round || 舍入 || 5 || 2 || 左 || <nowiki>{{#expr: 30 / 7 round 7}}</nowiki> = {{#expr: 30 / 7 round 7}}
|-
| = || 等于 || 4 || 2 || 左 || <nowiki>{{#expr: 30 = 7}}</nowiki> = {{#expr: 30 = 7}}
|-
| < || 小于 || 4 || 2 || 左 || <nowiki>{{#expr: 30 < 7}}</nowiki> = {{#expr: 30 < 7}}
|-
| > || 大于 || 4 || 2 || 左 || <nowiki>{{#expr: 30 > 7}}</nowiki> = {{#expr: 30 > 7}}
|-
| <= || 小于等于 || 4 || 2 || 左 || <nowiki>{{#expr: 30 <= 7}}</nowiki> = {{#expr: 30 <= 7}}
|-
| >= || 大于等于 || 4 || 2 || 左 || <nowiki>{{#expr: 30 >= 7}}</nowiki> = {{#expr: 30 >= 7}}
|-
| <> || 不等于 || 4 || 2 || 左 || <nowiki>{{#expr: 30 <> 7}}</nowiki> = {{#expr: 30 <> 7}}
|-
| != || 不等于 || 4 || 2 || 左 || <nowiki>{{#expr: 30 != 7}}</nowiki> = {{#expr: 30 != 7}}
|-
| and || 逻辑与 || 3 || 2 || 左 || <nowiki>{{#expr: 30 and 7}}</nowiki> = {{#expr: 30 and 7}}
|-
| or || 逻辑或 || 2 || 2 || 左 || <nowiki>{{#expr: 30 or 7}}</nowiki> = {{#expr: 30 or 7}}
|}

round运算对运算数正负，位数正负都有不同的表现，参见下例。

逻辑运算符把假映射为0，把真映射为非0，且返回值只有0或1。

同一表达式中先计算高优先级运算。括号优先级高于一切。

== 样例 ==
*<code><nowiki>{{#expr: (100 - 32) / 9 * 5 round 0 }}</nowiki></code> = {{#expr: (100 - 32) / 9 * 5 round 0 }}：[[攝氏溫標|摄氏]][[華氏溫標|华氏]][[温度|温度]]的[[度_(温度)|度單位]][[温度单位换算|转换]]
*<code><nowiki>{{#expr: 3 < 2 < 1}}</nowiki></code> = {{#expr: 3 < 2 < 1}}
*<code><nowiki>{{#expr: 2 = 2 = 1}}</nowiki></code> = {{#expr: 2 = 2 = 1}}：与数学表达式不同，“=”、“<”、“>”等运算符有返回值
*<code><nowiki>{{#expr: 999 * 999 round -2}}</nowiki></code> = {{#expr: 999 * 999 round -2}}
*<code><nowiki>{{#expr: 999 * 999 round -20}}</nowiki></code> = {{#expr: 999 * 999 round -20}}
*<code><nowiki>{{#expr: 999 * 999 round -2.9}}</nowiki></code> = {{#expr: 999 * 999 round -2.9}}：round的危险用法
*<code><nowiki>{{#expr: 1 or 1 and 0}}</nowiki></code> = {{#expr: 1 or 1 and 0}}：优先级演示
*<code><nowiki>{{#expr: 10.9 mod 2}}</nowiki></code> = {{#expr: 10.9 mod 2}}：[[同餘|mod]]的危险用法
*<code><nowiki>{{#expr: 30------7}}</nowiki></code> = {{#expr: 30-----7}}
*<code><nowiki>{{#expr: 30+++++7}}</nowiki></code> = {{#expr: 30+++++7}}：“+”、“-”运算符有两种含义
*<code><nowiki>{{#expr: .}}</nowiki></code> = {{#expr: .}}
*<code><nowiki>{{#expr: .1.1}}</nowiki></code> = {{#expr: .1.1}}：[[实数|实数]]表达法的多样性（多出的小数点会被无视）
*<code><nowiki>{{#expr: ( ( ) )}}</nowiki></code> = {{#expr: ( ( ) )}}：特殊的[[括号|括号]]用法，没有实际意义
*<code><nowiki>{{#expr: 999999999*...*999999999}}</nowiki></code> = {{#expr: 999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999*999999999}}：[[算術溢位|数字上溢]]的结果
*<code><nowiki>{{#expr:(-1)^0.5}}</nowiki></code> = {{#expr:(-1)^0.5}}：無法對[[虛數單位|虛數單位]]進行計算
*<code><nowiki>{{Root|(-1)}}</nowiki></code> = {{Root|(-1)}}：使用[[Template:Root|根號模板]]（詳見[[Template:複變運算|Template:複變運算]]）
*<code><nowiki>{{複變運算|(-1)^0.5}}</nowiki></code> = {{複變運算|(-1)^0.5}}：使用[[Template:複變運算|複變運算模板]]
*<code><nowiki>{{複變運算|e^(((-1)^0.5) * pi)}}</nowiki></code> = {{複變運算|e^(((-1)^0.5) * pi)}}：[[歐拉恆等式|歐拉恆等式]]
*<code><nowiki>{{#expr:e^(((-1)^0.5) * pi)}}</nowiki></code> = {{#expr:e^(((-1)^0.5) * pi)}}：對比使用普通運算功能的[[歐拉恆等式|歐拉恆等式]]

== 詳細運算子、函數、常數說明 ==
{| class="wikitable sortable"
! ''表達式''
! ''<abbr title="參數數量">參數</abbr>''
! ''運算子''
! ''PHP''
! ''資料型態''
! ''<abbr title="運算子優先順序">優先級</abbr>''
! ''範例''
|-
| {{anchor|一元減|負號}}</code>'''-'''</code> || 1
| [[一元運算#一元負數和正數|一元 '''<tt>-</tt>''' 符號]] （負號）
| [http://php.net/manual/en/language.operators.arithmetic.php -] || 與參數相同 || {{nts|10}} ||
{| class="wikitable"
{{xpettu|-|12}}
{{xpettu|-|trunc12}}
{{xpettu|-|trunc(-2^63)}}
|}
|-
| {{anchor|科學記號}}'''<code>e</code>'''<br/> (位於子表達式之間)|| 2 || *10^<br/>以10為底的指數<br/>[[科學記號|科學記號]] || [http://php.net/manual/en/language.operators.arithmetic.php *] [http://php.net/manual/en/function.pow.php pow] (10,..) || 浮點數，除非左邊的參數是整數且指數是非負整數 || {{nts|10}}

|
{| class="wikitable"
{{xpettb|2|e|3}}
{{xpettb|-2.3|e|-4}}
{{xpettb|(trunc2)|e|(trunc-3)}}
{{xpettb|(trunc2)|e|(trunc0)}}
{{xpettb|(trunc2)|e|(trunc18)}}
{{xpettb|(trunc2)|e|(trunc19)}}
{{xpett|6e(5-2)e-2}}
{{xpett|1e.5}}
|}

錯誤範例：
{| class="wikitable"
|{{xpett|e4}}
|}
|-
| '''<code>exp</code>''' || 1
| [[指数函数|自然指數函數 e<sup>x</sup>]]
| [http://php.net/manual/en/function.exp.php exp] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|exp|43}}
{{xpettu|exp| trunc0}}
{{xpettu|exp|709}}
{{xpettu|exp|-744}}
|}

比較:
{| class="wikitable"
|{{xpett|e^43}}
|-
|{{xpett|trunc exp43}}
|}
|-
| '''<code>ln</code>''' || 1
| [[自然對數|自然對數]]
| [http://php.net/manual/en/function.log.php <sup>log</sup>] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|ln|2}}
{{xpettu|ln| trunc1}}
{{xpettu|ln|8.9e307}}
{{xpettu|ln|.5e-323}}
|}
可用換底公式轉換為常用對數，例如 log 2 ≒ 0.3010：
{| class="wikitable"
|{{xpett|ln2/ln10}}
|}
|-
| '''<code>abs</code>''' || 1
| [[絕對值|絕對值]]
| [http://php.net/manual/en/function.abs.php abs] || 同於輸入值，並且非負 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|abs|-2}}
{{xpettu|abs| trunc-2}}
{{xpettu|abs| trunc-2^63}}
|}
|-
| '''<code>sqrt</code>''' || 1
| [[平方根|平方根]]
| [http://php.net/manual/en/function.sqrt.php sqrt] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|sqrt| 4}}
{{xpettu|sqrt| 2}}
{{xpettu|sqrt| 1e19}}
|}
此平方根計算無法處理結果為[[虛數|虛數]]或[[複數_(數學)|複數]]的情況<br/>即對負值進行平方根會發生錯誤：
{| class="wikitable"
{{xpettu|sqrt|-1}}
|}
|-
| '''<code>trunc</code>''' || 1
| [[截尾函數|截尾函數]]
| [http://php.net/manual/en/language.types.integer.php#language.types.integer.casting (int)]， 即[[类型转换|轉換型態]]為[[整數|整數]] || 整數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|trunc|1.2}}
{{xpettu|trunc|1.8}}
{{xpettu|trunc|-1.2}}
{{xpettu|trunc|(-2^64+1e5)}}
{{xpettu|trunc|(-2^63+1e5)}}
{{xpettu|trunc|(2^63)}}
{{xpettu|trunc|(2^63+1e5)}}
{{xpettu|trunc|(2^64+1e5)}}
|}
|-
| '''<code>floor</code>''' || 1
| [[取整函数|向下取整函数]]
| [http://php.net/manual/en/function.floor.php floor] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|floor|1.2}}
{{xpettu|floor|-1.2}}
{{xpettu|floor| trunc3}}
|}
|-
| '''<code>ceil</code>''' || 1
| [[取整函数|向上取整函数]]
| [http://php.net/manual/en/function.ceil.php ceil] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|ceil|1.2}}
{{xpettu|ceil|-1.2}}
{{xpettu|ceil| trunc3}}
|}
|-
| '''<code>sin</code>''' || 1
| [[正弦函數|正弦函數]]
| [http://php.net/manual/en/function.sin.php sin] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|sin|.1}}
{{xpettu|sin| trunc1}}
|}
若要使用角度（如30°）可表達為：
{| class="wikitable"
|{{xpett|sin(30*pi/180)}}
|}
|-
| '''<code>cos</code>''' || 1
| [[餘弦函數|餘弦函數]]
| [http://php.net/manual/en/function.cos.php cos] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|cos|.1}}
{{xpettu|cos| trunc1}}
|}
|-
| '''<code>tan</code>''' || 1
| [[正切函數|正切函數]]
| [http://php.net/manual/en/function.tan.php tan] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|tan|.1}}
{{xpettu|tan| trunc1}}
|}
|-
| '''<code>asin</code>''' || 1
| [[反正弦|反正弦]]
| [http://php.net/manual/en/function.asin.php asin] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|asin|.1}}
{{xpettu|asin| trunc1}}
|}
|-
| '''<code>acos</code>''' || 1
| [[反餘弦|反餘弦]]
| [http://php.net/manual/en/function.acos.php acos] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|acos|.1}}
{{xpettu|acos| trunc1}}
{{xpettu|2*|acos 0}}
|}
|-
| '''<code>atan</code>''' || 1
| [[反正切|反正切]]
| [http://php.net/manual/en/function.atan.php atan] || 浮點數 || {{nts|9}} ||
{| class="wikitable"
{{xpettu|atan|.1}}
{{xpettu|atan| trunc1}}
{{xpettu|4*|atan 1}} 
|}
|-
| '''<code>not</code>''' || 1
| [[逻辑非|逻辑非]]
| [http://www.php.net/manual/en/language.operators.logical.php !] || 以整數表達<br/>的[[布林值|布林值]]<br/> （1 或 0） || {{nts|9}} ||
{| class="wikitable"
{{xpettu|not|0}}
{{xpettu|not|1}}
{{xpettu|not|2}}
{{xpettu|not| trunc1}}
|}
|-
| '''<code>^</code>''' || 2
| [[冪|冪]] （[[指數|指數]]）
| [http://php.net/manual/en/function.pow.php pow] || 原則上為浮點數。若底數為整數且指數為非負整數則為整數 || {{nts|8}} ||
{| class="wikitable"
{{xpettb|2|^|3}}
{{xpettb|-2|^|3}}
{{xpettb|-2|^|4}}
{{xpettb|(trunc2)|^|(trunc-3)}}
{{xpettb|(trunc2)|^|(trunc0)}}
{{xpettb|(trunc2)|^|(trunc62)}}
{{xpettb|(trunc2)|^|(trunc63)}}
{{xpettb|(-2)|^|1.2}}
{{xpettb|(-2)|^|.5}}
|}
|-
| '''<code>*</code>''' || 2
| [[乘法|乘法]]
| [http://php.net/manual/en/language.operators.arithmetic.php *] || 若兩參數為整數，則為整數，否則為浮點數 || {{nts|7}} ||
{| class="wikitable"
{{xpettb|2|*|3}}
{{xpettb|(trunc2)|*|3}}
{{xpettb|2|*|trunc3}}
{{xpettb|(trunc2)|*|trunc3}}
{{xpettb|(trunc1e10)|*|trunc1e9}}
|}
|-
| '''<code>/</code>''' （或寫作'''div'''） || 2
|| [[除法|除法]] <br/>(div非整數除法<ref name="divmod">'''<code>div</code>''' and '''<code>mod</code>''' are different from all programming languages, see [[phab:T8068|phab:T8068]]</ref>)
| [http://php.net/manual/en/language.operators.arithmetic.php /] || 原則上為浮點數。若兩參數皆為整數且[[整除|整除]]則為整數 || {{nts|7}} ||
{| class="wikitable"
{{xpettb|6|/|3}}
{{xpettb|(trunc6)|/|3}}
{{xpettb|2|/|trunc6}}
{{xpettb|(trunc6)|/|trunc3}}
{{xpettb|(trunc6)|/|trunc4}}
|}
|-
| '''<code>mod</code>''' || 2
| [[模除|模除]]。 實行[[帶餘除法|帶餘除法]]<br/>時會將前後兩數截<br/>成整數。<ref name="divmod"/>
| [http://php.net/manual/en/language.operators.arithmetic.php %] || 整數 || {{nts|7}} ||
{| class="wikitable"
{{xpettb|30|mod|7}}
{{xpettb|-30|mod|7}}
{{xpettb|30|mod|-7}}
{{xpettb|-30|mod|-7}}
{{xpettb|30.5|mod|7.9}}
|}

部分[[除數|除數]]無法取餘數 （見[[#Limitations_and_workarounds|限制章節]]）:
{| class="wikitable"
{{xpettb|123|mod|2^64}}
|}
|-
| '''<code>fmod</code>''' || 2
| [[模除|模除]]，浮點數版本。<br/>返回減去第二參數之整數<br/>倍的第一參數。
| [https://www.php.net/manual/en/function.fmod.php fmod] || 浮點數|| {{nts|7}} ||
{| class="wikitable"
{{xpettb|5.7|fmod|1.3}}
{{xpettb|99.9|fmod|60}}
{{xpettb|2.99|fmod|1}}
{{xpettb|-2.99|fmod|1}}
{{xpettb|2.99|fmod|-1}}
{{xpettb|-2.99|fmod|-1}}
|}
|-
| '''<code>+</code>''' || 2
|| [[加法|加法]]
| [http://php.net/manual/en/language.operators.arithmetic.php +] || 若兩參數皆為整數則為整數，其餘浮點數 || {{nts|6}} ||
{| class="wikitable"
{{xpettb|2|+|3}}
{{xpettb|(trunc2)|+|3}}
{{xpettb|2|+|trunc3}}
{{xpettb|(trunc2)|+|trunc3}}
{{xpettb|(trunc7e18)|+|trunc4e18}}
|}
|-
| '''<code>-</code>''' || 2
|| [[減法|減法]]
| [http://php.net/manual/en/language.operators.arithmetic.php -] || 若兩參數皆為整數則為整數，其餘浮點數 || {{nts|6}} ||
{| class="wikitable"
{{xpettb|3|-|2}}
{{xpettb|(trunc3)|-|2}}
{{xpettb|2|-|trunc2}}
{{xpettb|(trunc3)|-|trunc2}}
{{xpettb|(trunc-7e18)|-|trunc4e18}}
|}
|-
| '''<code>round</code>''' || 2
|| 將指定的小數位數<br/>做[[数值修约|四捨五入]]，若為<br/>負值則會對指數<br/>為數做四捨五入。
| [http://php.net/manual/en/function.round.php round] || 浮點數 || {{nts|5}} ||
{| class="wikitable"
{{xpettb|9.876|round|2}}
{{xpettb|(trunc1234)|round| trunc-2}}
{{xpettb|4.5|round|0}}
{{xpettb|-4.5|round|0}}
{{xpettb|46.857|round|1.8}}
{{xpettb|46.857|round|-1.8}}
|}
|-
| '''<code>=</code>''' || 2
|| [[相等|相等]]（數字或邏輯的<br/>相等運算，不支援<br/>字串比對）
| [http://php.net/manual/en/language.operators.comparison.php ==] || 以整數表達<br/>的[[布林值|布林值]]<br/> （1 或 0） || {{nts|4}} ||
{| class="wikitable"
{{xpettb|3.0|{{=}}|3}}
{{xpettb|3.1|{{=}}|3}}
{{xpettb|3.0|{{=}}|trunc3}}
{{xpettb|3.1|{{=}}|trunc3}}
{{xpettb|1e16|{{=}}|trunc(1e16)}}
{{xpettb|1e16|{{=}}|trunc(1e16)+trunc1}}
{{xpettb|trunc(1e16)|{{=}}|trunc(1e16)+trunc1}}
|}

錯誤用法：
{| class="wikitable"
|{{xpett|a{{=}}a}}
|}
|-

|-
| '''<code><</code>''' || 2
|| [[不等|小於]]（不適用於字串<br/>比較）
| [http://php.net/manual/en/language.operators.comparison.php <] || 以整數表達<br/>的[[布林值|布林值]]<br/> （1 或 0） || {{nts|4}} ||
{| class="wikitable"
{{xpettb|3|<|3}}
{{xpettb|3|<|4}}
{{xpettb|2.9|<|3}}
{{xpettb|3.0|<|3}}
{{xpettb|2.9|<|trunc3}}
{{xpettb|3.0|<|trunc3}}
{{xpettb|1e16|<|trunc(1e16)+trunc1}}
|}

wrong:
{| class="wikitable"
{{xpettb|a|<|b}}
|}
|-
| '''<code>></code>''' || 2
|| [[不等|大於]]（當參數顛倒時<br/>與 < 相同）
| [http://php.net/manual/en/language.operators.comparison.php >] || 以整數表達<br/>的[[布林值|布林值]]<br/> （1 或 0） || {{nts|4}} ||
{| class="wikitable"
{{xpettb|4|>|3}}
{{xpettb|3|>|3}}
|}
|-
| '''<code><=</code>''' || 2
|| [[不等|小於等於]]（當參數<br/>顛倒時與 >= 相同）
| [http://php.net/manual/en/language.operators.comparison.php <=] || 以整數表達<br/>的[[布林值|布林值]]<br/> （1 或 0） || {{nts|4}} ||
{| class="wikitable"
{{xpettb|3|<{{=}}|4}}
{{xpettb|3|<{{=}}|3}}
|}
|-
| '''<code>>=</code>''' || 2
| [[不等|大於等於]]（<的否定）
| [http://php.net/manual/en/language.operators.logical.php >=] || 以整數表達<br/>的[[布林值|布林值]]<br/> （1 或 0） || {{nts|4}} ||
{| class="wikitable"
{{xpettb|4|>{{=}}|3}}
{{xpettb|3|>{{=}}|3}}
|}
|-
| '''<code>and</code>''' || 2
| [[逻辑与|逻辑与]]
| [http://php.net/manual/en/language.operators.logical.php &&] || 以整數表達<br/>的[[布林值|布林值]]<br/> （1 或 0） || {{nts|3}} ||
{| class="wikitable"
{{xpettb|3|and|4}}
{{xpettb|-3|and|0}}
{{xpettb|0|and|4}}
{{xpettb|0|and|0}}
|}
|-
| '''<code>or</code>''' || 2
| [[逻辑或|逻辑或]]
| [http://php.net/manual/en/language.operators.logical.php <nowiki>||</nowiki>] || 以整數表達<br/>的[[布林值|布林值]]<br/> （1 或 0） || {{nts|2}} ||
{| class="wikitable"
{{xpettb|3|or|4}}
{{xpettb|-3|or|0}}
{{xpettb|0|or|4}}
{{xpettb|0|or|0}}
|}
|-
| {{anchor|一元加|正號}}'''<code>+</code>''' || 1
| [[一元運算#一元負數和正數|一元 '''<tt>+</tt></code>''' 符號]] （正號）
| （不適用） || 與參數相同 || 不適用 ||
{| class="wikitable"
{{xpettu|+|1}}
{{xpettu|+|-1}}
{{xpettu|+|trunc1}}
|}
|-
| {{nowrap|（數字）}} || 0
| 普通十進制的無符號<br/>數字（[[#正號|一元加]][[#負號|減]]和 [[#科學記號|e]]<br/>被視為運算符，請<br/>參見本表的其他地方） || [http://nl.php.net/manual/en/function.floatval.php floatval] || 浮點數 || 不適用
|
{| class="wikitable"
| {{xpett|1234567890123456789}}
|-
| {{xpett|123456789.0123456789}}
|}
|-
| '''<code>e</code>'''作為<br/>子表達式 || 0
| 數學常數[[e_(數學常數)|e]] || [http://php.net/manual/en/function.exp.php exp](1) || 浮點數 || 不適用
|
{| class="wikitable"
| {{xpett|e}}
|}
|-
| '''<code>pi</code>''' || 0
| 數學常數[[圓周率|圓周率]] [[圓周率|π]] || [http://php.net/manual/en/function.pi.php pi] || 浮點數 || 不適用
|
{| class="wikitable"
| {{xpett|pi}}
|}
|}

== 错误 ==
此函数进行错误检查并给出信息。
*Expression error: stack exhausted：表达式太长，栈耗尽；
*Expression error: unexpected number：不可预期的数字；
*Expression error: unexpected preg_match failure：运算符匹配失败；
*Expression error: unrecognised word "$1"：不可识别的运算符；
*Expression error: unexpected $1 operator：不可预期的运算符；
*Expression error: Missing operand for $1：缺少运算数；
*Expression error: unexpected closing bracket：不可预料的“)”
*Expression error: unrecognised punctuation character "$1"：不可识别的标点字符；
*Expression error: unclosed bracket：缺少“)”
*Division by zero：零除错误；
*In sqrt: Result is not a number：計算結果為虛數。
*Invalid argument for "$1": "$2"：超出"$1"的定義域。
=== 错误的样例 ===
*<code><nowiki>{{#expr: ---...---1}}（110个“-”）</nowiki></code> = {{#expr: --------------------------------------------------------------------------------------------------------------1}}
*<code><nowiki>{{#expr: ( ) 1}}</nowiki></code> = {{#expr: ( ) 1}}
*<code><nowiki>{{#expr: 2 d 1}}</nowiki></code> = {{#expr: 2 d 1}}
*<code><nowiki>{{#expr: * 1}}</nowiki></code> = {{#expr: * 1}}
*<code><nowiki>{{#expr: -}}</nowiki></code> = {{#expr: -}}
*<code><nowiki>{{#expr: ( 1 ) )}}</nowiki></code> = {{#expr: ( 1 ) )}}
*<code><nowiki>{{#expr: 壹}}</nowiki></code> = {{#expr: 壹}}
*<code><nowiki>{{#expr: ( 1}}</nowiki></code> = {{#expr: ( 1}}
*<code><nowiki>{{#expr: 1 / 0}}</nowiki></code> = {{#expr: 1 / 0}}
*<code><nowiki>{{#expr:sqrt-1}}</nowiki></code> = {{#expr:sqrt-1}}
*<code><nowiki>{{#expr:ln0}}</nowiki></code> = {{#expr:ln0}}
*<code><nowiki>{{#expr:asin-22}}</nowiki></code> = {{#expr:asin-22}}

== 误差 ==
[[浮点|浮点]][[误差|误差]]有可能造成某些运算的不可预料的结果，特别是最后几位数字的不精确。因此在使用此函数进行[[实数|实数]]运算时，注意不要进行比较运算。

==  注意内部数字表示 ==
*<code><nowiki>{{#expr: 100000000000000000}}</nowiki></code> = {{#expr: 100000000000000000}}
*<code><nowiki>{{#expr: {{#expr: 100000000000000000}}}}</nowiki></code> = {{#expr: {{#expr: 100000000000000000}}}}
*<code><nowiki>{{#expr: (-1.5-0.5 round 0)+2}}</nowiki></code> = {{#expr: (-1.5-0.5 round 0)+2}}
*<code><nowiki>{{#expr: -0.1 round 0}}</nowiki></code> = {{#expr: -0.1 round 0}}
*<code><nowiki>{{#expr: 2017.5000 round 3}}</nowiki></code> = {{#expr: 2017.5000 round 3}}：使用時會有無法補零的情形。欲補零，可以使用{{tl|Round}}模板來解決
在返回值中，有可能出现无法'''再计算'''的数的情况，或者有一部分[[有效数字|有效数字]]没有显示出来。因此在使用此函数进行运算时，须注意这些问题。

== 参见 ==
*[[Template:複變運算|Template:複變運算]]：MediaWiki原生的運算功能僅支援[[實數|實數]]的運算。若需要[[複數_(數學)|複數]]或[[複分析|複變數]]甚至[[四元數|四元數]]的計算可使用[[Template:複變運算|Template:複變運算]]模板，如上述示例中對負值取平方根時。
*[[Help:模板扩展语法|Help:模板扩展语法]]
*更多资料可参见[[:m:help:Calculation|:m:help:Calculation]]{{English}}。

{{-}}
{{H-f Help}}

[[Category:維基百科文字幫助文檔|JS]]