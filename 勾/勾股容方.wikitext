[[File:Gougurongfang.jpg|thumb]]
[[File:Gougu2fang.jpg|thumb]]
[[File:Daizhen_gougurongfang.jpg|thumb]] 《句股容方图》]]
'''勾股容方'''是古代[[中国数学|中国数学]]中的一个命题。出自《[[九章算术|九章算术]]》第九卷《勾股》章第十五题。经[[三国|三国]]时[[数学家|数学家]][[刘徽|刘徽]]论证，其后又经中国历代数学家研究和扩充为股中容直，勾中容横，由此产生一套具有中国传统数学特色的求解[[直角三角形|直角三角形]][[几何学|几何学]]问题的方法，广泛用于在中国古代几何学和测量学。中国古代没有古[[希腊|希腊]][[欧几里得|欧几里得]][[几何学|几何学]]的[[平行线|平行线]]概念，采用容方、容横、容直概念，收到异曲同工的效用。

《[[九章算术|九章算术]]》第九卷《勾股》章第十五题；“今有勾五步，股十二步，问'''勾中容方'''几何？答曰三步十七分步之九。术曰：并勾股为法，勾股相乘为实，实如法而一，得方一步。”如图直角[[三角形|三角形]]ABC中内接[[正方形|正方形]]DEFB。直角三角形高（股））H=AB，底长（勾）L=BC，正方形边长为X。答案：以勾5步、股12步之和为分母（并勾股为法）；以勾5步、股12步之积为分子（勾股相乘为实），得勾中容方之边长= 12x5/(12+5) = 60/17 = 3　9/17

[[刘徽|刘徽]]为勾股容方的关系式，提供了两个证明，一个是利用[[出入相补|出入相补]]原理，即利用几何图形在移动、转动时面积守恒，将几何图形重新排列，以求结果的方法。先将三角形ABC复制，倒置，和原三角形合併成为一个高为H、宽为L的长方形，如图。将两个邊長為X的正方形标以黄色，两个大直角三角形标以红色，两个小直角三角形标以青色<ref>（清）[[戴震|戴震]]《句股容方图》</ref>。再将左图的两个黄色正方形、两个红色大直角三角形、两个青色小直角三角形，重新排列如右图。从出入相补，面积守恒原理，左图的面积和右图的面积相等。左图面积=HL， 右图面积=X(H+L)<ref>刘徽《[[九章算术|九章算术]]》注曰；“勾股相乘为朱、青、黄幂各二，令黄幂连于下隅，朱、青各以类合，共成修幂。中方黄为广，并勾股为袤，故并勾股为法。”</ref>

HL = X(H+L)

由此得出勾股容方的关系式：

邊长 X = HL / (H+L)

刘徽的第二个证明，利用相似三角形比率不变原理。刘徽注曰：“幂图方在勾中，则方之两廉各自成小勾股，其相与之势，不失本率也”。
即内接正方形DEFB的两边DE,EF与直角三角形的三边，各自形成小的直角三角形，而这两个小直角三角形三边的比率，和原来大直角三角形的三边比率相同。刘徽从勾中容方中归纳出“不失本率”原理，即三个相似三角形比率相同。

: AD : DE : AE = EF : FC : EC = AB : BC : AC 

令股高为H，勾长为L，勾股容方的边长为X，根据不失本率原理，

: (H-X) : X = H : L 
:   HL - XL = HX 
:   HX + XL = HL 
:   得勾股容方关系式　　　Ｘ＝ＨＬ／（Ｈ＋Ｌ）

==股中容直==
[[File:Gougurongfangzhi.JPG|thumb]]
勾中容方可以转变为股中容直

将三角形ABC倒置，与之重叠成长方形ABCD 如图；其次从勾中容方接触点E画水平线EM，垂直线EK，与长方形的边相交，如图，三角形ACD内接长方形KDME，构成'''股中容直'''。

图中三角形ABC中内接红色正方形１，三角形ADC中内接綠色长方形２。

中国古代数学中的一条定理，“勾中容方与股中容直，其积必等”由此而来。

由於三角形ABC相等三角形ADC，而三角形３＝三角形４；三角形５＝三角形６；所以從三角形ABC中减去三角形３，三角形５，剩下的正方形１，必然等於從三角形ADC中减去三角形４和三角形６後，所剩餘的长方形２。

即：
:三角形ABC＝正方形１＋三角形３＋三角形５
:三角形ADC＝长方形２＋三角形４＋三角形６
因為　三角形ABC＝三角形ADC

所以　正方形１＋三角形３＋三角形５＝长方形２＋三角形４＋三角形６

又因　三角形３＝三角形４

　　　三角形５＝三角形６

所以　正方形１＝长方形２
: 如以 X代表正方形边长，H代表股高，L代表勾长
: 得勾股容方的另一关系式：

: <math>X^2</math>  = (H-X) (L-X)

这个关系式和关系式 X = HL / (H+L) 等价；

: <math>X^2</math>  = HL - HX - LX + <math>X^2</math> 

由此得出 X = HL / (H+L) 

[[File:Square_city.jpg|thumb]]
《九章算术》第九卷勾股章第十七题：“今有邑，方二百步，各中开门。出东门十五步有木，问出南门几何步而见木？答曰：六百六十六步太半步。”

如图，方城宽200步，出东门15步有一棵树T，出南门X步到P点看到树，求X.

根据上列“勾中容方与股中容直，其积必等”定理，可得

:   15 * X = 100 x 100 步
:    X = 10000 / 15 = 666.6 步

==勾中容横==
[[File:Gouzhongrongzhi.jpg|thumb]]
[[File:Rectangle_city.JPG|thumb]]

再推广一步，图中三角形ABC中内接红色横长方形５，三角形ADC有内接长方形６。“勾中容横，股中容直，二积皆等”。
由于三角形ABC相等三角形ADC，而三角形１＝三角形２；三角形３＝三角形４；所以从三角形ABC中减去三角形１，三角形３，剩下的长方形５必然等于三角形ADC减去三角形２，三角形４后，所剩余的长方形６。

又因；长方形５＋三角形３＋三角形４＝长方形６＋三角形４＋三角形３

即　长方形EBCG ＝ 长方形HDCK

所以　EB x BC = FG x AB

又因；长方形５＋三角形１＋三角形２＝长方形６＋三角形１＋三角形２

即　长方形AHKB ＝ 长方形ADGE

所以　EF x AB = AE x EG

《九章算术》第九卷第十八題：“今有邑，东西七里，南北九里，各中开门。出东门十五里有木，问出南门几何步而见木？答曰：三百一十五步。”

用勾中容横与股中容直，其积必等定理

得　15X = 3.5 x 4.5 

　　　X = 3.5 x 4.5 / 15 = 1.05 里 = 1.05 x 300 = 315 步

==薄透镜成像==
[[File:LENS.jpg|thumb]]
[[File:Newton_lens_formula.jpg|thumb]]

薄透镜成像的规律（包括[[牛顿|牛顿]][[透镜成像公式|透镜成像公式]]）蕴含着勾股容方的关系式。[[加拿大|加拿大]]科学家Harold Merklinger所著的关于[[摄影机|摄影机]][[镜头|镜头]][[景深|景深]]的书籍，封面上正是一幅“勾股容方”图<ref>[http://pixhost.eu/avaxhome/gfxworld/2007-04-17/0969502508_.jpg]{{dead link|date=2017年11月 |bot=InternetArchiveBot |fix-attempted=yes }}</ref>

如图物距为D，像距为d，透镜焦点为f，

透镜成像公式：　1/f = 1/D + 1/d = (D+d) / Dd

即　　　f = Dd / (D+d)

这恰恰是'''勾股容方'''的关系式，即勾d，股D，容方长为f．

从勾中容方，股中容直，其积相等原理，可知图中黄色正方形的面积＝藍色长方形的面积，

:　(D-f) (d-f) = f*f

这正是著名的[[牛顿|牛顿]][[透镜成像公式|透镜成像公式]]。

==参考文献==
{{reflist}}
{{refbegin}}
*《[[九章算术|九章算术]]》第九卷
*[[吴文俊|吴文俊]]主编 《[[中国数学史大系|中国数学史大系]]》 第三卷 第三章 刘徽对勾股理论的论述 第三节 ISBN 7-303-04557-0
*Harold Merklinger: The INs and OUTs of FOCUS ISBN 0-9695025-0-8
{{refend}}

{{中国数学史}}
[[Category:中國古代數學|Category:中國古代數學]]
[[Category:三角形几何|Category:三角形几何]]