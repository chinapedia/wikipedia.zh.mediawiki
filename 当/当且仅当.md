{{NoteTA
|G1 = IT
|G2 = Math
}}
{{各地中文名
|cn = 当且仅当
|tw = 若且唯若
|hk = 當且僅當
}}
{{quote box |quote = {{resize|400%|↔<!-- Unicode 2194 -->⇔<!-- Unicode 21d4 -->≡<!-- Unicode 2261, "Identical to" -->}}<br />'''当且仅当'''的逻辑符号}}

'''当且仅当'''（{{lang-en|if and only if}}，{{lang|en|iff}}），在數位邏輯中，[[逻辑运算符|逻辑算符]]'''[[反互斥或閘|反互斥或閘]]'''（<b xml:lang="en">exclusive or</b>）是对两个[[运算元|运算元]]的一种[[逻辑或|邏輯分析]]类型，符号为'''XNOR'''或'''ENOR'''或<math>\Leftrightarrow</math>。与一般的[[邏輯或非|邏輯或非]]NOR不同，當兩兩數值相同為是，而數值不同時為否。在[[数学|数学]]、[[哲学|哲学]]、[[逻辑学|逻辑学]]以及其他一些技术性领域中被用来表示“在这个条件成立，并且仅在这个条件成立时”之意。-{zh-tw:若; zh-cn:当; zh-hk:當;}-命题<math>p, q</math>满足“-{zh-tw:若; zh-cn:当; zh-hk:當;}-<math>p</math>则<math>q</math>”且“仅当<math>p</math>则<math>q</math>”时，称为“当且仅当<math>p</math>则<math>q</math>”，其他[[等价关系|等价]]的说法有“<math>q</math>当且仅当<math>p</math>{{NoteTag|直譯自{{lang|en|''q'' if and only if ''p''}}，並不符-{}-合[[漢語語法|漢語語法]]。}}”；“<math>p</math>是<math>q</math>的[[充分必要条件|充分必要条件]]（充要條件）”；“<math>p</math>[[等价|等价]]于<math>q</math>”。

一般而言，當我們看到“当且仅当<math>p</math>则<math>q</math>”，我們可以知道“如果<math>p</math>成立時，則<math>q</math>一定成立；如果<math>q</math>成立時，則<math>p</math>也一定成立”；“如果<math>p</math>不成立時，則<math>q</math>一定不成立；如果<math>q</math>不成立時，則<math>p</math>也一定不成立”。

== 当且仅当 ==
=== 标记 ===
与此相对应的逻辑符号是<math>\leftrightarrow</math>和<math>\Leftrightarrow</math>。这两个通常被当作是相等的。但是，一些数学教科书，特别是那些关于[[一阶逻辑|一阶逻辑]]而非[[命题逻辑|命题逻辑]]对此有所区别，在那里前者被用来表示逻辑公式，后者表示那些公式的推理（譬如说在[[元逻辑|元逻辑]]中）。

=== 证明 ===
设<math>p</math>与<math>q</math>為两[[命题|命题]]，在[[证明论|证明]]“当且仅当<math>p</math>则<math>q</math>”时，这相当于去同时证明陈述“如果<math>p</math>成立，则<math>q</math>成立”和“如果<math>q</math>成立，则<math>p</math>成立”。另外，也可以证明“如果<math>p</math>成立，则<math>q</math>成立”和“如果<math>p</math>不成立，则<math>q</math>不成立”，后者作为对偶，等价于“如果<math>q</math>成立，则<math>p</math>成立”。

=== 有关英语缩写{{lang|en|iff}}的开端 ===
在出版物中，英语'''{{lang|en|iff}}'''的表示标记最早出现在[[约翰·L·凯利|约翰·L·凯利]]的《一般拓扑学》中。它的发明通常被认为是归于[[数学家|数学家]][[保罗·哈尔莫斯|保罗·哈尔莫斯]]，但在哈尔莫斯的自传中却声明该标记另有出处，他只是首先在数学领域使用<ref name="Higham1998">{{cite book|author=Nicholas J. Higham|title=Handbook of writing for the mathematical sciences|url=http://books.google.com/books?id=9gQd2fJA7Y4C&pg=PA24|year=1998|publisher=SIAM|isbn=978-0-89871-420-3|page=24|edition=2nd}}</ref>。

== “-{zh-tw:若; zh-cn:当; zh-hk:當;}-”与“当且仅当” ==
简单地，如下的两个例子可以说明这两者的不同：
# '''-{zh-tw:若; zh-cn:当; zh-hk:當;}-'''冰淇淋是香草口味的，则小王会吃这个冰淇淋。
#:这等于说：如果冰淇淋是香草口味的，那么-{}-小王一定会吃这个冰淇淋。
# '''当且仅当'''冰淇淋是香草口味，则小王会吃这个冰淇淋。
#:这等于说：如果冰淇淋是香草口味的，那么-{}-小王一定会吃这个冰淇淋；并且，如果小王吃冰淇淋，那么这个冰淇淋一定是香草口味的。

第1句指小王一定会吃香草口味的冰淇淋，但没有排除他会吃[[香草|香草]]口味以外冰淇淋的可能性，能肯定的是他不会拒绝香草口味的冰淇淋。

第2句指小王'''一定吃且只吃'''香草口味的冰淇淋，他不会吃其它口味的冰淇淋。

== 进一步的思考 ==
用「当且仅当」连接两个句子造成的句子被称为是“双条件句”。“当且仅当”把两个句子结合成新的句子。它不应该跟描述两个句子之间关系的“[[逻辑等价|逻辑等价]]”混淆。

双条件句“当且仅当<math>p</math>则<math>q</math>”，是用<math>p</math>和<math>q</math>来陈述<math>p</math>和<math>q</math>所描述的事件状况之间的关系。

相对照的，“<math>p</math>逻辑等价于<math>q</math>”则注重两个句子：它只是陈述两个句子之间的关系，而不是它们所介绍的什么事情。

这里的区别非常容易混淆，已经使得很多哲学家迷惑。当然，在“<math>p</math>逻辑等价于<math>q</math>”时，“当且仅当<math>p</math>则<math>q</math>”为真，但是它的逆并不成立。让我们重新考虑上面的句子：

* 当且仅当冰淇淋是香草口味，则小王会吃这个冰淇淋。

很清楚，对于这个特定的双条件句，两个半句之间并没有逻辑等价。如想了解更多的差异，请参照W. V. Quine的《数理逻辑，第5节》。

在哲学和逻辑学中，“当且仅当”通常用作[[定义|定义]]，因为定义被认为是[[全称量化|全称量化]]的双条件句。但在数学中，相比起“当且仅当”，''如果''通常被用于定义。这里给出一些使用到“当且仅当的”真陈述，也是真双条件句（第一句是一个定义的例子）：

* 当且仅当一个人是未婚且可结婚的男人，则他是单身男性。
* 当且仅当<math>x=1</math>，则<math>x+1=2</math>。
* 对于任意命题<math>p, q, r</math>，当且仅当<math>(p \land q) \land r</math>，则<math>p \land (q \land r)</math>。

== 更一般的用法 ==
“当且仅当”在逻辑领域以外，在数学出版物或者普通的谈话中也会用到。如同上面所说，它指的是某个陈述是另外一个的充分必要条件。这是一个数学术语的例子。

== 注解 ==
{{NoteFoot}}

== 参考文献 ==
{{Reflist}}

== 参见 ==
{{Portal|数学|技术|哲学|语言}}
* [[充分必要条件|充分必要条件]]
* [[等价关系|等价关系]]
* [[等价符号|等价符号]]

{{-}}
{{逻辑联结词}}

[[Category:邏輯聯結詞|D]]
[[Category:数学术语|D]]
[[Category:二元運算|D]]
[[Category:必然性|Category:必然性]]