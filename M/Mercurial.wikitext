{{noteTA|G1=IT|G2=FL}}
{{Infobox Software
| name = Mercurial
| logo = New Mercurial logo.svg
| screenshot =
| caption =
| developer = Matt Mackall
| latest_release_version = 6.1
| latest_release_date = {{Release date and age|2022|03|01}}
| latest_preview_version = 6.1rc0
| latest_preview_date = {{Release date and age|2022|02|18}}
| operating_system = [[类Unix|类Unix]], [[Microsoft_Windows|Windows]], [[Mac_OS_X|Mac OS X]]
| programming_language = [[Python|Python]]和[[C语言|C语言]]
| platform =
| genre = [[版本控制|版本控制]]
| license = [[GPL|GPL]] v2
| website = {{URL|https://www.mercurial-scm.org/}}
}}

'''Mercurial'''是[[跨平台|跨平台]]的[[分布式版本控制|分布式版本控制]]软件，主要由[[Python|Python]]语言实现，但也包含用[[C语言|C语言]]实现的二进制比较工具。Mercurial一开始的主要运行平台是[[Linux|Linux]]，现在Mercurial已经移植到[[Windows|Windows]]、[[Mac_OS_X|Mac OS X]]和大多数的[[类Unix|类Unix]]系统中。Mercurial主要由[[命令行界面|命令行]]程序组成，现在也有了[[图形用户界面|图形用户界面]]。对Mercurial的所有操作都由用不同的关键字作为参数调用程序“hg”来实现，Hg是参考[[水银|水银]]的[[化学符号|化学符号]]而取的名字。

Mercurial的主要设计目标包括高性能、可扩展性、分散性、完全分布式合作开发、能同时高效地处理[[文本|纯文本]]和[[二进制文件|二进制文件]]，以及分支和合并功能，以此同时保持系统的简洁性<ref>[http://selenic.com/mercurial/wiki/index.cgi/Presentations?action=AttachFile&do=get&target=ols-mercurial-paper.pdf Matt Mackall, Towards a Better SCM: Revlog and Mercurial] {{Wayback|url=http://selenic.com/mercurial/wiki/index.cgi/Presentations?action=AttachFile&do=get&target=ols-mercurial-paper.pdf |date=20090405193828 }}, Ottawa Linux Symposium Proceedings, 2006.</ref>。Mercurial也包括一个集成的Web界面。

Mercurial的创建者和主要开发人员是Matt Mackal。其[[源代码|源代码]]采用[[GNU通用公共许可证|GNU通用公共许可证]]第二版为授权，确保了Mercurial是一个[[自由软件|自由软件]]。

== 技术细节 ==
Mercurial采用[[SHA-1|SHA-1]]散列算法来识别修订版本。Mercurial使用一个基于[[HTTP|HTTP]]的协议来接入网络中的版本库，旨在减少往返的提交、连接数和数据传输。Mercurial也可以工作在[[Secure_Shell|ssh]]环境下，其协议和基于HTTP的协议非常相似。

== 文档 ==
Bryan O'Sullivan已写作了一个全面的参考手册：''Mercurial：权威指南''<ref>{{cite book
| author = Bryan O'Sullivan
| date = 2007-01-01
| title = Mercurial: The Definitive Guide
| url = http://hgbook.red-bean.com/
| access-date = 2009-10-07
| archive-date = 2019-10-25
| archive-url = https://web.archive.org/web/20191025073208/http://hgbook.red-bean.com/
| dead-url = no
}}</ref>。该手册根据[[开放出版许可协议|开放出版许可协议]]免费提供。

== 历史 ==
Mackall在2005年4月19日第一次发布了Mercurial。<ref>{{cite mailing list
 |last        = Mackall
 |first       = Matt
 |date        = 2005-04-20
 |title       = Mercurial v0.1 - a minimal scalable distributed SCM
 |url         = http://www.ussg.iu.edu/hypermail/linux/kernel/0504.2/0670.html
 |mailinglist = [[Linux_kernel_mailing_list|Linux kernel]]
 |deadurl     = yes
 |archiveurl  = https://web.archive.org/web/20081010213008/http://www.ussg.iu.edu/hypermail/linux/kernel/0504.2/0670.html
 |archivedate = 2008-10-10
 |access-date = 2009-10-07
}}</ref>其动机是当月Bitmover公司宣布撤销其免费版本的[[BitKeeper|BitKeeper]]。

2005年时BitKeeper已经被用于[[Linux内核|Linux内核]]的项目版本控制。Mackall决定为Linux内核开发写一个分布式的版本控制软件来替代BitKeeper。在该项目启动数天前，[[Linus_Torvalds|Linus Torvalds]]基於類似的目的開始了另一個現在相當知名的版本控制軟體[[Git|Git]]。<ref>{{cite mailing list|url=http://lkml.indiana.edu/hypermail/linux/kernel/0504.3/1404.html|title=Re: Mercurial 0.4b vs git patchbomb benchmark|date=2005-04-29|mailinglist=[[Linux_kernel_mailing_list|Linux kernel]]|last=Mackall|first=Matt|deadurl=yes|archiveurl=https://archive.is/20120709203437/http://lkml.indiana.edu/hypermail/linux/kernel/0504.3/1404.html|archivedate=2012-07-09|access-date=2009-10-07}}</ref>

Linux内核开发项目决定使用[[Git|Git]]而不是Mercurial，但Mercurial也使用于在很多其他的项目中（见[[#采用Mercurial的项目|下文]]）。

== 相关软件 ==
*Mercurial[[图形用户界面|图形用户界面]]有：''Hgk''（Tcl／Tk）。该程序作为Mercurial的插件而开发，现在被直接包含于正式版本中。界面可以通过命令命令'hg view'来调用（如果安装了该扩展的话）。hgk最初来源于名为gitk的类似工具。hgk有一个名为[http://www.logilab.org/project/name/hgview hgview] {{Wayback|url=http://www.logilab.org/project/name/hgview |date=20201202183258 }}是纯Python编写的替代软件，同时提供GTK和QT界面。
*合并用的工具包括（h）gct(Qt)和Meld''。
*转换插件可以将[[協作版本系統|CVS]]、{{link-en|Darcs|Darcs}}、[[Git|Git]]、[[GNU_arch|GNU arch]]、[[Monotone|Monotone]]、{{link-en|Perforce|Perforce}}、[[GNU_Bazaar|GNU Bazaar]]和[[Subversion|Subversion]]的版本库转换为Mercurial的版本库。
*从第6版Mercurial开始支持[[NetBeans|NetBeans]]。
*[[TortoiseHg|TortoiseHg]]提供了一个面向Windows的基于右键菜单的友好界面，也用于GNOME的Nautilus文件管理器。

== 其他 ==
=== 代码托管 ===
以下网站提供免费的Mercurial版本库托管：
* [[Bitbucket|Bitbucket]]
* [[Google_Code|Google Code]]<ref>{{cite web 
 |date=2009-05-28 
 |title=Google Code Blog: Mercurial Now Available to All Open Source Projects 
 |url=http://google-code-updates.blogspot.com/2009/05/mercurial-now-available-to-all-open.html 
 |archiveurl=https://archive.today/20121201234954/http://google-code-updates.blogspot.de/2009/05/mercurial-now-available-to-all-open.html 
 |archivedate=2012-12-01 
 |deadurl=yes 
 |accessdate=2009-10-07 
 }}</ref>
* [[JavaForge|JavaForge]]   <ref>{{cite web |title = MercurialEclipse 1.6.0: Enterprise Codebases with Ease |url = http://blogs.intland.com/main/entry/20100511 |deadurl = yes |archiveurl = https://web.archive.org/web/20100514082634/http://blogs.intland.com/main/entry/20100511 |archivedate = 2010-05-14 |accessdate = 2010-06-17 }}</ref>
* [[Project_Kenai|Project Kenai]] by [[Sun_Microsystems|Sun Microsystems]]
* [[SourceForge|SourceForge]]
* [[GNU_Savannah|GNU Savannah]]
* [[Alioth_(Debian)|Alioth]] by [[Debian|Debian]]
* [[BerliOS|BerliOS]]
* [https://web.archive.org/web/20090926153536/http://mercurial.selenic.com/wiki/MercurialHosting 在Mercurial wiki中列出的其他网站]
* [http://www.codeplex.com CodePlex] {{Wayback|url=http://www.codeplex.com/ |date=20110115060708 }}

=== 采用Mercurial的项目 ===
这些项目（部分）使用了Mercurial作为版本控制<ref>{{Cite web |url=http://selenic.com/mercurial/wiki/index.cgi/ProjectsUsingMercurial |title=一些使用Mercurial的项目 |accessdate=2009-10-07 |archive-date=2009-04-22 |archive-url=https://web.archive.org/web/20090422050234/http://www.selenic.com/mercurial/wiki/index.cgi/ProjectsUsingMercurial |dead-url=no }}</ref>

{{colbegin|3}}
* [[Mozilla|Mozilla]]<ref>{{cite web
 |author      = J. Paul Reed
 |date        = 2007-04-12
 |title       = Version Control System Shootout Redux Redux
 |url         = http://weblogs.mozillazine.org/preed/2007/04/version_control_system_shootou_1.html
 |deadurl     = yes
 |archiveurl  = https://web.archive.org/web/20090321111740/http://weblogs.mozillazine.org/preed/2007/04/version_control_system_shootou_1.html
 |archivedate = 2009-03-21
 |accessdate  = 2009-10-07
}}</ref>
* [[OpenJDK|OpenJDK]]<ref>{{cite interview 
 |subject=[[James_Gosling|James Gosling]] 
 |interviewer=Robert Eckstein 
 |url=http://java.sun.com/developer/technicalArticles/Interviews/gosling_os1_qa.html 
 |title=James Gosling on Open Sourcing Sun's Java Platform Implementations, Part 1 
 |date=October 2006 
 |deadurl=yes 
 |archiveurl=https://web.archive.org/web/20090301091240/http://java.sun.com/developer/technicalArticles/Interviews/gosling_os1_qa.html 
 |archivedate=2009-03-01 
 |access-date=2009-10-07 
 }}</ref>
* [[OpenSolaris|OpenSolaris]]<ref>{{cite web
 |title       = OpenSolaris SCM Project History
 |url         = http://opensolaris.org/os/community/tools/scm/history/
 |date        = 2006-10-05
 |deadurl     = yes
 |archiveurl  = https://web.archive.org/web/20090925145808/http://opensolaris.org/os/community/tools/scm/history/
 |archivedate = 2009-09-25
 |accessdate  = 2009-10-07
}}</ref>
* [[Symbian_OS|Symbian OS]]<ref>{{cite web
| author = David Wood
| date = 2009-04-06
| url = http://blog.symbian.org/2009/04/06/collaboration-at-the-heart/#comment-789
| title = We decided in the end to use Mercurial rather than Git.
| accessdate = 2009-05-07
| archive-date = 2010-12-06
| archive-url = https://web.archive.org/web/20101206202744/http://blog.symbian.org/2009/04/06/collaboration-at-the-heart/#comment-789
| dead-url = no
}}</ref>
* The [[Xen|Xen]] hypervisor<ref>{{cite mailing list
| author = [[Ian_Pratt|Ian Pratt]]
| date = 2005-07-01
| title = mercurial now live
| url = http://lists.xensource.com/archives/html/xen-devel/2005-07/msg00003.html
| mailinglist = Xen-devel
| access-date = 2009-10-07
| archive-date = 2009-02-18
| archive-url = https://web.archive.org/web/20090218232040/http://lists.xensource.com/archives/html/xen-devel/2005-07/msg00003.html
| dead-url = no
}}</ref>
* [[Adblock_Plus|Adblock Plus]]
* [[Adium|Adium]]
* [[Aldrin_(Application)|Aldrin]]
* [[Audacious_Media_Player|Audacious]]
* [[CubicWeb|CubicWeb]]
* [[Dovecot_(software)|Dovecot]] IMAP server<ref>{{cite mailing list
| author = [[Timo_Sirainen|Timo Sirainen]]
| date = 2007-05-19
| title = CVS to Mercurial switch
| url = http://www.dovecot.org/list/dovecot-news/2007-May/000044.html
| mailinglist = Dovecot-news
| access-date = 2009-10-07
| archive-date = 2015-09-23
| archive-url = https://web.archive.org/web/20150923220110/http://www.dovecot.org/list/dovecot-news/2007-May/000044.html
| dead-url = no
}}</ref>
* [[GNU_Octave|GNU Octave]]
* [[Growl_(software)|Growl]]
* [[LinuxTV|LinuxTV]]/[[Video4Linux|Video4Linux]]
* [[LuxRender|LuxRender]] 3D Render Engine
* [[MoinMoin|MoinMoin]] wiki software
* [[Mutt_(email_client)|Mutt (email client)]]
* [[Netbeans|Netbeans]]<ref>{{cite web
| url = http://www.netbeans.org/servlets/ReadMsg?list=nbdev&msgNo=40342
| title = Switch to hg.netbeans.org completed
| date = January 2008
| accessdate = 2009-10-07
| archive-date = 2012-09-18
| archive-url = https://web.archive.org/web/20120918094303/http://netbeans.org/servlets/ReadMsg?list=nbdev&msgNo=40342
| dead-url = no
}}</ref>
* [[NxOS|NxOS]]
* [[Nuxeo|Nuxeo]]
* [[SAGE_(computer_algebra_system)|SAGE]]
* [[x265|x265]]<ref>{{cite web
| url = http://hg.videolan.org/x265
| title = x265: log
| accessdate = 2014-06-18
| archive-date = 2020-11-30
| archive-url = https://web.archive.org/web/20201130015959/http://hg.videolan.org/x265
| dead-url = no
}}</ref>
{{colend}}

== 参见 ==
{{Portal|自由软件}}
*[[版本控制|版本控制]]
*[[分布式版本控制|分布式版本控制]]
*[[版本控制软件列表|版本控制软件列表]]
*[[版本控制软件的比较|版本控制软件的比较]]

== 参考文献 ==
{{reflist|2}}

== 外部链接 ==
*{{en}}[https://web.archive.org/web/20091006231438/http://mercurial.selenic.com/wiki 官方Mercurial项目wiki]
*{{en}}[http://hg-scm.org/ 非官方的Mercurial主页] {{Wayback|url=http://hg-scm.org/ |date=20201126060254 }}
*{{en}}[http://hgbook.red-bean.com/ Mercurial：权威指南] {{Wayback|url=http://hgbook.red-bean.com/ |date=20191025073208 }}，Bryan O'Sullivan 2009年通过O'Reilly出版，免费在网上发布
*Mercurial: an alternative to git from LWN.net
*[http://genunix.org/wiki/index.php/Mercurial_for_TeamWare_users TeamWare用户] {{Wayback|url=http://genunix.org/wiki/index.php/Mercurial_for_TeamWare_users |date=20081026130736 }}
*[http://video.google.com/videoplay?docid=-7724296011317502612 Google TechTalk on Mercurial] {{Wayback|url=http://video.google.com/videoplay?docid=-7724296011317502612 |date=20100406025628 }}
*[https://web.archive.org/web/20130603051821/http://www.javaworld.com/javaworld/jw-09-2007/jw-09-versioncontrol.html?page=1 Subversion还是CVS、Bazaar或者Mercurial？比较四个开源版本控制系统]

{{Translation/Ref|en|Mercurial|oldid=318417746}}
{{Revision control software}}

[[Category:版本控制系统|Category:版本控制系统]]
[[Category:自由跨平台軟體|Category:自由跨平台軟體]]
[[Category:用C編程的自由軟體|Category:用C編程的自由軟體]]
[[Category:用Python編程的自由軟體|Category:用Python編程的自由軟體]]