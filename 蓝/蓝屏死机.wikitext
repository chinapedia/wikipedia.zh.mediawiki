{{NoteTA 
|G1 = IT
|T = zh-cn:蓝屏死机; zh-tw:藍白當機畫面; zh-hk:藍屏死機;
|1 = zh-cn:蓝屏死机; zh-tw:藍白當機畫面; zh-hk:藍屏死機;
|2 = zh-cn:蓝屏; zh-tw:藍白畫面; zh-hk:藍屏;
|3 = 蓝屏死机画面=>zh-tw:藍白當機畫面
|4 = zh-cn:红屏死机; zh-tw:紅白當機; zh-hk:紅屏死機;
|5 = zh-cn:绿屏死机; zh-tw:綠白當機; zh-hk:綠屏死機;
}}
{{Refimprove|time=2013-04-24T18:27:31+00:00}}
{{Otheruses
|subject=一種電腦故障畫面
|other=使用藍色背景的一種攝影技術
|色鍵
}}
{{redirect|BSoD|缩写同样为“BSoD”的系统错误|黑屏死机}}
{{not|红屏死机|绿屏死机}}
{{各地中文名
|name={{lang|en|Blue Screen of Death}}
|zh-tw=藍螢幕當機、藍白當機
|zh-hk=藍屏死機、藍畫面當機
|zh-cn=蓝屏死机、蓝屏
}}
[[File:Bsodwindows10.png|thumb]]中的蓝屏死机画面（版本 1607-21H2），它包含了一个[[悲伤|悲伤]]的[[颜文字|颜文字]]和一个用于快速排查错误的[[QR碼|QR碼]]。]]
[[File:Blue_Screen_of_Death_at_the_University_Town_station_of_Shenzhen_Metro.jpg|thumb]]大学城站的[[深圳通|深圳通]]充值机蓝屏死机]]
[[File:Windows_Blue_Screen_on_room_full_of_computers.JPG|thumb]]
[[File:Blue_screen_(Windows_2000,_Seoul_Subway).jpg|thumb]]車廂內的蓝屏死机]]

'''蓝屏死机'''（{{lang-en|Blue Screen of Death}}，缩写为：BSoD）指的是[[微软|微软]][[Microsoft_Windows|Windows]][[操作系统|操作系统]]在无法从一个系统错误中恢复过来时所显示的屏幕图像。

當[[Windows_9x|Windows 9x]]出現BSOD錯誤時，通常會顯示兩次BSOD畫面。

[[Windows_NT体系结构|Windows NT系列]]（包括[[Windows_2000|Windows 2000]]、[[Windows_XP|Windows XP]]等）的穩定性高於Windows 9x，當Windows NT出現致命錯誤而必須重新啟動時，會顯示BSoD畫面。BSOD画面上所显示的信息會有偵錯碼，例如：STOP: 0x0000004e，以及其簡短的錯誤訊息，用戶可以在微軟的[http://support.microsoft.com 技術支援網站]搜尋此偵錯碼出現時可能是什麼原因。但有時錯誤碼並不能讓使用者很快的找到導致-{zh-cn:蓝屏死机; zh-tw:藍白當機; zh-hk:藍畫面死機;}-的原因，反而會误导用户，因此可能要以[[試誤法|試誤法]]（trial and error）才能找出原因。

Windows 9x/ME發生之BSoD允许用户选择继续或者重新启动。但是，VxD一般不随便显示BSoD──它们一般只在一个不通过重新启动就无法修复的错误发生时才显示BSoD，因此当BSoD显示时，系统已经不稳定或死机。在Windows 9x時代，出现蓝屏的最常见原因是[[DLL地獄|DLL-{zh-hans:地狱; zh-hant:衝突;}-]]，意即同一个[[动态链接库|DLL]]的多个版本造成的不兼容；当应用程序需要使用这些DLL时，Windows将它们载入到内存；如果替换了DLL，下一次应用程序载入DLL时它可能不是该应用程序所希望的版本，且这种不兼容性随着安装更多的新软件而增加。[[Windows_NT|Windows NT]]系列的穩定性明顯優於[[Windows_9x|Windows 9x]]，發生藍畫面死機的機率遠低於Windows 9x。

==历史==
[[File:BSoD_in_Windows_1.0.png|thumb]]和[[Windows_2.0|2.0]]中的蓝屏死机|right]]
[[File:Blue_Screen_of_Death_on_Windows_XP_on_a_drugstore_-_2019-09-03.jpg|thumb]]
[[File:BSOD_@_BNA.jpg|thumb]]的Windows 98蓝屏死机|left]]
[[File:BSOD_in_the_CNIT.JPG|thumb]]的一次蓝屏死机]]
[[File:BSOD_Vélo'v.jpg|thumb]]的蓝屏死机]]
蓝屏死机自Windows 1.0就已经存在。在Windows 1.x-2.x中，当Windows发现了版本过高的DOS系统时，它将会在继续启动前显示一个蓝底白字的界面“Incorrect DOS version”和一个列有内核模块及它们各自内存地址的列表。不过，这个蓝屏死机仍并非真正的系统错误；当真正的错误发生时，系统反而会锁死，或直接退出到DOS。Windows 3.0中设计了一个专门用来显示重要系统信息的对话框，这些信息通常会来自386增强模式下的驱动程序，或其他无法正常运行的程序。<ref name="#1">{{Cite web|title=Blue screen of death|url=https://betawiki.net/wiki/Blue_screen_of_death#History|access-date=2020-08-31|website=BetaWiki|language=en}}</ref><ref>{{Cite web|date=2014-09-09|title=Steve Ballmer did not write the text for the blue screen of death|url=https://devblogs.microsoft.com/oldnewthing/20140909-00/?p=44123|access-date=2020-08-31|website=The Old New Thing|language=en-US}}</ref> 

在Windows 3.1中，这一对话框由黑色改为了蓝色，并且会在按下[[Ctrl+Alt+Del|Ctrl+Alt+Del]]（用于打开[[任务管理器|任务管理器]]）时出现，如果当时没有无响应的程序。当系统错误足够严重时，Windows 3.x仍然会直接退出到DOS。<ref name="#1"/>

现在通常所说的蓝屏死机界面在[[Windows_NT_3.1|Windows NT 3.1]]（[[Windows_NT|Windows NT]]系列的首个系统，发布于1993年）中首次出现，并延续到了之后的所有Windows系统中。蓝屏死机界面通常由编写不良的驱动程序或故障的硬件引起，如内存故障、供电问题、过热或超出其规格限制的硬件。在[[Windows_9x|Windows 9x]]的时代，系统内核中不完整的[[动态链接库|动态链接库]]或bug也会导致蓝屏死机。Windows 9x相比于后续的Windows版本，蓝屏死机非常常见。<ref>{{cite web |last1=Garmon |first1=Jay |title=Geek Trivia: Death by operating system |url=https://www.techrepublic.com/article/geek-trivia-death-by-operating-system/ |website=TechRepublic |accessdate=2021-06-01 |language=en |date=2007-04-16}}</ref>

==格式==
在[[Windows_8|Windows 8]]和[[Windows_Server_2012|Windows Server 2012]]之前，蓝屏死机都以[[皇室蓝|皇室蓝]]为背景色显示[[银色|银色]]的文字，这些文字包含了当前内存和寄存器的值。Windows Server 2012、Windows 8和[[Windows_10|Windows 10]]则使用了[[蔚蓝色|蔚蓝色]]作为背景。

Windows 95、98和ME的蓝屏死机界面显示使用了80×25的文本模式。Windows NT系列使用的是720×400分辨率、80×50的文本模式。Windows XP、Vista和7的蓝屏死机中使用了[[Lucida|Lucida Console]]字体。Windows 8、Windows Server 2012使用[[Segoe|Segoe UI]]，并使用引导帧缓冲（the boot framebuffer）来显示内容，在UEFI的机器上使用最高的可用图形输出协议模式（Graphics Output Protocol mode），在传统BIOS的机器上使用1024×768（假设显示器是扁平横向放置的）或最高的[[VESA_BIOS_Extensions|VESA基本输入输出系统扩展]]模式（如果引导配置数据库中设置了最高模式，'highestmode'）。Windows 10版本 1607以后的蓝屏死机界面与Windows 8相同，但多了一个通向微软公司官网的二维码，网页主要是微软公司对蓝屏死机原因的群众调查。

虽然名叫“蓝屏死机”，但在Windows 9x时代，蓝屏画面的颜色可以由用户自定义；而在2016年9月及之后的Windows预览版本中，蓝屏死机变成了深绿色，以和正式版本的Windows蓝屏做区分，方便开发人员快速分辨版本。

==Windows NT==
在Windows NT的系列操作系统中，当内核或者运行在内核模式中的驱动程序发生无法修复的错误时，就会发生蓝屏死机。此处的蓝屏死机官方名称为停止错误（stop error），在Windows的[[软件开发工具包|软件开发工具包（SDK）]]与驱动开发工具包（DDK）文档中也被称为“错误检查”（bug check）。它通常是被[[一般保护错误|一般保护错误]]引起的。此时，操作系统能采取的唯一安全手段只有重新启动电脑；而作为结果，用户甚至没有机会来保存未保存的数据。

蓝屏画面中显示的文本包括了错误码和它的名称（如“0x0000001E, KMODE_EXCEPTION_NOT_HANDLED”），并在随后用括号括住四个与错误相关的值以方便维修。根据错误的不同，它可能还会显示问题发生的内存地址，以及在该地址下加载的驱动程序。此外，在屏幕的第二和第三部分可能还会分别显示所有已经加载的驱动程序和堆栈转储信息，而所给的驱动程序信息分为三列，每一列分别是驱动程序的基地址、驱动程序的创建日期和驱动程序的名称。<ref>{{cite book | title=Microsoft Windows NT Workstation Resource Kit | publisher=[[Microsoft_Press|Microsoft Press]] | date=29 October 1996 | edition=1st | location=Redmond, WA | isbn=1-57231-343-9 | url-access=registration | url=https://archive.org/details/microsoftwindow00micr }}</ref>

默认情况下，Windows会在错误发生时创建一个[[核心转储|内存转储]]文件，根据Windows版本的不同它可以小至64kB（小型转储），也可以大至RAM的完整复制（完全转储）。这个文件稍后可以使用调试器（一般是[[WinDbg|WinDbg]]<ref>{{cite web|url=http://msdn.microsoft.com/en-us/library/windows/hardware/dn745912(v=vs.85).aspx|title=Getting Started with WinDbg (Kernel-Mode)|last=DOMARS|website=msdn.microsoft.com|access-date=15 June 2018}}</ref>）进行调试。调试器是进行堆栈追踪所必需的；并且由于蓝屏中的信息很有限，可能会造成误导或隐藏真正的原因，因此确定蓝屏的真正原因也需要它的参与。

在默认情况下，Windows XP被配置为只保存64kB的迷你转储文件，然后自动重启电脑。由于这一过程发生的非常迅速，蓝屏可能只会一闪而过甚至完全看不到，因此用户也很容易把它当作电脑随机重启的故障，直到重启完成后Windows提示刚刚曾发生过严重的错误。当然，可以通过关闭控制面板中“系统属性—高级—启动和故障恢复—系统失败”中的自动重启来达到显示蓝屏的目的。

Windows还可以被设置为将调试信息实时发送到在另一台计算机上运行的内核调试器。如果此时发生了停止错误，Windows将会暂停执行并且中断调试器，而不是显示蓝屏；之后，就可以用调试器检查内存的内容并寻找问题的原因了。

蓝屏死机也可能由严重的引导加载程序错误引起。在该错误中，Windows由于存储驱动程序错误、文件系统损坏或其他类似的问题而无法访问引导分区。它的错误码是STOP 0x0000007B (INACCESSIBLE_BOOT_DEVICE)。<ref>{{Cite web|url=https://support.microsoft.com/en-in/help/2673509/you-receive-error-stop-error-code-0x0000007b-inaccessible-boot-device|title=Stop error code 0x0000007B (INACCESSIBLE_BOOT_DEVICE)|date=2018-04-17|website=support.microsoft.com|access-date=2020-01-16}}</ref>在这种情况下，Windows将不会保存任何内存转储文件。由于此时Windows无法从硬盘启动，因此要想修复这种错误就需要使用在Windows安装盘中所附带的工具。

===细节===
在[[Windows_Server_2012|Windows Server 2012]]之前，蓝屏死机界面会显示一个大写的错误名称（例如APC_INDEX_MISMATCH）、一个十六进制的错误码（如0x00000001）和四个参数。一般的显示格式如下：

{{quote|错误码 (参数 1, 参数 2, 参数 3, 参数 4) 错误名称}}

根据错误码及其性质，参数可能会指出错误的原因和/或位置。此外，蓝屏界面上还会显示四段一般性的解释与建议，有时也会指出其他的技术信息，例如出错文件的名称和内存地址。

而随着Windows Server 2012的发布，蓝屏死机的界面大幅改动并删去了以上的所有信息，只留下了错误名称和一段简短的描述。Windows 8加入了一个哭脸的颜文字。不过，十六进制的错误码和参数仍然能在[[事件查看器|事件查看器]]和内存转储文件中被查询到。从Windows 10 版本 14393开始，增加了一个用于快速故障排除的二维码。

== 不同版本的Windows發生蓝屏 ==
[[File:DX2_MFC.JPG|thumb]][[維多利亞公園|維多利亞公園]]的一個LED屏幕上顯示的錯誤信息]]
默认情况下，BSoD的显示是蓝（0x01或#0000AA，Windows 8/10則是#2067B2）底白（0x0F或#FFFFFF）字。显示的信息包括了当前的内存值以及寄存器值。

BSoD已经极少出现在Windows NT家族中。当在较轻微的软件错误出现时，虽然程序依然可能崩溃，但由于新系统中更好的内存管理，类似错误并不会损害到整个操作系统。在这些系统中，“真正的”BSoD只在整个系统崩溃时才会出现。

BSoD最早出现在[[Windows_1.0|Windows 1.0]]中。另外，在微软遊戲主機[[Xbox|XBOX]]出现的畫面不是藍色，而是綠色。而在XP/Vista/7中，存在一种比BSoD更严重的[[紅屏當機|紅白當機畫面]]，常见于[[驱动程序|驱动程序]]故障。<ref>[http://k.pconline.com.cn/question/1592168.html 怎样解决cs红屏死机现象_系统优化/辅助使用问题_PConline快问]，2009年6月25日查阅</ref> [[Windows預覽體驗計畫|Windows Insider Preview]]有綠屏死機畫面和藍屏死機畫面。

<gallery>
File:Windows 9X BSOD.png|Windows [[Windows_3.1x|3.1]]/[[Windows_95|95]]/[[Windows_98|98]]/[[Windows_Me|Me]]
File:Windows XP BSOD.png|Windows [[Windows_XP|XP]]/[[Windows_Vista|Vista]]/[[Windows_7|7]]
File:Blue Screen of Death.png|Windows [[Windows_8|8/8.1]]/[[Windows_10|10]]（版本1507/1511）
File:Bsodwindows10.png|[[Windows_10|Windows 10]]（版本1607及以后）
</gallery>

==相關條目==
* [[紅屏死機|紅屏死機]]
* [[核心錯誤|核心錯誤]]
* [[綠白當機|綠白當機]]

== 参考文献 ==
{{Reflist}}

== 外部連結 ==
* [http://support.microsoft.com 微軟技術支援網站]
*[https://www.windows.com/stopcode 在Windows 10 1607以后扫描蓝屏界面中的二维码会跳转至蓝屏错误疑难解答界面]
* [https://web.archive.org/web/20170305011409/http://www.bluescreeners.de/ Bluescreeners Developer Team]
* [http://technet.microsoft.com/en-us/sysinternals/bb897558.aspx BlueScreen]－一個[[黑色幽默|黑色幽默]]風格的[[螢幕保護程式|螢幕保護程式]]，由微軟所推出，可以模擬蓝屏死机畫面。（对[[Windows_8|Windows8]]和[[Windows_10|Windows10]]无效果）
{{Error_messages}}
[[Category:Microsoft_Windows|Category:Microsoft Windows]]
[[Category:计算机错误|Category:计算机错误]]