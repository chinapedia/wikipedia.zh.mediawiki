[[File:Yang_Hui_magic_circle.svg|thumb]]
[[File:Yang_Hui_magic_circle_v2.svg|thumb]]

'''幻圆'''是[[组合数学|组合数学]]的一个分枝，将[[自然数|自然数]]排列在多个同心圆或多个连环圆上，使各圆周上数字之和相同，几条直径上的数字和也相同。著名的同心幻圆有[[南宋|南宋]][[数学家|数学家]][[杨辉|杨辉]]的'''攒九图'''和[[丁易东|丁易东]]的'''太衍五十图'''。

==杨辉幻圆==
楊辉《[[杨辉算法#续古摘奇算法|续古摘奇算法]]》有聚五图，聚六图，聚八图，攒九图，八阵图，连环图。
===攒九图===
楊辉《续古摘奇算法》中的'''攒九图'''以自然数1至33构成，9在圆心，其余排列在四个同心圆上，每圈8个数<ref>[[吴文俊|吴文俊]]主编 [[沈康身|沈康身]]执笔  《[[中国数学史大系|中国数学史大系]]》 第六卷 第六篇 《杨辉》 第二节 《幻圆》 第641页 图6 5 19，（图中数字32出现两次缺数字31，系笔误或版误）ISBN 7-303-04926-6/O
</ref>。杨辉有如下攒九图奇妙特点；

*四条直径上数字之和是147，
**28+5+11+25+9+7+19+31+12=147
*四个圆周上数字之和加圆心9之和也是147。
**28+27+20+33+12+4+6+8+9=147
*八条半径线上数字（不包括9）之和=69
**27+15+3+24=69
*四个圆周上数字之和（不包括9）=八条半径线上数字和的两倍。

;杨辉攒九图之构造
杨辉书中未曾说明幻圆的构造方法。[[新加坡大学|新加坡大学]][[蓝丽蓉|蓝丽蓉]]教授<ref>Lam Lay Yong: A CRITICAL STUDY OF HANG HUI SUAN FA 《杨辉算法》 SINGAPORE UNIVERSITY PRESS  1977</ref> 建议将八组半径数字分为两组，构成两个四阶幻方，例如；

<math>
\begin{bmatrix}
28 & 5 & 11 & 25 \\
27 & 15 & 3 & 24 \\
6 & 32 & 29 & 2 \\
8 & 17 & 26 & 18 
\end{bmatrix}
</math>

<math>
\begin{bmatrix}
12 & 31 & 19 & 7 \\
4 & 21 & 14 & 30 \\
20 & 16 & 23 & 10 \\
33 & 1 & 13 & 22 
\end{bmatrix}
</math>

由于这两个四阶幻方纵数横数之和都是69，只需从第一幻方和第二幻方中随意各取一行，或随意各取一列，构成同一条直径上的两对半径，一共组成四条直径，每直径8个数，最后在圆心安方9，就不但可以排出杨辉幻圆；而且可以排除许许多多不同排列的幻园。此外，由于数字的和与数字的次序无关，因此；
*任何两组半径数字，可以互换位置，
*8组半径数字，在可以在圆圈上任意排列，
*任何两组园圈，可以互换位置。

杨辉幻圆真是富于变化。如果限制四个圆周上必须有两个同和半圆(半圆上的四个数字之和必须=69)，杨辉幻圆上的半径位置就不可调换。如此一来，杨辉幻圆可以有
* 8条同和半径；28+5+11+25=69，20+16+23+10=69，……
* 8条同和半圆； 27+28+8+6=69，20+33+12+4=69,15+5+17+32=69，21+32+1+16=69……

具有16个同和线段（和数为69）的幻圆不止一个，可依靠四个圆圈的不同排列得到，共有4x3x2=24种。
===杨辉八阵图===
[[File:YangHui_magic_circle_1.jpg|thumb]]
1至64， 64数字分为八个圆圈，每个圆圈内数目之和=260。
从西北角顺时针方向各小圆之和为：

<math>40+	24+	9+	56+	41+	25+	8+	57	=		260</math>
<math>14+	51+	46+	30+	3+	62+	35+	19	=		260</math>
	
<math>45+	29+	4+	61+	36+ 20+	13+	52		=	260</math>
<math>37+	21+	12+	53+	44+	28+	5+	60	=		260</math>
	
<math>47+	31+	2+	63+	34+	18+	15+	50	=		260</math>
	
<math>7	 +    58+	39+	23+	10+	55+	42+	26	=		260</math>
	
<math>38+	22+	11+	54+	43+	27+	6+	59	=		260	</math>

<math>48+	32+	1+	64+	33+	17+	16+	49	=		260</math>
:又东西方向和南北方向的八个数字之和也是260：
	
<math>14+	51+	62+	3+	7+	58+	55+	10	=		260</math>

<math>49+	16+	1+	64+	60+	5+	12+	53	=		260</math>

此外两条对角线的16个数字之和为260的两倍：
<math>40+	57+	41+	56+	50+	47+	34+	63 +	29+	4+	13+	20+	22+	11+	6+	27=2*260=520</math>

===杨辉连环图===
[[File:Yanghui_magic_circle_2.jpg|thumb]]
1至72，共72个数字分为9个圆圈，排列成方阵如图。

此连环图奇妙之处在于连环生圈：由于左右相邻的四个圈的数字连环，又多出4个 8字圆圈

连环圈由有以下相邻的8字圈连环组成:
:（东北，北，东，中）
:（西北，北，西，中）
:（东南，南，东，中）
:（西南，南，西，中）

一共13个八字圈：
：西北，北，东北，东，东南，南，西南，西，中，（东北，北，东，中），（西北，北，西，中），（东南，南，东，中），（西南，南，西，中）
*13个八字圈中任何一个八字圈的数字之和=292
*横向三个八字圈24个数字之和=876
*纵向三个八字圈24个数字之和=876
*对角线上三个八字圈24个数字之和=876

==丁易东幻圆==
[[File:Ding_Yidong_magic_circle.svg|thumb]]
南宋数学家[[丁易东|丁易东]]是杨辉同时代人，以自然数1至49作出六同心圆幻圆，称之为太衍五十图<ref>[[吴文俊|吴文俊]]主编 [[沈康身|沈康身]]执笔  《中国数学史大系》 第六卷 第七篇 第一节 第691-692页</ref>。

丁易东幻圆特性；
*各圆周数字之和为200
**3+4+49+2+47+46+1+48=200;
**13+14+39+12+37+36+11+38=200;
**……
*每圆周上的一个数与其相对点上数字之和=50；
**3+47=50，13+37=50……
*四条直径上数字之和为325
**据上条，6x50+25=325。

===丁易东幻圆的构造===
丁易东给出把三阶幻方[[洛书|洛书]]变化为六阶幻园'''太衍五十图'''的的奇妙方法；

将从1至49的数字分成以下9组
*凡个位数为1数按大小次序排为一组：1，11，21，31，41
*凡个位数为2数按大小次序排为一组：2，12，22，32，42
*凡个位数为3数按大小次序排为一组：3，13，23，33，43
*凡个位数为4数按大小次序排为一组：4，14，24，34，44
*凡个位数为6数按大小次序排为一组：6，16，26，36，46
*凡个位数为7数按大小次序排为一组：7，17，27，37，47
*凡个位数为8数按大小次序排为一组：8，18，28，38，48
*凡个位数为9数按大小次序排为一组：9，19，29，39，49
*5及其倍数按大小次序排为一组：5，10，15，20，25，30，35，40，45

按[[洛书|洛书]]口诀：“戴九履一，左三右七，二四为肩，六八为足”排列数字组：
*戴九：将“9字组”9，19，29，39，49 排在最顶部，49在上，循序循半径往下排列，
*履一，将“1字组”1，11，21，31，41作履，1排在最下，循序循半径往上排列，
*左三：将“3字组"3，13，23，33，43排在左边，
*右七，将“3字组"：7，17，27，37，47排在右边，
*二四为肩，将“2字组”2，12，22，32，42，“4字组”4，14，24，34，44按络书方位排列在左上右上。
*六八为足：将“6字组”6，16，26，36，46，“8字组”8，18，28，38，48按络书方位排列在左下右下。
*最后“5”字组5，10，15，20，25，30，35，40，45各数对应其1/5的数字组排列在最内一个圆上：
**5的1/5=1，排在“1字组”
**10的1/5=2，排在“2字组”……

==程大位幻圆==
聚五图，聚六图，聚八图，攒九图，八阵图<ref>[[程大位|程大位]] 《[[算法统宗|算法统宗]]》</ref>。
<gallery>
File:Suanfatongzong-792-792.jpg
File:Suanfatongzong-793-793.jpg
File:Suanfatongzong-795-795.jpg
</gallery>

==参考文献==
{{Reflist}}
*《杨辉算法》 孙宏安 译注 辽宁教育出版社 1997
*《杨辉算法导读》 郭熙汉 湖北教育出版社 1996
{{中国数学史}}
[[Category:中國算學|Category:中國算學]]
[[Category:组合数学|Category:组合数学]]