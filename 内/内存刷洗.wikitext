{{NoteTA
|G1=IT
}}
'''内存刷洗'''（{{lang-en|'''Memory scrubbing'''}}）也可称'''内存擦洗'''、'''内存清洗'''，它是指从每个[[電腦記憶體|電腦記憶體]]位置读取数据、以一种错误纠错码（[[错误检测与纠正|ECC]]）纠正[[比特误码率|位元错误]]（如果存在），然后将校正后的数据写回到相同位置。<ref>Ronald K. Burek.
</ref>

由于现代计算机内存芯片的高度集成，单个内存单元的结构已足够小到易于受到[[宇宙線|宇宙射线]]和/或[[Α粒子|阿尔法粒子]]的影响。由这些现象引发的错误被称为[[軟性錯誤|軟性錯誤]]，这对基于[[动态随机存取存储器|DRAM]]或[[静态随机存取存储器|SRAM]]的内存来说可能是个问题。在任何单个内存位元发生软错误的概率非常小。但是，配以现代计算机的庞大内存空间，加之[[上线时间|长时间]]持续运行的如[[服务器|服务器]]，在已安装内存中发生软错误的概率可能比较显著。

[[纠错内存|纠错内存]]中的信息被[[信息冗余|冗余]]存储，以便能校正每个内存字（word）的单比特错误。也因如此，ECC内存可以支持对内存的刷洗。换句话说，如果[[内存控制器|内存控制器]]系统性扫描内存，则可以检测到单比特错误，并可以使用ECC[[错误检测与纠正|校验和]]来确定出错的比特并将校正的数据写回内存。

== 概述 ==
在同一个字（word）未发生多比特错误前周期性检查每个内存位置很重要，这是因为截至2008年，ECC内存模块还不能校正出现多比特的错误。

为了不干扰来自[[中央处理器|CPU]]的常规内存请求以及防止[[電腦性能|電腦性能]]下降，刷洗通常仅在空闲时进行。由于刷洗是由正常的读取和写入操作组成，它可能增加内存相较非刷洗操作时的{{tsl|en|Power consumption|能量消耗|功耗}}。因此，刷洗应该周期性但不是持续性进行。许多服务器可以在BIOS设置程序中配置刷洗周期。

普通的内存读取是由CPU或[[直接記憶體存取|DMA]]设备发出和检查ECC错误，但由于[[数据局部性|数据局部性]]原因，它们可能被限制在小范围的地址空间内，并且保持位置、很长时间不被触碰。这些位置因而可能容易受到多个软错误的影响，而刷洗可确保在指定时间内检查整个内存。

在某些系统上，不止主内存（基于DRAM的内存）支持刷洗，有些[[CPU缓存|CPU高速缓存]]（基于SRAM）也可以。在大多数系统上，两者都可以独立配置刷洗速率。因为缓存比主内存小得多，所以缓存的擦洗不需要频繁进行。

内存刷洗提高了可靠性，因此它可被归类为[[可靠性、可用性和可維護性|可靠性、可用性和可維護性]]（RAS）特性。

=== 变种 ===
它通常有两种变体，被称为巡逻刷洗（patrol scrubbing）与按需刷洗（demand scrubbing）。虽然它们本质上都执行内存刷洗及相关的错误纠正（如果可行），两者的主要区别是如何启动和执行。巡逻刷洗会在系统空闲时自动运行，而按需刷洗是在数据被主存储器实际请求时执行错误纠正。<ref>{{cite web|url=http://www.supermicro.com/manuals/motherboard/C600/MNL-1281.pdf|title=Supermicro X9SRA motherboard manual|accessdate=February 22, 2015|date=March 5, 2014|format=PDF|publisher=[[Supermicro|Supermicro]]|page=4-10|archive-date=2019-11-09|archive-url=https://web.archive.org/web/20191109024106/https://www.supermicro.com/manuals/motherboard/C600/MNL-1281.pdf|dead-url=no}}</ref>

== 参见 ==
* {{tsl|en|Data scrubbing|数据刷洗}}，包含内存刷洗等的一般分类
* [[軟性錯誤|軟性錯誤]]，执行内存刷洗的一个重要原因
* [[错误检测与纠正|错误检测与纠正]]，内存刷洗的一般理论
* {{tsl|en|Memory refresh|内存刷新}}，用于保留存储在内存中的信息。

== 参考资料 ==
{{Reflist}}

[[Category:電腦記憶體|Category:電腦記憶體]]