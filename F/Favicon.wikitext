{{Refimprove|time=2016-12-20T19:51:32+00:00}}
{{NoteTA
|G1 = IT
|1 = zh-cn:收藏夹; zh-tw:我的最愛;
|2 = zh-cn:通过; zh-tw:透過;
}}
[[File:Wikipedia_favicon_in_Firefox_on_KDE.png|thumb]]顯示維基百科的favicon]]
'''Favicon'''是''favorites icon''的缩写，亦被称为'''website icon'''（网站图标）、'''page icon'''（页面图标）或'''urlicon'''（[[URL|URL]]图标）。Favicon是与某个[[网站|网站]]或[[网页|网页]]相关联的[[图标|图标]]。网站设计者可以多种方式建立这种图标，而目前也有很多[[网页浏览器|网页浏览器]]支持此功能。浏览器可以将favicon显示于浏览器的地址栏中，也可置于书签列表的网站名前，还可以放在标签式浏览界面中的页标题前。

最初，定义一个favicon的方法是将一个名为“favicon.ico”的[[计算机文件|文件]]置于[[网络服务器|Web服务器]]的[[根目录|根目录]]下，[[Internet_Explorer|Internet Explorer]]的收藏夹（即书签）可以自动显示该文件。<ref>{{cite web|title=Favicon.ico - Make your OWN Icon bookmark for Internet Explorer|url=http://accessfp.net/faviconico.htm|publisher=AccessFP|accessdate=2012-12-30|quote=If you want the icon to appear you must upload a file named '''favicon.ico''' into the Root directory...|archive-date=2013-01-05|archive-url=https://web.archive.org/web/20130105010755/http://accessfp.net/faviconico.htm|dead-url=no}}</ref> 后来出现了一种更为灵活的方法，即使用[[HTML|HTML]]来为任何一个网页指示其图标所存储的位置。这种方法是通过在页面的<code><nowiki><head></nowiki></code>部分添加两个link元件来实现的。这样，任何一个适当大小的（16×16[[像素|像素]]或更大）的图像都可以用作favicon。尽管如此，多数情况下仍然使用[[ICO|ICO]]格式。其他网页浏览器现在也支持[[PNG|PNG]]（便携式网络图片）格式，和[[GIF|GIF]]（图形交换格式）动画图像格式。

市面上多数浏览器同时支持上述两种方法。正因此，网络服务器要接受很多对“favicon.ico”文件的请求，即使该文件根本不存在。网站管理员对此很不满，因为这样会增加大量的[[服务器日志|服务器日志]]项，并导致很多不必要的[[磁盘|磁盘]]读取和[[CPU|CPU]]、网络资源的占用。另一个常见的问题是，当清除浏览器的[[缓存|缓存]]后，favicon可能会消失。

== 歷史 ==
1999年3月，Internet Explorer最早仅仅将favicon用于[[書籤_(瀏覽器)|收藏夹]]（例如[[Internet_Explorer_5|MSIE 5.0]]）<ref>{{cite web|url=http://www.htmlhelp.com/faq/html/all.html#favicon|title=Web Authoring FAQ – 8.11. How can I have a custom icon when people bookmark my site?|accessdate=23 February 2011|date=26 April 2007|first=Darin|last=McGrew|publisher=htmlhelp.com|archive-date=2019-12-16|archive-url=https://web.archive.org/web/20191216054408/https://www.htmlhelp.com/faq/html/all.html#favicon|dead-url=yes}}</ref><ref name="heng" /><ref name="golive">{{cite web|url=http://www.golivein24.com/tips/favicon/|archiveurl=https://web.archive.org/web/20031207165529/http://www.golivein24.com/tips/favicon/|archivedate=2003-12-07|title=Creating favicons with Adobe Photoshop and GoLive|publisher=[[Adobe_GoLive|Adobe GoLive]]|accessdate=25 February 2011|dead-url=yes}}</ref>。这产生了一些关于隐私问题的考虑，因为网站拥有者可以通过检查访问日志察看有多少人下载了<code>favicon.ico</code>文件，判断有多少人将他们的网站放入收藏夹中。然而，自从許多其他浏览器开始在每次访问时都将favicon显示在地址栏上，这就不再是一个问题了<ref name="heng">{{cite web|url=http://www.thesitewizard.com/archive/favicon.shtml|accessdate=23 February 2011|title=What is Favicon.ico? Personalise Your Site's Bookmarks|first=Christopher|last=Heng|date=7 September 2008|publisher=thesitewizard.com|archive-date=2012-02-08|archive-url=https://www.webcitation.org/65ImzGX0B?url=http://www.thesitewizard.com/archive/favicon.shtml|dead-url=yes}}</ref>。

=== 标准化 ===
Favicon功能最早由[[微软|微软]]创设，而微软公司的Internet Explorer网页浏览器会对每一个网站都请求favicon。微软支持的link标签不遵从[[万维网联盟|World Wide Web Consortium（W3C，万维网联盟）]]的HTML建议[http://www.w3.org/2005/10/howto-favicon]{{Wayback|url=http://www.w3.org/2005/10/howto-favicon |date=20191129143345 }}，因为：
* <code>rel</code>属性必须包含一个用空格作分隔符的link类型的列表，所以一个包含两词的link类型不能被遵守标准的浏览器理解。
* “[[ICO|.ico]]”文件类型（一种用于Microsoft [[Windows|Windows]]上图标的[[光栅|光栅]]格式）没有一个注册的MIME类型，而且似乎在当时也不能被多数浏览器理解。然而2003年，这一格式在[[IANA|IANA]]获得注册，其MIME类型是''image/vnd.microsoft.icon''，进而消除了此问题的第一部分。
* 在网站上使用''保留地址（reserved location）''与[http://www.w3.org/TR/webarch/ Architecture of the World Wide Web（互联网的结构）]{{Wayback|url=http://www.w3.org/TR/webarch/ |date=20150209063216 }}矛盾，同时被认为是''link squatting（链接劫持）''或''URI squatting（URI劫持）''。<!--Pls help me check the exact translation of "link squatting" and "URI squatting", thx...-->

[[Mozilla|Mozilla]]浏览器通过一种遵从Web标准的方法添加了对favicon的支持。它采用<code>rel="icon"</code>并允许网络设计人员添加任何支持的图像格式的favicon。例如<code><link rel="icon" type="image/png" href="/path/image.png" /></code>。后来鉴于此功能将被用于所有新内容，多数浏览器都对此功能增加了支持。<!--Pls help check whether my translation is alright, thx: Most web browsers have since added support for this feature, which should be used for all new content.-->

根据《HTML 4.01 Specification W3C Recommendation 24 December 1999》，rel属性的取值仅有：
* Alternate
* Stylesheet
* Start
* Next
* Prev
* Contents
* Index
* Glossary
* Copyright
* Chapter
* Section
* Subsection
* Appendix
* Help
* Bookmark

如果要采用其他值，应当在head标签中的profile属性中进行自定义。W3C给出了一个建议：[http://www.w3.org/2005/10/howto-favicon 《How to Add a Favicon to your Site》]{{Wayback|url=http://www.w3.org/2005/10/howto-favicon |date=20191129143345 }}。

简单地说：
# 在head标签中-{zh-cn:添加; zh-tw:加入;}-profile属性指向[http://www.w3.org/2005/10/profile http://www.w3.org/2005/10/profile]{{Wayback|url=http://www.w3.org/2005/10/profile |date=20191218170836 }}。
# 用link标签指向Favicon URI，rel值为icon

一个常见的错误是不指定profile。

== 指导 ==
过去，为保证favicon出现，网站设计者和开发者采用了多种方法。<!--Pls help me check whether I've got the following sayings correctly and clearly, thx: There is '''no known guarantee''' that favicons will appear on all computers, even on same browsers with the same versions.-->很难明确地保证favicon可以在所有电脑上显示，即使是用同一版本的一种浏览器。

下列代码另一个局限就是它把favicon关联到了某个特定的HTML或[[XHTML|XHTML]]文档上。为避免这一点，favicon.ico文件应置于根目录下。多数浏览器将自动检测并使用它。

* 建议包含以下两行HTML代码：
<syntaxhighlight lang="html4strict"><link rel="shortcut icon" href="http://example.com/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="icon" href="http://example.com/favicon.ico" type="image/vnd.microsoft.icon" /></syntaxhighlight>

: 然而，只有第一行是必须的，因为“shortcut icon”字符串将被多数遵守标准的浏览器识别为列出可能的关键词（“shortcut”将被忽略，而仅使用“icon”）；而Internet Explorer将会把它作为一个单独的名称（“shortcut icon”）。这样做的结果是所有浏览器都可以理解此代码。只有当希望为新浏览器提供另一种备用图像（例如动画GIF）时，才有必要添加第二行。
* 在HTML中，<code>link</code>元件必须在<code>head</code>元件里（在<code><nowiki><head></nowiki></code>和<code></head></code>之间）。
* 对于XHTML，link必须使用“<code> /></code>”结束（或“<code>></link></code>”），而不可以使用“<code>></code>”结束。
* <code>href</code>可以，但不必指向<code>/favicon.ico</code>的位置。它可以指向任何URL。
* 图像通常可以使用任何被浏览器支持的图像格式。
* <code>.ico</code>文件格式通常可以被所有可以显示favicon的浏览器读取。
* 设置服务器，以发送正确的[[MIME|MIME]]标识：
** ICO 文件 <code>image/vnd.microsoft.icon</code>（或者亦可出于兼容性原因使用<code>image/x-icon</code>。然而最好使用[http://www.iana.org/assignments/media-types/image/vnd.microsoft.icon IANA注册的MIME类型]{{Wayback|url=http://www.iana.org/assignments/media-types/image/vnd.microsoft.icon |date=20190122011249 }}，因为多数主流浏览器现在支持它）
** GIF 文件 <code>image/gif</code>
** PNG 文件 <code>image/png</code>
* 使用适当的[[分辨率|分辨率]]和[[色深|色深]]。 
** ICO：包括多种分辨率（最常使用的是16×16和32×32，[[Mac_OS_X|Mac OS X]]有时使用64×64和128×128）以及位深（比特每像素）（多数使用4、8、24 bpp，即16、256和1600万色）。
** GIF：使用16×16，256色。
** PNG：使用16×16，256色或24位。

'''注意'''：当<code>favicon.ico</code>被置于文档根目录时，将会被一些不处理<code>link</code>元件的浏览器找到，即使没有您的站点上没有指向它的链接。

==参考==
{{reflist}}

== 外部链接 ==
* [http://www.w3.org/2005/10/howto-favicon W3C网络标准化组织关于如何添加favicon的建议]{{Wayback|url=http://www.w3.org/2005/10/howto-favicon |date=20191129143345 }}
* [http://www.controlstyle.com/articles/programming/text/php-favicon/ 如何使用PHP添加favicon]{{Wayback|url=http://www.controlstyle.com/articles/programming/text/php-favicon/ |date=20071012025405 }}。
* MSDN Library: [http://msdn2.microsoft.com/en-us/library/ms997538.aspx Win32的图标]{{Wayback|url=http://msdn2.microsoft.com/en-us/library/ms997538.aspx |date=20080303210816 }}
* Online favicon editor: [http://favicon.tugai.net/ 在线制作Favicon图标]{{Wayback|url=http://favicon.tugai.net/ |date=20100410053340 }}
* {{dmoz|Computers/Internet/Web_Design_and_Development/Authoring/Online_Tools/Graphics/Image_Generation/Favicons/|Image Generation:Favicons}}（有些过时的信息）
* MSDN Library: [http://msdn.microsoft.com/zh-cn/library/gg491740(v=vs.85) 自定义站点图标]{{Wayback|url=http://msdn.microsoft.com/zh-cn/library/gg491740(v=vs.85) |date=20120609002511 }}

{{Web browser}}

[[Category:電腦圖示|Category:電腦圖示]]
[[Category:網頁瀏覽器|Category:網頁瀏覽器]]
[[Category:全球資訊網|Category:全球資訊網]]