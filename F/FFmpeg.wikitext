{{Expand language|en|time=2017-02-04}}
{{noteTA|G1=IT|G2=FL}}
{{Infobox software
| name = FFmpeg
| logo = FFmpeg Logo new.svg
| logo size = 250px
| screenshot = FFmpeg 4.4 screenshot.png
| screenshot size = 300px
| caption = FFmpeg執行影片檔轉檔時的畫面
| developer = FFmpeg team
| released =  {{wikidata|properties|references|edit|P577}}，{{time ago| {{wikidata|properties|raw|P577}}}}
| latest release version = {{LSR/wikidata}}
| programming language =   {{wikidata|properties|linked|references|edit|P277|sep%s=<br/>}}
| platform =  {{wikidata|properties|linked|references|edit|P400|sep%s=<br/>}}
| operating system = {{wikidata|properties|linked|references|edit|P306|sep%s=<br/>}}
| genre = {{wikidata|properties|linked|references|edit|P31|sep%s=<br/>}}
| website = {{official url}}
| author = [[Fabrice_Bellard|Fabrice Bellard]]
}}
'''FFmpeg''' 是一個[[開放原始碼|開放原始碼]]的[[自由軟體|自由軟體]]，可以執行音訊和視訊多種格式的錄影、轉檔、串-{}-流功能<ref>{{Cite web |url=http://ffmpeg.org/ffmpeg-doc.html |title=FFmpeg Documentation |accessdate=2009-08-26 |archive-date=2010-09-18 |archive-url=https://web.archive.org/web/20100918215949/http://ffmpeg.org/ffmpeg-doc.html |dead-url=no }}</ref>，包含了libavcodec——這是一個用於多個專案中音訊和視訊的解碼器函式庫，以及libavformat——一個音訊與視訊格式轉換函式庫。

「FFmpeg」这个单词中的「FF」指的是「Fast Forward（快速前進）」<ref>{{Cite web|title=FFmpeg naming and logo|url=http://lists.mplayerhq.hu/pipermail/ffmpeg-devel/2006-February/007707.html|first=Fabrice|last=Bellard|work=FFmpeg developer mailing list|publisher=Mplayer website|date=2006-02-18|accessdate=2007-03-29|deadurl=yes|archiveurl=https://web.archive.org/web/20070930015526/http://lists.mplayerhq.hu/pipermail/ffmpeg-devel/2006-February/007707.html|archivedate=2007-09-30}}</ref>。「FFmpeg」的项目负责人在一封回信中说：“Just for the record, the original meaning of "FF" in FFmpeg is "Fast Forward"...”

这个项目最初是由法國程式設計師[[法布里斯·贝拉|法布里斯·贝拉]]（{{lang|fr|Fabrice Bellard}}）发起的，而现在是由[[邁克爾·尼德梅爾|邁克爾·尼德梅爾]]（Michael Niedermayer）在进行维护。许多FFmpeg的开发者同时也是[[MPlayer|MPlayer]]项目的成员，FFmpeg在MPlayer项目中是被设计为服务器版本进行开发。

2011年3月13日，FFmpeg部分開發人士決定另組[[Libav|Libav]]，同时制定了一套关于项目继续发展和维护的规则。<ref>{{cite web|url=http://www.oschina.net/news/16289/ffmpeg-fork-becomes-libav|title=FFmpeg项目改名为libav|publisher=开源中国社区|date=2011-03-15|accessdate=2011-06-14|author=红薯|archive-date=2011-09-03|archive-url=https://web.archive.org/web/20110903094136/http://www.oschina.net/news/16289/ffmpeg-fork-becomes-libav|dead-url=no}}</ref><ref>{{cite web|url=http://libav.org/|title=libav官方网站|accessdate=2011-06-14|archive-date=2011-06-05|archive-url=https://web.archive.org/web/20110605033549/http://libav.org/|dead-url=no}}</ref>

==組成元件==
此計劃由幾個元件組成：
*[[命令列|命令列]][[應用程式|應用程式]]
**''ffmpeg''：用於對視訊檔案或音訊檔案轉換格式
**''ffplay''：一個簡單的播放器，基於[[SDL|SDL]]與FFmpeg函式庫
**''ffprobe''：用於顯示媒體檔案的資訊，見[[MediaInfo|MediaInfo]]
*[[函數庫|函數庫]]
**''libswresample''
**''libavresample''
**''[[libavcodec|libavcodec]]''：包含全部FFmpeg音訊/視訊編解碼函式庫
**''libavformat''：包含demuxers和muxer函式庫
**''libavutil''：包含一些工具函式庫
**''libpostproc''：對於視訊做前處理的函式庫
**''libswscale''：對於影像作縮放的函式庫
**''libavfilter''

==參數==
FFmpeg可使用眾多參數，參數內容會根據ffmpeg版本而有差異，使用前建議先參考參數及編解碼器的敘述。此外，參數明細可用<code>ffmpeg -h</code>顯示；編解碼器名稱等明細可用<code>ffmpeg -formats</code>顯示。

下列為較常使用的參數：
===主要參數===
*<code>-i</code>——設定輸入檔名。
*<code>-f</code>——設定輸出格式。
*<code>-y</code>——若輸出檔案已存在時則覆蓋檔案。
*<code>-fs</code>——超過指定的檔案大小時則結束轉換。
*<code>-t</code>——指定输出文件的持续时间，以秒为单位。
*<code>-ss</code>——從指定時間開始轉換，以秒为单位。
*<code>-ss</code>和<code>-t</code>一起使用時代表從<code>-ss</code>的時間開始轉換持續時間為<code>-t</code>的影片，例如：<code>-ss 00:00:01.00 -t 00:00:10.00</code>即從<code>00:00:01.00</code>開始轉換到<code>00:00:11.00</code>。
*<code>-title</code>——設定標題。
*<code>-timestamp</code>——設定時間戳。
*<code>-vsync</code>——增減Frame使影音同步。
*<code>-c</code>——指定输出文件的编码。
*<code>-metadata</code>——更改输出文件的[[元数据|元数据]]。
*<code>-help</code>——查看帮助信息。

===影像參數===
*<code>-b:v</code>——設定影像流量，預設為200Kbit/秒。（''單位請參照下方注意事項''）
*<code>-r</code>——設定帧率值，預設為25。
*<code>-s</code>——設定畫面的寬與高。
*<code>-aspect</code>——設定畫面的比例。
*<code>-vn</code>——不處理影像，於僅針對聲音做處理時使用。
*<code>-vcodec( -c:v )</code>——設定影像編解碼器，未設定時則使用與輸入檔案相同之編解碼器。

===聲音參數===
*<code>-b:a</code>——設定每Channel（最近的[[Subversion|SVN]]版為所有Channel的總合）的流量。（''單位請參照下方注意事項''）
*<code>-ar</code>——設定採樣率。
*<code>-ac</code>——設定聲音的Channel數。
*<code>-acodec ( -c:a )</code> ——設定聲音編解碼器，未設定時與影像相同，使用與輸入檔案相同之編解碼器。
*<code>-an</code>——不處理聲音，於僅針對影像做處理時使用。
*<code>-vol</code>——設定音量大小，256為標準音量。（要設定成兩倍音量時則輸入512，依此類推。）
===注意事項===
*以<code>-b:v</code>及<code>-b:a</code>參數設定流量時，根據使用的ffmpeg版本，須注意單位會有kbits/sec與bits/sec的不同。（可用<code>ffmpeg -h</code>顯示說明來確認單位。）
:例如，單位為bits/sec的情況時，欲指定流量64kbps時需輸入 <code>-b:a 64k</code>；單位為kbits/sec的情況時則需輸入 <code>-b:a 64</code>。
*以<code>-acodec</code>及<code>-vcodec</code>所指定的編解碼器名稱，會根據使用的ffmpeg版本而有所不同。例如使用AAC編解碼器時，會有輸入aac與libfaac的情況。此外，編解碼器有分為僅供解碼時使用與僅供編碼時使用，因此一定要利用<code>ffmpeg -formats</code>確認輸入的編解碼器是否能運作。
==支援的编码器、格式和协议==
===编码器===
{{details|libavcodec}}
FFmpeg项目原生的编码器：
*Snow
*{{link-en|FFV1|FFV1}}
FFmpeg已实现的：
*ITU-T视频标准：[[H.261|H.261]],<ref name="svn8747"/> [[H.262/MPEG-2_Part_2|H.262/MPEG-2 Part 2]], [[H.263|H.263]]<ref name="svn8747"/>和[[H.264/MPEG-4_AVC|H.264/MPEG-4 AVC]]<ref name="svn8747"/>
*ITU-T音频编解码器标准：[[G.711|G.711]] µ-law, [[G.711|G.711]] A-law, [[G.721|G.721]]（也叫[[G.726|G.726]] 32k）, [[G.722|G.722]], [[G.722.2|G.722.2]]（也叫AMR-WB）, [[G.723|G.723]]（也叫[[G.726|G.726]] 24k和40k）和[[G.726|G.726]]
*[[International_Organization_for_Standardization|ISO]]/[[International_Electrotechnical_Commission|IEC]] [[Moving_Picture_Experts_Group|MPEG]]视频标准：[[MPEG-1_Part_2|MPEG-1 Part 2]], [[H.262/MPEG-2_Part_2|H.262/MPEG-2 Part 2]], [[MPEG-4_Part_2|MPEG-4 Part 2]]和[[H.264/MPEG-4_AVC|H.264/MPEG-4 AVC]]
*ISO/IEC MPEG音频标准：[[MPEG-1_Audio_Layer_I|MP1]], [[MPEG-1_Audio_Layer_II|MP2]], [[MP3|MP3]], [[Advanced_Audio_Coding|AAC]], [[High-Efficiency_Advanced_Audio_Coding|HE-AAC]]和[[MPEG-4_ALS|MPEG-4 ALS]]
*ISO/IEC/ITU-T [[Joint_Photographic_Experts_Group|JPEG]]图像标准：[[JPEG|JPEG]]和[[JPEG-LS|JPEG-LS]]
*[[Society_of_Motion_Picture_and_Television_Engineers|SMPTE]]视频标准：[[VC-1|VC-1]]（也称作[[WMV3|WMV3]]）, [[VC-3|VC-3]]（也称作AVID [[DNxHD|DNxHD]]）和[[Digital_Picture_Exchange|DPX]]图像
*SMPTE音频标准：SMPTE 302M
*[[DVD论坛|DVD论坛]]的相关标准 / [[杜比实验室|杜比实验室]]的音频编解码器：[[Meridian_Lossless_Packing|MLP]]（也称[[TrueHD|TrueHD]]）和[[Dolby_Digital|AC-3]]
*[[3GPP|3GPP]]音频编码器标准：[[AMR-NB|AMR-NB]], [[AMR-WB|AMR-WB]]（也叫G.722.2）
*[[GSM|GSM]]相关的语音信号编解码器：[[Full_Rate|Full Rate]]
*[[Windows_Media_Player|Windows Media Player]]相关的视频编解码器：[[Microsoft_RLE|Microsoft RLE]], [[Microsoft_Video_1|Microsoft Video 1]], [[Cinepak|Cinepak]], [[Indeo|Indeo]] 2, 3和5,<ref name="svn8747"/> [[Motion_JPEG|Motion JPEG]], [[Microsoft_MPEG-4|Microsoft MPEG-4]] v1, v2和v3, [[Windows_Media_Video|WMV]]1, WMV2 and WMV3（也称VC-1）
*[[Windows_Media_Player|Windows Media Player]]相关的音频编解码器：[[Windows_Media_Audio|WMA]]1, WMA2和WMA Pro
*[[Windows_Media_Player|Windows Media Player]]相关的语音信号编解码器：WMA Voice和MS-GSM
*[[RealPlayer|RealPlayer]]相关的视频编解码器：[[RealVideo|RealVideo]] 1, 2, 3和4
*[[RealPlayer|RealPlayer]]相关的音频编解码器：[[RealAudio|RealAudio]] 3, 6, 7, 8, 9和10
*[[RealPlayer|RealPlayer]]相关的语音信号编解码器：[[RealAudio|RealAudio]] 1, 2 ([[G.728|G.728]]的衍生), 4和5
*[[QuickTime|QuickTime]]相关的视频编解码器：[[Cinepak|Cinepak]], [[Motion_JPEG|Motion JPEG]]和[[Sorenson_3_Codec|Sorenson 3 Codec]]
*[[QuickTime|QuickTime]]相关的音频编解码器：[[QDesign|QDesign]]音乐编解码器2和[[ALAC|ALAC]]
*[[Adobe_Flash_Player|Adobe Flash Player]]相关的视频编解码器：[[Sorenson_3_Codec|Sorenson 3 Codec]], [[VP6|VP6]]和[[Sorenson_codec|Flash Video (FLV)]]
*[[Adobe_Flash_Player|Adobe Flash Player]]相关的音频编解码器：Adobe SWF ADPCM和[[Nellymoser_Asao_Codec|Nellymoser Asao]]
*[[Xiph.Org|Xiph.Org]]: [[Theora|Theora]], [[Speex|Speex]]（通过[[libspeex|libspeex]]实现）, [[Vorbis|Vorbis]]和[[FLAC|FLAC]]
*[[Sony|Sony]]: [[Adaptive_Transform_Acoustic_Coding|ATRAC1]]和[[Adaptive_Transform_Acoustic_Coding|ATRAC3]]<ref name="svn8747">{{cite web | author = banan | url = http://svn.mplayerhq.hu/ffmpeg/trunk/Changelog?revision=8747&view=marku | title = Changelog | publisher = FFmpeg website | work = FFmpeg trunk SVN | date = 17 April 2007 | accessdate = 26 April 2007 }}{{dead link|date=2017年11月 |bot=InternetArchiveBot |fix-attempted=yes }}</ref>
*[[Nippon_Telegraph_and_Telephone|NTT]]: [[TwinVQ|TwinVQ]]
*[[On2|On2]]: Duck TrueMotion 1, Duck TrueMotion 2, [[VP3|VP3]], [[VP5|VP5]],<ref name="svn8747"/> [[VP6|VP6]]<ref name="svn8747"/>和[[VP8|VP8]]
*[[RAD_Game_Tools|RAD Game Tools]]: [[Smacker_video|Smacker video]]和[[Bink_video|Bink video]]
*[[Truespeech|Truespeech]]
*[[RenderWare|RenderWare]]: TXD<ref name="ffdev20070507">{{cite web|author=ivo|url=http://lists.mplayerhq.hu/pipermail/ffmpeg-devel/2007-May/028760.html|title=FFmpeg development mailing list|publisher=FFmpeg website|work=FFmpeg development|date=2007-05-07|accessdate=2010-12-24|deadurl=yes|archiveurl=https://archive.is/20070811203618/http://lists.mplayerhq.hu/pipermail/ffmpeg-devel/2007-May/028760.html|archivedate=2007-08-11}}</ref>

The default [[MPEG-4|MPEG-4]] codec used by FFmpegs the [[FourCC|FourCC]] of '''FMP4'''.
===輸出格式===
* [[Audio_Interchange_File_Format|AIFF]]
*[[Advanced_Systems_Format|ASF]]
*[[Audio_Video_Interleave|AVI]]
*BFI<ref name="ffdev20080413">{{cite web | author = vitor | url = https://lists.mplayerhq.hu/pipermail/ffmpeg-cvslog/2008-April/013231.html | title = FFmpeg development mailing list | publisher = FFmpeg website | work = FFmpeg development | date = 13 April 2008 | accessdate = 14 April 2008 }}{{dead link|date=2017年11月 |bot=InternetArchiveBot |fix-attempted=yes }}</ref>
* [[Core_Audio_Format|CAF]]
*[[FLV|FLV]]
* [[GIF|GIF]]
*[[GXF|GXF]], General eXchange Format, SMPTE 360M
* [[HTTP_Live_Streaming|HLS]], HTTP Live Streaming
*[[Interchange_File_Format|IFF]]<ref name="ffdev20080330">{{cite web | author = vitor | url = https://lists.mplayerhq.hu/pipermail/ffmpeg-cvslog/2008-March/012963.html | title = FFmpeg development mailing list | publisher = FFmpeg website | work = FFmpeg development | date = 30 March 2008 | accessdate = 30 March 2008 }}{{dead link|date=2017年11月 |bot=InternetArchiveBot |fix-attempted=yes }}</ref>
*[[ISO_base_media_file_format|ISO base media file format]]（包括[[QuickTime_File_Format|QuickTime]], [[3GP|3GP]]和[[MPEG-4_Part_14|MP4]]）
*M2V
*[[Matroska|Matroska]]（包括[[WebM|WebM]]）
*[[SimCity_3000|Maxis XA]]<ref name="ffdev20080414">{{cite web | author = benoit | url = https://lists.mplayerhq.hu/pipermail/ffmpeg-cvslog/2008-April/013245.html | title = FFmpeg development mailing list | publisher = FFmpeg website | work = FFmpeg development | date = 14 April 2008 | accessdate = 14 April 2008 }}{{dead link|date=2017年11月 |bot=InternetArchiveBot |fix-attempted=yes }}</ref>
* [[Dynamic_Adaptive_Streaming_over_HTTP|MPEG-DASH]]<ref>{{cite web|url=http://git.videolan.org/?p=ffmpeg.git;a=blob;f=RELEASE_NOTES;hb=release/2.5|title=RELEASE NOTES for FFmpeg 2.5 "Bohr"|date=2014-12-05|publisher=[[VideoLAN|VideoLAN]]|author=Michael Niedermayer, Timothy Gu|accessdate=2014-12-05|deadurl=yes|archiveurl=https://web.archive.org/web/20141208011850/http://git.videolan.org/?p=ffmpeg.git%3Ba%3Dblob%3Bf%3DRELEASE_NOTES%3Bhb%3Drelease%2F2.5|archivedate=2014-12-08|df=}}</ref>
*[[MPEG_program_stream|MPEG program stream]]
*[[M2T|MPEG transport stream]]（包括 [[AVCHD|AVCHD]]）
*[[MXF|MXF]], Material eXchange Format, SMPTE 377M
* MSN Webcam stream<ref name="ffdev20080318">{{cite web | author = ramiro | url = http://lists.mplayerhq.hu/pipermail/ffmpeg-cvslog/2008-March/012708.html | title = FFmpeg development mailing list | publisher = FFmpeg website | work = FFmpeg development | date = 18 March 2008 | accessdate = 18 March 2008 | deadurl = yes | archiveurl = https://web.archive.org/web/20080817072304/http://lists.mplayerhq.hu/pipermail/ffmpeg-cvslog/2008-March/012708.html | archivedate = 2008年8月17日 }}</ref>
* {{anchor|NUT}}NUT<ref name="nut">{{cite web|url=http://wiki.multimedia.cx/index.php?title=NUT|title=NUT|publisher=Multimedia Wiki|year=2012|accessdate=2014-01-03|archive-date=2014-01-03|archive-url=https://web.archive.org/web/20140103022122/http://wiki.multimedia.cx/index.php?title=NUT|dead-url=no}}</ref>
*[[Ogg|Ogg]]
*[[OpenMG_Audio|OMA]]<ref name="ffdev20080608">{{cite web | author = banan | url = http://lists.mplayerhq.hu/pipermail/ffmpeg-cvslog/2008-June/014417.html | title = FFmpeg development mailing list | publisher = FFmpeg website | work = FFmpeg development | date = 8 June 2008 | accessdate = 8 June 2008 | deadurl = yes | archiveurl = https://web.archive.org/web/20090114195646/http://lists.mplayerhq.hu/pipermail/ffmpeg-cvslog/2008-June/014417.html | archivedate = 2009年1月14日 }}</ref>
*[[Voyeur_(video_game)|RL2]]<ref name="ffdev20080321">{{cite web | author = faust3 | url = http://lists.mplayerhq.hu/pipermail/ffmpeg-cvslog/2008-March/012799.html | title = FFmpeg development mailing list | publisher = FFmpeg website | work = FFmpeg development | date = 21 March 2008 | accessdate = 21 March 2008 | deadurl = yes | archiveurl = https://web.archive.org/web/20080425024126/http://lists.mplayerhq.hu/pipermail/ffmpeg-cvslog/2008-March/012799.html | archivedate = 2008年4月25日 }}</ref>
* Segment, for creating segmented video streams
* [[Smooth_Streaming|Smooth Streaming]]
*TXD<ref name="ffdev20070507"/>
*[[Windows_Media_Center|WTV]]

===协议===
*IETF标准：[[Transmission_Control_Protocol|TCP]], [[User_Datagram_Protocol|UDP]], [[Gopher_(protocol)|Gopher]], [[HTTP|HTTP]], [[实时传输协议|RTP]], [[RTSP|RTSP]]和[[Session_Description_Protocol|SDP]]
*苹果公司的相关标准：[[HTTP_Live_Streaming|HTTP Live Streaming]]
*RealMedia的相关标准：RealMedia RTSP/[[Real_Data_Transport|RDT]]
*Adobe的相关标准：[[Real_Time_Messaging_Protocol|RTMP]], RTMPT（由librtmp实现），RTMPE（由librtmp实现），RTMPTE（由librtmp）和RTMPS（由librtmp实现）
*微软的相关标准：[[Microsoft_Media_Server|MMS]]在TCP上和MMS在HTTP上
==社區內部問題==
2011年1月19日，FFmpeg的现任维护者Michael Niedermayer在邮件列表上披露，FFmpeg发生了“[[政变|政变]]”，一些开发者占领了官方网站，关闭了其他人的寫入權限。随后政变者宣布FFmpeg “建立新政权”，维护任务将由他们接手，宣称只有维护团队才能拥有主源码库的寫入權限。

“新内阁”成员之一的Diego Biurrun解释了他们的行动，称“政變”是迫不得已，表示他们原本想联络每一个開發者，但沒成功，因为不是每个人都在[[IRC|IRC]]上，或者能及时回[[电话|电话]]、[[邮件|邮件]]或[[短信|短信]]。“革命”的原因是为了统一，FFmpeg社区分裂的情况严重到他们已经看不下去了。他们期望FFmpeg项目能建立一个健康而友好的开发环境。<ref>{{Cite web |url= https://www.solidot.org/story?sid=22139 |author=blackhat|date=2011-01-20|website=Solidot|title=FFmpeg發生政變|accessdate=2021-10-15 |archive-date=2018-12-18 |archive-url= https://web.archive.org/web/20181218013918/https://www.solidot.org/story?sid=22139 |dead-url=yes }}</ref>

隨後Fabrice Bellard等人於2011年3月13日跳出去開新專案，稱作Libav，Libav裡面每位成員的管理權限縮更小（至少不能任意關閉其他人更改程式碼權限）。而Debian血統也響應，宣布2012年要將ffmpeg指令改成avconv<ref>{{Cite web |url=http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=624807 |title=Debian Bug Tracker |accessdate=2014-02-04 |archive-date=2015-02-11 |archive-url=https://web.archive.org/web/20150211103811/https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=624807 |dead-url=no }}</ref>。

Libav跳槽之後有一定程度上更改FFmpeg的指令<ref>{{Cite web |url=http://libav.org/news.html#fftools_rename |title= News |accessdate=2014-09-08 |archive-date=2014-09-08 |website=libav.org|archive-url=https://web.archive.org/web/20140908112109/http://libav.org/news.html#fftools_rename |dead-url=yes }}</ref>。

==Libav/FFmpeg版权==
由于Libav、FFmpeg是在[[LGPL|LGPL]]、[[GPL|GPL]]下发布的（如果使用了其中一些使用GPL协议发布的模块则必须使用GPL协议），任何人都可以在遵守协议的情况下自由使用。目前有很多播放软件都使用了Libav、FFmpeg的代码，但它们并没有遵守LGPL，GPL协议，没有公开任何源代码。Libav、FFmpeg社區便將這些違反協議的公司、組織、個人的網址貼在“恥辱大廳”（又叫“恥辱柱”）上，并與這些公司/組織/個人商討如何解決版權爭議。<ref>{{Cite web |url=http://www.oschina.net/news/953 |title=FFmpeg开发者接受采访 - 开源中国社区 |accessdate=2011-03-05 |archive-date=2011-03-19 |archive-url=https://web.archive.org/web/20110319101205/http://www.oschina.net/news/953 |dead-url=no }}</ref>

==參考資料==
<references/>

==参见==
* [[影片轉換|影片轉換]]

==外部連結==
*{{Official website}}

{{压缩软件}}

[[Category:C函式庫|Category:C函式庫]]
[[Category:开源软件|Category:开源软件]]
[[Category:多媒體|Category:多媒體]]
[[Category:多媒体框架|Category:多媒体框架]]
[[Category:视频编解码器|Category:视频编解码器]]
[[Category:音频编解码器|Category:音频编解码器]]
[[Category:自由跨平台軟體|Category:自由跨平台軟體]]