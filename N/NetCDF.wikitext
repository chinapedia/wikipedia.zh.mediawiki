{{noteTA|G1=IT}}
{{Infobox file format
| name = Network Common Data Form
| icon =
|_noextcode = on
| extensions = .nc
|_nomimecode = on
| mime = application/netcdf<br/>application/x-netcdf
| owner = 美国[[大气科学研究大学联盟|大气科学研究大学联盟]]（UCAR）
| typecode =
| magic = CDF\001<br/>CDF\002<br/>\211HDF\r\n\032\n<br/>CDF\005
| released               = 
| latest release version =4.8.0
| latest release date    = {{Start date and age|2021|04|02}}
| genre = 科学二进制数据
| containerfor =
| containedby =
| extendedfrom = [[通用数据格式|通用数据格式]]（CDF）<br />[[外部数据表示法|外部数据表示法]]（XDR）<br />[[HDF|层级数据格式]]（HDF）
| extendedto =
| standard =
| url = {{Official URL}}
}}
'''网络通用数据格式'''（{{lang-en|Network Common Data Form}}，'''NetCDF'''）是一种自描述、与机器无关、基于[[数组|数组]]的科学数据格式，同时也是支持创建、访问和共享这一数据格式的[[函式庫|函式库]]。该项目主页位于美国[[大气科学研究大学联盟|大气科学研究大学联盟]]（UCAR）的Unidata规划网站。它也是netCDF软件、标准开发、更新等的主要来源。NetCDF格式是一种开放标准。NetCDF的经典格式和64位偏移量格式是[[开放地理空间协会|开放地理空间协会]]采用的国际标准<ref>{{Cite web|url = http://www.opengeospatial.org/standards/netcdf|title = OGC standard netCDF Classic and 64-bit Offset|publisher = Opengeospatial.org|date = |accessdate = 2013-11-27|archive-date = 2017-11-30|archive-url = https://web.archive.org/web/20171130022138/http://www.opengeospatial.org/standards/netcdf}}</ref>。

该项目开始于1989年，UCAR目前对其积极支持，在新发行版中改进性能、增加功能并修正缺陷，当前版本系列是netCDF-4，在编译时也可以选择只建造netCDF-3库<ref>[https://www.unidata.ucar.edu/software/netcdf/docs/getting_and_building_netcdf.html#build_classic Building netCDF with Classic Library Only ] {{Wayback|url=https://www.unidata.ucar.edu/software/netcdf/docs/getting_and_building_netcdf.html#build_classic |date=20171110203904 }}.</ref>。

==历史==
1985年[[美国国家航空航天局|美国国家航空航天局]]（NASA）的国家空间科学数据中心（NSSDC）设计并开发了[[通用数据格式|通用数据格式]]（CDF），CDF最初是用FORTRAN写成并只能在[[VAX|VAX]]/[[VMS|VMS]]环境下获得<ref>{{Cite web |url=https://cdf.gsfc.nasa.gov/html/FAQ.html |title=What are the differences between CDF and netCDF, and CDF and HDF? |accessdate=2019-06-08 |archive-date=2018-06-19 |archive-url=https://web.archive.org/web/20180619212258/https://cdf.gsfc.nasa.gov/html/faq.html |dead-url=no }}</ref>。Unidata在1987年8月成立了关于CDF的工作组，提议探索与NASA协作扩展CDF的FORTRAN接口，定义C接口，并允许用一个单一调用访问数据聚集，同时要维持与现存NASA接口兼容的可能性。在1988年早些时候，Unidata的Glenn Davis用C开发了原型netCDF包，它位于[[计算机网络|网络]][[表示层|表示层]][[外部数据表示法|XDR]]格式的上层<ref>[https://www.unidata.ucar.edu/software/netcdf/docs/file_structure_and_performance.html#xdr_layer File Structure and Performance: The Extended XDR Layer] {{Wayback|url=https://www.unidata.ucar.edu/software/netcdf/docs/file_structure_and_performance.html#xdr_layer |date=20191225193119 }}.</ref>。这个原型证明了CDF接口的基于XDR的一个单一文件实现可以在可接受代价下完成，而结果的程序可以在[[UNIX|UNIX]]和[[VMS|VMS]]系统二者上实现。但这也说明了提供一个小的、可移植的、兼容于NASA CDF的有想要的通用性的FORTRAN接口是不实际的。NASA的CDF和Unidata的netCDF从此独立发展，但新近的CDF版本与netCDF共享了很多特征。<ref name="history">{{Cite web|url = https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_data_set_components.html#background|title = Background and Evolution of the NetCDF Interface|date = |accessdate = 2019-06-06|archive-date = 2021-03-18|archive-url = https://web.archive.org/web/20210318170714/https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_data_set_components.html#background}}</ref>

1991年Unidata发布了netCDF版本2.0，1997年发布了版本3.3。2003年7月[[美国能源部|美国能源部]]的[[阿贡国家实验室|阿贡]][[美国能源部国家实验室|国家实验室]]和[[西北大学_(伊利诺伊州)|西北大学]]贡献了叫做并行-NetCDF（或称PnetCDF）的一个netCDF[[并行计算|并行计算]]扩展<ref>{{cite web |url=http://www.mcs.anl.gov/parallel-netcdf/ |title=parallel-netcdf |publisher=Mcs.anl.gov |date=2013-11-17 |accessdate=2013-11-27 |archive-url=https://web.archive.org/web/20081201204038/http://www.mcs.anl.gov/parallel-netcdf/ |archive-date=2008-12-01 |dead-url=no |df= }}</ref>。2004年在NASA的资助下，Unidata与美国[[国家超级电脑应用中心|国家超级计算应用中心]]（NCSA）开始合作增进netCDF和[[HDF5|HDF5]]的互操作性。2008年Unidata发布了版本4.0，允许使用[[HDF|HDF5]]数据文件格式。同时发布了版本3.6.3，它与版本4.0是同样的代码但关掉了netcdf-4特征，目前netCDF-3库仍然在世界各地被广泛使用。2010年Unidata发布了版本4.1.1，增加了对C和Fortran客户端通过{{en-link|OPeNDAP|OPeNDAP}}访问远程数据的特定子集的支持，并使用PnetCDF库支持在netCDF经典格式（CDF-1、CDF-2和2012年推出的CDF-5）上的并行I/O。<ref name="history" />

==格式描述==
netCDF库支持netCDF文件的多种不同的二进制格式<ref>[https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_introduction.html#netcdf_format The netCDF File Format] {{Wayback|url=https://www.unidata.ucar.edu/software/netcdf/docs/netcdf_introduction.html#netcdf_format |date=20191225193119 }}.</ref>：
* 在最初netCDF发行中使用的经典格式CDF-1，它仍是文件建立的缺省格式。
* 在版本3.6.0中介入的64-bit偏移量格式CDF-2，它支持更大的变量和文件大小。
* 在版本4.0中介入的netCDF-4/HDF5格式，它是带有一些限制的HDF5数据格式<ref>[https://www.unidata.ucar.edu/software/netcdf/docs/file_structure_and_performance.html#parts_of_netcdf4 File Structure and Performance: Parts of a NetCDF-4 HDF5 File] {{Wayback|url=https://www.unidata.ucar.edu/software/netcdf/docs/file_structure_and_performance.html#parts_of_netcdf4 |date=20191225193119 }}.</ref>。
* 在版本4.1中开始支持对HDF4 SD格式的只读访问<ref>[https://www.unidata.ucar.edu/software/netcdf/docs/file_format_specifications.html#hdf4_sd_format Appendix B. File Format Specifications: HDF4 SD Format] {{Wayback|url=https://www.unidata.ucar.edu/software/netcdf/docs/file_format_specifications.html#hdf4_sd_format |date=20200308163242 }}.</ref>。
* 在版本4.4.0中介入了CDF-5格式，协同于并行-netcdf计划的规定<ref>[http://cucis.ece.northwestern.edu/projects/PnetCDF/CDF-5.html  CDF-5 file format specification] {{Wayback|url=http://cucis.ece.northwestern.edu/projects/PnetCDF/CDF-5.html |date=20190717065650 }}.</ref>。

所有格式都是“[[元数据|自描述]]的”。 这意味其中有一个[[信头|头部]]，它描述文件余下部分的格局，特别是[[数组|数组]]数据，连同以名称/值[[特性_(计算机科学)|特性]]形式的任意文件元数据。这个格式是[[跨平台|跨平台]]的，涉及的问题如[[字节序|字节序]]在[[软件库|软件库]]中解决。数据以允许有效的构造子集的方式来存储。

起始于版本4.0，netCDF API允许使用[[HDF5|HDF5]]数据格式<ref>{{cite web |url=http://www.unidata.ucar.edu/software/netcdf/netcdf-4/ |title=Version 4.0 of the netCDF API |publisher=Unidata.ucar.edu |date= |accessdate=2013-11-27 |archive-url=https://web.archive.org/web/20150617165533/http://www.unidata.ucar.edu/software/netcdf/netcdf-4/ |archive-date=2015-06-17 |dead-url=yes |df= }}</ref>。NetCDF用户可以建立HDF5文件从而获得netCDF格式不具备的利益，比如更大的文件和多重无限制的维度。

完全后向兼容，可访问旧有netCDF文件并支持以前版本的C和Fortran API。

==软件==
netCDF常用于[[气候学|气候学]]、[[气象学|气象学]]和[[海洋学|海洋学]]应用，如[[天气预报|天气预报]]、[[气候变化|气候变化]]；也用于[[地理信息系统|地理信息系统]]应用，是很多GIS应用的输入/输出格式；并用于通用科学数据交换。从它的站点引述如下<ref>{{cite web|url=http://www.unidata.ucar.edu/software/netcdf/docs/faq.html#whatisit|title=What Is netCDF?|publisher=Unidata Program Center|accessdate=2012-11-26|archive-url=https://web.archive.org/web/20130315005738/http://www.unidata.ucar.edu/software/netcdf/docs/faq.html#whatisit|archive-date=2013-03-15|dead-url=no|df=}}</ref>：netCDF（网络公用数据格式）是用于面向数组数据访问的一组接口，和针对C、Fortran、C++、Java和其他语言的一套自由发行的数据访问库。netCDF库支持用来表示科学数据的一种机器无关格式。接口、库和格式一起支持建立、访问和共享科学数据。

===访问库===
UCAR发布的软件库提供了对netCDF文件的读写访问，编码和解码所需的数组和元数据。核心库是用[[C语言|C]]编写的，并为 C、[[C++|C++]]应用提供[[应用程序接口|API]]，为[[Fortran|Fortran]]应用提供两个API，一个给[[Fortran_77|Fortran 77]]，一个给[[Fortran_90|Fortran 90]]。Unidata还开发维护一个独立实现，使用100% [[Java|Java]]写成，它扩展了核心数据模型并增加了额外的功能。还可获得其他语言的到基于C库的netCDF的接口，包括[[R语言|R]]（ncdf<ref>{{cite web |url=http://cirrus.ucsd.edu/~pierce/ncdf/ |title=ncdf |publisher=Cirrus.ucsd.edu |date=2013-08-06 |accessdate=2013-11-27 |archive-url=https://web.archive.org/web/20131203023916/http://cirrus.ucsd.edu/~pierce/ncdf/ |archive-date=2013-12-03 |dead-url=no |df= }}</ref>、ncvar和RNetCDF<ref>{{cite web |url=https://cran.r-project.org/web/packages/RNetCDF/index.html |title=Rnetcdf |publisher=Cran.r-project.org |date=2012-07-19 |accessdate=2013-11-27 |archive-url=https://web.archive.org/web/20131202221930/http://cran.r-project.org/web/packages/RNetCDF/index.html |archive-date=2013-12-02 |dead-url=no |df= }}</ref>包）、{{en-link|Perl数据语言|Perl Data Language}}、[[Python|Python]]、[[Ruby|Ruby]]、[[Haskell|Haskell]]<ref>{{cite web |url=http://hackage.haskell.org/package/hnetcdf |title=hnetcdf: Haskell NetCDF library |publisher=hackage.haskell.org |date=2014-07-10 |access-date=2014-07-10 |archive-url=https://web.archive.org/web/20140709080200/http://hackage.haskell.org/package/hnetcdf |archive-date=2014-07-09 |dead-url=no |df= }}</ref>、[[Mathematica|Mathematica]]、[[MATLAB|MATLAB]]、[[IDL_(编程语言)|IDL]]和[[GNU_Octave|Octave]]。API调用规定在不同语言间非常类似，尽管有着不可避免的不同语法。版本2的API调用与版本3的调用相当不同，但出于后向兼容而被版本3和版本4支持。应用编程者使用受支持语言，在正常情况下不需要关心文件结构自身，即使它是作为开放格式而获得的。

===应用===
现在已经写出了使用netCDF文件的范围广泛的应用程序。它们的范围从[[命令行|命令行]]实用程序到图形[[信息图形|可视化]]包。下面列出其中一小部分，而更长的列表可见于UCAR网站列表<ref>{{cite web |author=russ |url=http://www.unidata.ucar.edu/software/netcdf/software.html |title=List of software utilities using netCDF files |publisher=Unidata.ucar.edu |date=1990-01-01 |accessdate=2013-11-27 |archive-url=https://web.archive.org/web/20131202221858/http://www.unidata.ucar.edu/software/netcdf/software.html |archive-date=2013-12-02 |dead-url=yes |df= }}</ref>：
* NetCDF算子（NCO<ref>[http://nco.sourceforge.net/ NCO]{{Wayback|url=http://nco.sourceforge.net/ |date=20190616180957 }}</ref>），这个套件是针对netCDF文件的常用[[Unix|Unix]]命令行实用工具集，它提供一套命令来操纵和分析netCDF文件，包括基本记录[[串接|串接]]、[[数组分片|数组分片]]和[[平均|平均]]。
* ncview<ref>[http://meteora.ucsd.edu/~pierce/ncview_home_page.html ncview]{{Wayback|url=http://meteora.ucsd.edu/~pierce/ncview_home_page.html |date=20140212143204 }}</ref>，它是netCDF格式文件的可视浏览器。这个程序是可视化在netCDF文件中的场的简单、快速、基于GUI的工具。
* NCAR命令语言<ref>[http://www.ncl.ucar.edu NCAR命令语言]{{Wayback|url=http://www.ncl.ucar.edu/ |date=20040507113409 }}</ref>（NCL），它可用来分析和可视化netCDF中的数据（还支持其他格式）。
* [[GrADS|网格分析和显示系统]]（GrADS），它是交互式桌面工具，用来容易的访问、操纵和可视化地球科学数据。
* [[Python|Python]]语言访问netCDF文件，可以用PyNIO模块（还支持其他格式）<ref>{{cite web |url=http://www.pyngl.ucar.edu/Nio.shtml |title=PyNIO |publisher=Pyngl.ucar.edu |date=2011-07-28 |accessdate=2013-11-27 |archive-url=https://web.archive.org/web/20131125054733/http://www.pyngl.ucar.edu/Nio.shtml |archive-date=2013-11-25 |dead-url=no |df= }}</ref>；还可以用Python模块<code>netCDF4-python</code>来读取<ref>{{Cite web |url=https://unidata.github.io/netcdf4-python/ |title=netcdf4-python is a Python interface to the netCDF C library |access-date=2017-12-04 |archive-url=https://web.archive.org/web/20171129043927/http://unidata.github.io/netcdf4-python/ |archive-date=2017-11-29 |dead-url=no |df= }}</ref>；还可以用<code>xarray</code>模块变成类似[[pandas|pandas]]的<code>DataFrame</code><ref>{{Cite web |url=http://xarray.pydata.org/en/stable/ |title=xarray: N-D labeled arrays and datasets in Python |access-date=2016-09-07 |archive-url=https://web.archive.org/web/20160901231759/http://xarray.pydata.org/en/stable/ |archive-date=2016-09-01 |dead-url=no |df= }}</ref>。
* [[R语言|R语言]]通过包来支持netCDF，包括ncdf4（也支持HDF5）<ref>David Pierce (2014). ncdf4: Interface to Unidata netCDF (version ) format data files. R package version 1.13. https://cran.r-project.org/package=ncdf4 {{Wayback|url=https://cran.r-project.org/package=ncdf4 |date=20191018214605 }}</ref>，和RNetCDF（不支持HDF5）<ref>Pavel Michna and with contributions from Milton Woods (2015).  RNetCDF: Interface to NetCDF Datasets. R package version 1.7-3.  https://cran.r-project.org/package=RNetCDF</ref>。
*[[GDAL|地理数据抽象库]]（GDAL<ref>[https://gdal.org/ GDAL]{{Wayback|url=https://gdal.org/ |date=20190617132628 }}</ref>），它提供对netCDF数据的读写访问支持<ref>{{cite web |url=http://www.gdal.org/frmt_netcdf.html |title=NetCDF network Common Data Form |publisher=Gdal.org |date= |accessdate=2013-11-27 |archive-url=https://web.archive.org/web/20130606071318/http://www.gdal.org/frmt_netcdf.html |archive-date=2013-06-06 |dead-url=no |df= }}</ref>。
* Panoply<ref>[http://www.giss.nasa.gov/tools/panoply/ Panoply]{{Wayback|url=http://www.giss.nasa.gov/tools/panoply/ |date=20140620075427 }}</ref>，它是netCDF文件查看器，它关注地理网格数据的表示。它是用[[Java|Java]]写成因而跨平台。
* [[欧洲中期天气预报中心|ECMWF]]的Metview<ref>[https://confluence.ecmwf.int/display/METV Metview]{{Wayback|url=https://confluence.ecmwf.int/display/METV |date=20190601091015 }}</ref>，这个工作站和批处理系统可以处理NetCDF和[[GRIB|GRIB]]及[[BUFR|BUFR]]。
*Ferret<ref>[https://ferret.pmel.noaa.gov/Ferret/ Ferret]{{Wayback|url=https://ferret.pmel.noaa.gov/Ferret/ |date=20190618061626 }}</ref>，它是交互式计算机可视化和分析环境，设计用来满足海洋学者和气象学者分析巨大而且复杂的网格数据。
* HDFql<ref>[http://www.hdfql.com HDFql]{{Wayback|url=http://www.hdfql.com/ |date=20190916005018 }}</ref>，它使用户能在C、C++、Java、Python、C#、Fortran和R语言中通过高层语言（类似SQL）来管理netCDF-4/HDF5文件。

==元数据约定==
{{Main article|气候和预报元数据约定}}
气候和预报（CF）约定是对[[地球科学|地球科学]]数据的元数据约定，意图用于促进处理和共享通过NetCDF应用编程接口（API）建立的文件。CF约定于2003年建立，普遍化并扩展了早期的协作[[海|海洋]]/[[地球大气层|大气]]研究数据服务（COARDS<ref>[https://ferret.pmel.noaa.gov/Ferret/documentation/coards-netcdf-conventions COARDS]{{Wayback|url=https://ferret.pmel.noaa.gov/Ferret/documentation/coards-netcdf-conventions |date=20190618060254 }}</ref>）约定和对[[气候|气候]]数据的Gregory/Drach/Tett（GDT）约定<ref>[https://www.unidata.ucar.edu/software/netcdf/conventions.html NetCDF Conventions] {{Wayback|url=https://www.unidata.ucar.edu/software/netcdf/conventions.html |date=20190618062911 }}.</ref>。CF约定定义了与数据包含在同一个文件中的元数据，从而使得文件“自我描述”，提供对在每个变量中的数据表示的是什么的确切描述，和数据的[[空间|空间]]的和[[时间|时间]]的属性的确切描述，包括关于网格的信息，比如网格单元边界和单元平均方法。这使得能够使用来自不同来源的数据，确定哪些数据是可比较的，并允许建造有着强力的提取、重新插值和显示能力的应用。Unidata 在2007年至2011年开发了LibCF库<ref>[https://www.unidata.ucar.edu/software/libcf/html/ LibCF库]{{Wayback|url=https://www.unidata.ucar.edu/software/libcf/html/ |date=20150228215352 }}</ref>。

==并行-NetCDF==
并行-NetCDF扩展建造在[[MPI-IO|MPI-IO]]之上，它是对[[消息传递接口|MPI]]的[[I/O|I/O]]扩展。使用高层netCDF数据结构，并行-NetCDF库可以进行优化而在多处理器间高效分配文件读和写应用。并行-NetCDF包只可以读/写经典和64-bit偏移量格式。并行-NetCDF不能读或写在netCDF-4.0中可获得的基于HDF5的格式。并行-NetCDF包使用不同但类似的Fortran和C的API。

在Unidata netCDF库中自从版本4.0已经支持对HDF5数据文件的并行I/O。Unidata NetCDF C库自从版本4.1.1使用并行-NetCDF库支持对经典和64-bit偏移量文件的并行 I/O，但使用NetCDF API。

==与其他格式库的互操作性==
netCDF C库，和基于它的库：Fortran 77和Fortran 90、C++和所有第三方库，自从版本4.1.1开始可以读一些其他数据格式的数据。[[HDF5|HDF5]]格式的数据可以读取，但有一些限制<ref>[https://www.unidata.ucar.edu/software/netcdf/docs/file_structure_and_performance.html#interoperability_with_hdf5 File Structure and Performance: Interoperability with HDF5] {{Wayback|url=https://www.unidata.ucar.edu/software/netcdf/docs/file_structure_and_performance.html#interoperability_with_hdf5 |date=20191225193119 }}.</ref>。使用HDF4科学数据（SD）API建立的[[HDF4|HDF4]]格式的数据，可以用netCDF C库读取。

==NetCDF-Java通用数据模型==
NetCDF-Java库目前已经能够读取很多文件格式和远程访问协议，并且正在开发对一些其他的格式的支持。因为这些都是通过NetCDF API透明的进行访问，NetCDF-Java库被称为实现了科学数据集的“通用数据模型”。

==参见==
* [[通用数据格式|通用数据格式]] (CDF)
* [[CGNS|CGNS]] ([[计算流体力学|CFD]] General Notation System)
* [[EAS3|EAS3]] (Ein-Ausgabe-System)
* [[FITS|FITS]] (Flexible Image Transport System)
* [[GRIB|GRIB]] (GRIdded Binary)
* [[层级数据格式|层级数据格式]]（HDF）
<!-- * [[NetCDF|NetCDF]] (Network Common Data Form) -->
* [[OPeNDAP|OPeNDAP]] 客户-服务器协议
* [[Tecplot|Tecplot]] 二进制文件
* [[XMDF|XMDF]] (eXtensible Model Data Format)

== 引用 ==
{{Reflist|2}}

==外部链接==
* {{Official website}}
*[https://cf-convention.github.io/ CF Metadata Home Page]{{Wayback|url=https://cf-convention.github.io/ |date=20140419234243 }}
*[https://parallel-netcdf.github.io/ PnetCDF: A Parallel I/O Library for NetCDF File Access]{{Wayback|url=https://parallel-netcdf.github.io/ |date=20190605044000 }}
* [http://www.unidata.ucar.edu/software/netcdf-java/ netCDF-Java project]{{Wayback|url=http://www.unidata.ucar.edu/software/netcdf-java/ |date=20080509084529 }} at UCAR

[[Category:文件格式|Category:文件格式]]
[[Category:地球科学数据格式|Category:地球科学数据格式]]
[[Category:氣象數據和網絡|Category:氣象數據和網絡]]
[[Category:地球科學圖形軟體|Category:地球科學圖形軟體]]