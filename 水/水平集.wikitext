{{for|数值方法|水平集方法}}

在[[数学|数学]]领域中, 一个具有''n''变量的[[实数|实]]值[[函数|函数]]''f''的'''水平集'''是具有以下形式的集合 
: { (''x''<sub>1</sub>,...,''x''<sub>''n''</sub>) | ''f''(''x''<sub>1</sub>,...,''x''<sub>''n''</sub>) = ''c'' }
其中 ''c'' 是常数. 即, 使得函数值具有给定常数的变量集合. 

当具有两个变量时, 称为'''水平曲线'''([[等高线|等高线]]), 如果有三个变量, 称为'''水平曲面''', 更多变量时, 水平集被叫做'''水平[[超曲面|超曲面]]'''.

集合
: { (''x''<sub>1</sub>,...,''x''<sub>''n''</sub>) | ''f''(''x''<sub>1</sub>,...,''x''<sub>''n''</sub>) ≤ ''c'' }
被称为 '''f''' 的 '''子水平集''' .

==其他名字==

[[Image:trefoil_knot_level_curves.png|thumb]](trefoil knot)的水平曲线 .  红色曲线距离观察者最近, 黄色曲线距离观察者最远.]]
[[Image:Trefoil_knot_arb.png|thumb]]

水平集具有很多重要的应用, 在不同的应用领域通常具有不同的名称.

例如, 水平曲线也被叫做'''隐式曲线'''(implicit curve)用来强调曲线是由[[隐函数|隐函数]](implicit function)定义的. 有时也使用'''等高线'''(isocontour)的名称, 表示一个具有相同高度(函数值)的轮廓. 在不同的应用领域, 
[[等压线|等压线]](isobar), [[等温线|等温线]](isotherm), [[同风向线|同风向线]](isogon), [[等时线|等时线]](isochrone)都属于等值高线.

相应的, 水平曲面有时被叫做'''隐式曲面'''(implicit surface)或'''[[等值曲面|等值曲面]]'''(isosurface).

最后, 更加一般的水平集被叫做'''[[纤维_(数学)|纤维]]'''(fiber).


== 例子 ==

例如, 指定一个半径 r, 圆的方程可以定义为一个等高线.

r<sup>2</sup>=x<sup>2</sup> + y<sup>2</sup>

如果取 r=5, 那么等高值为 c=5<sup>2</sup>=25.

所有使得 x<sup>2</sup> + y<sup>2</sup>=25 的点 (x,y) 构成了它的等高线. 这就是说他们属于等高线的水平集. 
如果 x<sup>2</sup> + y<sup>2</sup> 小于 25 这个点 (x,y) 就在等高线的内部. 如果大于 25 , 这个点就在等高线外部.

==水平集与梯度==

[[Image:level_grad.png|right]]

'''[[定理|定理]].''' 函数''f''在一点处的[[梯度|梯度]]与在该点处 ''f'' 的水平集垂直. 

这个定理是十分不寻常的. 为更好的理解定理的含义, 设想两个旅行者在一座山峰的同一位置.其中一个人很大胆, 决定从坡度最大的地方走. 另一个人比较保守; 他不想向上爬, 也不想走下去, 选择了一条在同一高度的路. 上面的定理就是说, 这两个旅行者相互离开的方向是互相垂直的.

'''[[数学证明|证明]].''' 设所考虑的点为 '''x'''<sub>0</sub> . 通过点 '''x'''<sub>0</sub> 的水平集是 {'''x''' | ''f''('''x''') = ''f''('''x'''<sub>0</sub>)}. 考虑一条通过点'''x'''<sub>0</sub>并且属于水平集的曲线  '''γ'''(''t'') , 不妨假设 '''γ'''(0) = '''x'''<sub>0</sub>.
从而得到

: <math>f({\mathbf \gamma}(t)) = f({\mathbf x_0}) = c.</math>

使用[[链式法则|链式法则]], 在 ''t'' = 0 处微分. 我们发现

:<math>J_f({\mathbf x_0}) {\mathbf \gamma}'(0)=0.</math>

同时, ''f'' 在 '''x'''<sub>0</sub> 处的[[雅可比行列式|雅可比行列式]] 等于 ''f'' 在点 '''x'''<sub>0</sub> 的梯度. 

:<math>\nabla f({\mathbf x}_0) \cdot {\mathbf \gamma}'(0)=0.</math>

因此, ''f'' 在点 '''x'''<sub>0</sub> 处的梯度与曲线在该点处的切线  '''γ'''′(0) 垂直. 由于曲线 '''γ'''(''t'') 是任意的, 因而断定梯度与水平集垂直. [[Q.E.D.|Q.E.D.]]

这一定理的直接推论是, 如果水平集穿过其自身 (不是一个光滑[[子流形|子流形]]或[[超曲面|超曲面]]) 那么梯度向量在所有交叉点处一定是零. 那么, 每个交叉点都是''f''的[[临界点|临界点]].

== 更多 ==
* [[等值曲面|等值曲面]](Isosurface)
* [[等高线|等高线]](Contour line)
* [[水平集方法|水平集方法]](Level set method )
* [[水平集_(数据结构)|水平集 (数据结构)]](Level set (data structures) )
* [[梯度下降法|梯度下降法]](Gradient descent )
* [[Constraint_(mathematics)|Constraint (mathematics)]]
* [[隐函数|隐函数]](Implicit function )
* [[Metaballs|Metaballs]]
* [[HyperFun|HyperFun]]

==参考资料==
<references/>

[[Category:多变量微积分|Category:多变量微积分]]
[[Category:包含证明的条目|Category:包含证明的条目]]