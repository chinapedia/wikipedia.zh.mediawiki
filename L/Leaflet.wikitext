{{NoteTA
|G1=IT
|G2=Geography
}}
{{Infobox software
| name                   = Leaflet
| logo                   = File:Leaflet_logo.svg 
| author                 = [[Vladimir_Agafonkin|Vladimir Agafonkin]]
| released               = {{start date|2011|05|13}}
| latest release version = 1.8
| latest release date    = {{start date|2022|04|18}}
| programming language   = [[JavaScript|JavaScript]]
| platform               = 参见[[#浏览器支持|浏览器支持]]
| genre                  = [[JavaScript函式庫|JavaScript函式庫]]
| license                = [[BSD许可证|BSD-2-Clause]]<ref>{{cite web |url=https://github.com/Leaflet/Leaflet/blob/master/LICENSE |title=License - Leaflet |access-date=2018-11-03 |publisher=Leaflet |archive-date=2021-01-06 |archive-url=https://web.archive.org/web/20210106211041/https://github.com/Leaflet/Leaflet/blob/master/LICENSE }}</ref>
| website                = {{URL|leafletjs.com}}
}}

'''Leaflet'''是一个[[開源授權|开源]]的[[JavaScript|JavaScript]][[函式庫|库]]，用于构建[[电子地图服务|Web地图]][[应用程序|应用]]。首次发布于2011年，<ref>{{cite web |url=http://robinlovelace.net/software/2014/03/05/webmap-test.html |title=Testing web map APIs - Google vs OpenLayers vs Leaflet |dead-url=yes |archive-url=https://web.archive.org/web/20171103225922/http://robinlovelace.net/software/2014/03/05/webmap-test.html |archive-date=2017-11-03 |last=Lovelace |first=Robin |access-date=2018-11-03}}</ref>它支持大多数移动和桌面平台，支持[[HTML5|HTML5]]和[[层叠样式表|CSS3]]。其用户包括FourSquare、[[Pinterest|Pinterest]]和[[Flickr|Flickr]]。

Leaflet允许没有GIS背景的开发人员非常容易地显示托管在公共服务器上的{{le|瓦片Web地图|tiled web map}}，并且可以叠加图层。它可以从[[GeoJSON|GeoJSON]]文件中加载地理要素数据，设置样式，并创建交互式图层，如点击时会弹出窗口的标记。

Vladimir Agafonkin开发了Leaflet，他在2013年加入了[[Mapbox|Mapbox]]。<ref>{{cite web |url=https://www.mapbox.com/blog/vladimir-agafonkin-joins-mapbox/ |title=Leaflet Creator Vladimir Agafonkin Joins MapBox |date=2014-08-06 |access-date=2018-11-03 |last=MacWright |first=Tom |archive-date=2015-09-12 |archive-url=https://web.archive.org/web/20150912162728/https://www.mapbox.com/blog/vladimir-agafonkin-joins-mapbox/ }}</ref>

== 使用 ==
[[File:Leaflet_example.png|thumb]]
Leaflet的典型用法是将Leaflet的“map”元素绑定到HTML元素（例如[[Span与div|div]]）上。然后将图层和标记添加到map元素中。
<syntaxhighlight lang="javascript">
 // create a map in the "map" div, set the view to a given place and zoom
 var map = L.map('map').setView([51.505, -0.09], 13);
 
 // add an OpenStreetMap tile layer
 // Tile Usage Policy applies: https://operations.osmfoundation.org/policies/tiles/
 L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
     attribution: '© <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors'
 }).addTo(map);
</syntaxhighlight>
Leaflet支持非球面墨卡托投影显示地图。<ref>{{cite web |url=https://techresearchonline.com/blog/top-free-data-visualization-tools/ |title=Top Data Visualization tools by Nataly Otair |date=2020-10-08 |access-date=2020-09-06 |archive-date=2020-11-25 |archive-url=https://web.archive.org/web/20201125133913/https://techresearchonline.com/blog/top-free-data-visualization-tools/ }}</ref>Leaflet库本身可以通过变量<code>L</code>访问。

==功能==
Leaflet原生支持{{le|Web地图服务|Web Map Service}}（WMS）层、[[GeoJSON|GeoJSON]]层、[[矢量图形|矢量]]层和瓦片层。通过[[插件|插件]]支持许多其他类型的图层。

与其他Web地图库一样，由Leaflet实现的基本显示模型是一个基本地图，加上零个或多个半透明覆盖，上面显示零个或多个矢量对象。

=== 元素 ===
主要的Leaflet对象类型有：<ref>{{cite web |url=https://leafletjs.com/reference-1.3.4.html |title=Leaflet API reference |access-date=2018-11-03 |archive-date=2021-01-05 |archive-url=https://web.archive.org/web/20210105103348/https://leafletjs.com/reference-1.3.4.html }}</ref>
* 栅格类型（TileLayer与ImageOverlay）
* 矢量类型（Path、Polygon，以及特定类型，如Circle）
* 群组类型（LayerGroup、FeatureGroup与GeoJSON）
* 控件（Zoom、Layers等）
还有各种工具类，例如用于管理投影、变换和与[[文档对象模型|DOM]]交互的接口。

=== GIS格式支持情况 ===
Leaflet的核心支持少数GIS标准格式，其他插件来支持。

{| class="wikitable"
! 标准 !! 支持情况
|-
| [[GeoJSON|GeoJSON]] || 良好，通过<code>geoJson</code>函数支持，核心功能<ref>{{cite web |url=https://leafletjs.com/examples/geojson/ |title=Using GeoJSON with Leaflet |access-date=2018-11-03 |archive-date=2020-11-11 |archive-url=https://web.archive.org/web/20201111231255/https://leafletjs.com/examples/geojson/ }}</ref>
|-
| KML、CSV、WKT、TopoJSON、GPX || 用Leaflet-Omnivore插件支持<ref>{{Cite web|url=https://github.com/mapbox/leaflet-omnivore|title=leaflet-omnivore|date=October 5, 2021|via=GitHub|access-date=2020-12-13|archive-date=2020-10-19|archive-url=https://web.archive.org/web/20201019004254/https://github.com/mapbox/leaflet-omnivore}}</ref>
|-
| {{le|Web地图服务|Web Map Service|WMS}} || 通过<code>TileLayer.WMS</code><ref>{{cite web |url=https://leafletjs.com/reference-1.3.4.html#tilelayer-wms |title=TileLayer.WMS |access-date=2018-11-03 |archive-date=2021-01-05 |archive-url=https://web.archive.org/web/20210105103348/https://leafletjs.com/reference-1.3.4.html#tilelayer-wms }}</ref>子类型支持，核心功能
|-
| {{le|Web要素服务|Web Feature Service|WFS}} || 不支持，不过有第三方插件。<ref>{{Cite web|url=https://github.com/Georepublic/leaflet-wfs|title=Leaflet with WFS Example|date=July 19, 2019|via=GitHub|access-date=2020-12-13|archive-date=2020-09-30|archive-url=https://web.archive.org/web/20200930013833/https://github.com/Georepublic/leaflet-wfs}}</ref>
|-
| [[地理标记语言|GML]] || 不支持。<ref>{{cite web |url=https://github.com/Leaflet/Leaflet/issues/547 |title=Support for GML |access-date=2018-11-03 |date=2012-06-23 |archive-date=2016-09-27 |archive-url=https://web.archive.org/web/20160927190821/https://github.com/Leaflet/Leaflet/issues/547 }}</ref>
|}

=== 浏览器支持 ===
Leaflet 0.7支持Chrome、Firefox、Safari 5+、Opera 12+和IE 7-11。<ref>{{cite web |url=https://leafletjs.com/#features |title=Features |access-date=2018-11-03 |archive-date=2021-02-07 |archive-url=https://web.archive.org/web/20210207122112/https://leafletjs.com/#features }}</ref>

== 与其他库的比较 ==
Leaflet与OpenLayers之间可以进行比较，因为两者都是开源的，而且客户端都只有JavaScript库。与OpenLayers的230,000行相比，整个库要小得多，大约有7,000行代码（截至2015年）。<ref>{{cite web |url=https://www.openhub.net/p/compare?project_0=OpenLayers&project_1=Leaflet |title=OpenHub.net comparison between OpenLayers and Leaflet |access-date=2018-11-03 |website=OpenHub.net |dead-url=yes |archive-url=https://web.archive.org/web/20140808124119/https://www.openhub.net/p/compare?project_0=OpenLayers&project_1=Leaflet |archive-date=2014-08-08}}</ref>与OpenLayers相比，它的代码占用空间更小（大约是123KB<ref>{{cite web |title=Leaflet frontpage |url=https://leafletjs.com/ |website=Leaflet - An Open-Source JavaScript Library for Mobile-Friendly Interactive Maps |access-date=2018-11-03 |archive-date=2021-02-07 |archive-url=https://web.archive.org/web/20210207122112/https://leafletjs.com/ }}</ref>相比于423KB<ref>{{cite web |title=OpenLayers 3.4.0 compressed source code |url=http://openlayers.org/en/v3.4.0/build/ol.js |publisher=OpenLayers.org |access-date=2018-11-03 |archive-url=https://web.archive.org/web/20161129010528/http://openlayers.org/en/v3.4.0/build/ol.js |archive-date=2016-11-29 |dead-url=yes }}</ref>），部分原因是它使用模块化结构。Leaflet的代码库更新，用上了JavaScript的新特性，以及HTML5和CSS3。还有，Leaflet缺乏一些OpenLayers原生支持的特性，比如{{le|Web要素服务|Web Feature Service}}（WFS），<ref>Various plugins providing WFS-support are listed on https://leafletjs.com/plugins.html {{Wayback|url=https://leafletjs.com/plugins.html |date=20210119030458 }}</ref>以及EPSG:3857/4326/3395以外的各种投影方式。<ref>{{cite web |url=https://leafletjs.com/reference-1.3.4.html#projection |title=Projection |access-date=2018-11-03 |archive-date=2021-01-05 |archive-url=https://web.archive.org/web/20210105103348/https://leafletjs.com/reference-1.3.4.html#projection }}</ref>

它还可以与私有的、封闭源代码的[[Google地图|Google地图API]]（2005年推出）和Bing地图API相比较，后两者都包含了一个重要的服务器端组件，提供[[地址编码|地址编码]]、路径规划、搜索等服务，并与[[Google地球|Google地球]]等功能集成。谷歌地图API提供了速度和简单性，但不是灵活的，只能用于访问谷歌地图服务。不过，Google API的新DataLayer 部分确实允许显示外部数据源。<ref>{{cite web |url=https://developers.google.com/maps/documentation/javascript/datalayer |title=Data Layer |publisher=Google |work=Google Maps Platform |access-date=2018-11-03 |archive-date=2021-01-28 |archive-url=https://web.archive.org/web/20210128011440/https://developers.google.com/maps/documentation/javascript/datalayer }}</ref>

== 外部链接 ==
* [[openstreetmap:leaflet|openstreetmap:leaflet]]
* [https://leafletjs.com/ Leaflet官网] {{Wayback|url=https://leafletjs.com/ |date=20210207122112 }}
* [https://leafletjs.com/examples.html Leaflet教程] {{Wayback|url=https://leafletjs.com/examples.html |date=20210119030500 }}

==参考文献==
{{Reflist|2}}

[[Category:自由GIS软件|Category:自由GIS软件]]
[[Category:用JavaScript編程的自由軟體|Category:用JavaScript編程的自由軟體]]
[[Category:地理技术|Category:地理技术]]
[[Category:JavaScript函式庫|Category:JavaScript函式庫]]
[[Category:使用BSD许可证的软件|Category:使用BSD许可证的软件]]
[[Category:电子地图|Category:电子地图]]