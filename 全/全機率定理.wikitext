{{NoteTA |G1=Math}}
{{Probability fundamentals}}
'''全機率定理'''(Law of total probability)，假設{ ''B''<sub>''n''</sub> : ''n'' = 1, 2, 3, ... } 是一個[[概率空間|概率空間]]的有限或者可數無限的[[集合划分|分割]]（既 ''B''<sub>''n''</sub>为一完备事件组），且每个集合''B''<sub>''n''</sub>是一个[[可测集合|可测集合]]，则对任意事件''A''有'''全概率公式'''：

:<math>\Pr(A)=\sum_{n} \Pr(A\cap B_n)\,</math>

又因为
:<math>\Pr(A\cap B_n) = \Pr(A\mid B_n)\Pr(B_n),</math>

此处Pr(''A'' | ''B'')是''B''发生后''A''的[[条件概率|条件概率]]，所以'''全概率公式'''又可写作：

:<math>\Pr(A)=\sum_{n} \Pr(A\mid B_n)\Pr(B_n).\,</math>

全概率公式将对一复杂事件A的概率求解问题转化为了在不同情况或不同原因 ''B''<sub>''n''</sub>下发生的简单事件的概率的求和问题。

==条件概率的期望值==

在离散情况下，上述公式等于下面这个公式。但后者在连续情况下仍然成立：

:<math>\Pr(A)=E(\Pr(A\mid N))</math>

此处''N''是任意[[随机变量|随机变量]]。  

这个公式还可以表达为：

:"''A''的[[先验概率|先验概率]]等于''A''的[[后验概率|后验概率]]的事前[[期望值|期望值]]。

==参见== 
* [[雙重期望值定理|雙重期望值定理]]
* [[全變異數定理|全變異數定理]]
* [[law_of_total_cumulance|law of total cumulance]]

[[Category:概率论|Category:概率论]]
[[Category:数学公式|Category:数学公式]]