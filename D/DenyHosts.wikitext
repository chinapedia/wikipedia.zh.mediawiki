{{NoteTA|G1=IT}}
{{Infobox Software
|name = DenyHosts
|developer = Phil Schwartz
|latest_release_version = 2.6
|latest_release_date = {{Release date and age|df=yes|2006|12|07}}
|latest_preview_version =
|latest_preview_date =
|programming language = Python
|operating_system = [[Linux|Linux]], [[FreeBSD|FreeBSD]]
|genre = [[计算机安全|安全]]、[[入侵预防系统|主机入侵预防系统]]
|license = [[GNU通用公共许可协议|GPL]]
|website = [http://denyhosts.sourceforge.net/ denyhosts.sf.net]
}}
'''DenyHosts'''是针对[[SSH|SSH]]服务器的一个基于日志的[[入侵预防系统|入侵预防]]安全工具，是用[[Python|Python]]编写的。其通过监测身份验证登录日志中失败的登录尝试，屏蔽这些登录者的IP地址，从而预防对SSH服务器的[[暴力破解法|暴力破解]]。DenyHosts是由Phil Schwartz开发的，他也是{{tsl|en|Kodos Python Regular Expression Debugger|Kodos正则表达式调试器}}的开发者。

== 原理 ==
DenyHosts通过监测身份验证登录日志的末尾，来获取近期失败的登录尝试信息。DenyHosts记录了有关登录者IP地址的信息，并将失败的登录尝试次数与用户指定的阈值进行比较。如果失败的登录尝试次数太多，DenyHosts假定发生了{{tsl|en|Dictionary attack|字典式攻击}}，并通过将IP地址添加到服务器上的<code>/etc/hosts.deny</code>，屏蔽相关IP，防止其进一步的攻击。DenyHosts 2.0及以上的版本支持集中同步，从而可以阻止攻击过多台电脑的惯犯。
从多台计算机，DenyHosts 2.0 及以上支持集中同步，所以重复的罪犯将被阻止。[https://web.archive.org/web/20090224004435/http://stats.denyhosts.net/stats.html denyhosts.net]网站从运行了该软件的计算机上收集统计信息。

DenyHosts仅对使用[[IPv4|IPv4]]的连接有效。它在[[IPv6|IPv6]]下不起作用。

DenyHosts可以手动运行，可以作为一个[[守护进程|守护进程]]，也可以作为一个[[cron|cron]]任务。

== 漏洞 ==
Daniel B. Cid撰写了一篇论文，表示DenyHosts以及类似的应用[[Fail2ban|Fail2ban]]和BlockHosts，容易受到远程日志注入的攻击<ref>Daniel B. Cid, [http://dcid.me/texts/attacking-log-analysis-tools.html#denyhosts-remote-dos Attacking Log Analysis tools] {{Wayback|url=http://dcid.me/texts/attacking-log-analysis-tools.html#denyhosts-remote-dos |date=20140515165312 }}</ref>。这个问题在2.6版中被修复<ref>DenyHosts, [http://denyhosts.sourceforge.net/changelog.html Changelog] {{Wayback|url=http://denyhosts.sourceforge.net/changelog.html |date=20141213085209 }}</ref>。

== 参见 ==
* [[Fail2ban|Fail2ban]]，一个类似的程序，防止对SSH以及其他服务的暴力破解攻击
* {{tsl|en|OSSEC}}
* [[TCP_Wrapper|TCP Wrapper]]

== 参考文献 ==
{{reflist}}

{{refbegin}}
*Carla Schroder, ''Linux Networking Cookbook'', O'Reilly, 2007, [http://books.google.com/books?id=P06O3lA0f5YC&pg=PT247&dq=DenyHosts+to+Foil&cd=1#v=onepage&q=DenyHosts%20to%20Foil&f=false pp. 223–226], ISBN 0-596-10248-8
*Ken Leyba, [http://fsmsh.com/2569 ''Protect your server with Deny Hosts'']{{Wayback|url=http://fsmsh.com/2569 |date=20160303192200 }}, 2008-01-28, {{tsl|en|Free Software Magazine|自由软件杂志}} issue 21
*Daniel Bachfeld, 24 July 2009, ''[http://www.h-online.com/security/features/DenyHosts-746344.html Protecting SSH from brute force attacks. DenyHosts]{{Wayback|url=http://www.h-online.com/security/features/DenyHosts-746344.html |date=20131207140237 }}'', {{link-en|Heinz Heise|Heinz Heise|H-online}}
{{refend}}

== 外部链接 ==
*[http://www.denyhosts.net DenyHosts网站]{{Wayback|url=http://www.denyhosts.net/ |date=20080516004214 }}
*[https://archive.is/20121217124638/https://boxpanel.blueboxgrp.com/public/the_vault/index.php/Installing_DenyHosts_(Legacy) Blue Box page on installing DenyHost]
*[http://www.gentoo.org/security/en/glsa/glsa-200710-14.xml Gentoo linux问题报告]{{Wayback|url=http://www.gentoo.org/security/en/glsa/glsa-200710-14.xml |date=20141222033952 }}

[[Category:自由安全软件|Category:自由安全软件]]
[[Category:自由網路軟體|Category:自由網路軟體]]
[[Category:用Python編程的自由軟體|Category:用Python編程的自由軟體]]
[[Category:Linux安全软件|Category:Linux安全软件]]