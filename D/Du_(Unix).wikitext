{{lowercase}}
{{NoteTA|G1=IT}}
[[File:Du_unix_output.png|thumb]]
'''<code>du</code>'''('''d'''isk '''u'''sage的缩写，磁盘使用情况)是一个标准Unix程序，用于估量文件或文件夹的磁盘使用情况。

== 历史 ==
<code>du</code>工具首次出现在AT&T Unix的第一版中。

== 规范 ==
默认情况下，[[单一UNIX规范|单一UNIX规范]]规定，<code>du</code>显示当前目录每个文件与目录的被分配磁盘空间的情况。链接文件将会显示其本身大小而非其链接对象；目录则会显示其内容的大小。

由于<code>du</code>只反映磁盘分配情况而非实际文件大小，所以如果文件被删除后磁盘未被释放，其显示的数字会与[[df|df]]报告的数字有所不同。

== 用法 ==
<code>du</code>可以带一个参数，即指定一个路径来工作；如果没有指定，则使用当前目录。[[单一UNIX规范|SUS]]指定了<code>du</code>有以下这些选项：
: <tt>-a</tt>，显示所有的文件和目录，而不仅仅显示目录。
: <tt>-H</tt>，计算命令行中指定链接对象的磁盘使用情况。
: <tt>-k</tt>，将大小除以1024字节，而非512字节显示。
: <tt>-L</tt>，计算任意链接对象的使用情况。
: <tt>-s</tt>，仅汇报当前目录总计的磁盘使用情况，而不显示每一个文件。
: <tt>-x</tt>，仅遍历指定路径所在设备上的文件与目录。

其他Unix和类Unix操作系统可能提供额外的选项。例如，[[BSD|BSD]]与[[GNU|GNU]]的<code>du</code>规定了一个<tt>-h</tt>选项，把磁盘使用情况的大小加上单位后缀，显示为一个用户更容易理解的形式。（如：10MB）

== 示例 ==
KB单位的目录总大小：
<syntaxhighlight lang="bash">
 $ du -sk *
 152304  directoryOne
 1856548 directoryTwo
</syntaxhighlight>
更易读的目录总大小格式(Byte、KB、MB、GB、TB、PB)：
<syntaxhighlight lang="bash">
 $ du -sh *
 149M directoryOne
 1.8G directoryTwo
</syntaxhighlight>
当前目录下包含隐藏文件，子目录与文件的磁盘使用情况（从小到大排序）：
<syntaxhighlight lang="bash">
 $ du -sk .[!.]* *| sort -n
</syntaxhighlight>
当前目录下包含隐藏文件，子目录与文件的磁盘使用情况（从大到小排序）：
<syntaxhighlight lang="bash">
 $ du -sk .[!.]* *| sort -nr
</syntaxhighlight>

显示深度为1的目录大小及其总和
<syntaxhighlight lang="bash">
 $ du -d 1 -c -h
</syntaxhighlight>

== 参考 ==
*[[Baobab_(software)|Baobab]]

== 外部链接 ==
* [http://pubs.opengroup.org/onlinepubs/9699919799/utilities/du.html The Open Group Base规范中du的说明]{{Wayback|url=http://pubs.opengroup.org/onlinepubs/9699919799/utilities/du.html |date=20110309031959 }}

=== 使用手册 ===
* [http://www.gnu.org/software/coreutils/manual/html_node/du-invocation.html du]{{Wayback|url=http://www.gnu.org/software/coreutils/manual/html_node/du-invocation.html |date=20110624130252 }} — [[GNU|GNU]] [[coreutils|coreutils]]中的使用手册
* [http://www.openbsd.org/cgi-bin/man.cgi?query=du du] — [[OpenBSD|OpenBSD]]中的使用手册
* [http://leaf.dragonflybsd.org/cgi/web-man?command=du&section=ANY du]{{Wayback|url=http://leaf.dragonflybsd.org/cgi/web-man?command=du&section=ANY |date=20110613143020 }} — [[Dragonflybsd|Dragonflybsd]]中的使用手册

=== 其他 ===
* [https://web.archive.org/web/20110515021820/http://freshmeat.net/search/?q=disk+space Disk space-related utilities] at Freshmeat.net

{{Unix命令}}

[[Category:标准Unix程序|Category:标准Unix程序]]
[[Category:Unix_SUS2008实用工具|Category:Unix SUS2008实用工具]]
[[Category:Disk硬盘分析软件|Category:Disk硬盘分析软件]]