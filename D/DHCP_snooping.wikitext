{{noteTA
|G1=IT
}}
[[File:DHCP_Snooping_-zh.svg|thumb]]
'''DHCP Snooping'''是[[DHCP|DHCP]]的一种安全特性，主要应用在[[交换机|交换机]]上。

==原理==
作用是屏蔽接入网络中的非法的[[DHCP|DHCP]]服务器。即开启 DHCP Snooping 功能后，网络中的客户端只有从管理员指定的[[DHCP|DHCP]]服务器获取[[IP地址|IP]]地址。
由于[[DHCP|DHCP]]报文缺少认证机制，如果网络中存在非法[[DHCP|DHCP]]服务器，管理员将无法保证客户端从管理员指定的[[DHCP|DHCP]]服务器获取合法地址，客户机有可能从非法[[DHCP|DHCP]]服务器获得错误的[[IP地址|IP]]地址等配置信息，导致客户端无法正常使用网络。

启用 DHCP Snooping 功能后，必须将 [[交换机|交换机]] 上的端口设置为信任（Trust）和非信任（Untrust）状态，[[交换机|交换机]] 只转发信任端口的 DHCP OFFER/ACK/NAK报文，丢弃非信任端口的DHCPOFFER/ACK/NAK 报文，从而达到阻断非法[[DHCP|DHCP]]服务器的目的。建议将连接[[DHCP|DHCP]]服务器的端口设置为信任端口，其他端口设置为非信任端口。

此外，DHCP Snooping还会监听经过本机的[[DHCP|DHCP]]数据包，提取其中的关键信息并生成 DHCP Binding Table 记录表，一条记录包括[[IP地址|IP]]、[[MAC|MAC]]、租约时间、端口、[[VLAN|VLAN]]、类型等信息，结合 DAI（Dynamic ARP Inspection）和 IPSG（IP Source Guard）可实现ARP防欺骗和IP流量控制功能<ref>{{Cite web |url=https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst6500/ios/12-2SX/configuration/guide/book/snoodhcp.html |title=Catalyst 6500 Release 12.2SX Software Configuration Guide |accessdate=2018-07-31 |archive-date=2018-01-20 |archive-url=https://web.archive.org/web/20180120070951/https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst6500/ios/12-2SX/configuration/guide/book/snoodhcp.html |dead-url=no }}</ref>。

== 參考資料 ==
{{reflist}}

[[Category:TCP/IP|Category:TCP/IP]]
[[Category:網路安全|Category:網路安全]]