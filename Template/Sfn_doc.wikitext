{{Documentation subpage}}
<!-- PLEASE ADD CATEGORIES AND INTERWIKIS AT THE BOTTOM OF THIS PAGE -->

=短脚注模板=
__TOC__
==目的==

于脚注中创建短的[[哈佛参考文献格式]]。详情见[[Wikipedia:Citing sources#Shortened footnotes|「列明來源」]]。特点:
*自动整合相同脚注。
*自动创建到页底该引用的具体信息的链接。锚点只有当你添加了{{para|ref=|harv}}参数到目的模板才会被创建。这个链接只有当参数{{para|last}}、{{para|last2}}和{{para|year}}与{{tl|sfn}}相匹配时才会被创建，或者{{para|ref}}被设置为一个其他的锚点id。

==用法==

: <code><nowiki>{{</nowiki>Sfn |''Last name of author(s)''|''Year''| loc = ''Location in the text''}}</code>

如果不想用選填的loc參數，可以改用以下參數其中一個：

*{{para|p|page}}
*{{para|pp|pages}}

; 注意
*第一個參數是作者的姓（last name）。
*可以填寫最多4位作者作為參數（見例子）。如果作者多於4位，請只列出首4位，列出更多作者就会发生奇怪的事情。
*下一個參數是出版年份（the year of publication）。
*年份和作者姓名前后不能有多余的空格，否则生成的链接无效（BUG）。
*The "loc = " parameter is the location of the cited material within the reference. 此參數是選填。
*参数''p''是选填的页码参数; thus "<code><nowiki>{{sfn|Smith|2006| p=25}}</nowiki></code>" yields "{{Harvnb|Smith|2006|p=25}}".
*参数''pp''是选填的页码范围参数; thus "<code><nowiki>{{sfn|Smith|2006| pp=25&amp;ndash;26}}</nowiki></code>" yields "{{Harvnb|Smith|2006|pp=25–26}}".
*如果作者在同一年發表了多於一份著作，標準做法是在年份後面加a、b……區別（例如year=2006a 和 year=2006b）。
*If multiple references are made to the same location of the same work, only one footnote is generated.
*如果需要加入更多注解，use {{tl|Harvnb}} or {{tl|Harvtxt}} in <nowiki><ref></nowiki> tags to achieve a similar effect. E.g. <pre>Jones writes "blah blah".<ref>Quoted in {{Harvnb|Smith|2006|p=25}}.</ref></pre>


Editors editing this template are requested to consider making parallel changes to {{tl|Harv}}, {{tl|Harvnb}} and {{tl|Harvs}}.

==例子==

:{| class="wikitable"
|-
! Markup !! Result
|-
| <code><nowiki>句子。{{sfn |Smith|2006| p=25}}</nowiki></code>
| 句子。{{sfn |Smith|2006 |p=25}}
|-
| <code><nowiki>句子。{{sfn |Smith|2006| pp=25&amp;ndash;26}}</nowiki></code>
| 句子。{{sfn|Smith|2006| pp=25–26}} <small>引用多页。<small>
|-
| <code><nowiki>句子。{{sfn |Smith|2006| loc=&amp;sect;8.5}}</nowiki></code>
| 句子。{{sfn|Smith|2006| loc=§8.5}} <small>提及引用的段落。<small>
|-
| <code><nowiki>句子。{{sfn |Smith|2006| p=25}}</nowiki></code>
| 句子。{{sfn|Smith|2006 |p=25}} <small>同一页的第二个引用。<small>
|-
| <code><nowiki>句子。{{sfn |Smith|Jones|2006| p=25}}</nowiki></code>
| 句子。{{sfn|Smith|Jones|2006| p=25}} <small>两位作者。<small>
|-
| <code><nowiki>句子。{{sfn |Smith|Jones|Brown|2009| p=25}}</nowiki></code>
| 句子。{{sfn|Smith|Jones|Brown|2009| p=25}} <small>三位作者。<small>
|-
| <code><nowiki>句子。{{sfn |Smith|Jones|Brown|Black|2006| p=25}}</nowiki></code>
| 句子。{{sfn|Smith|Jones|Brown|Black|2006| p=25}} <small>多位作者。<small>
|-
| <code><nowiki>句子。{{sfn |Wallace|1993a| p=25}}下一个句子。{{sfn |Wallace|1993b| p=32}}</nowiki></code>
| 句子。{{sfn |Wallace|1993a| p=25}}下一个句子。{{sfn |Wallace|1993b| p=25}} <small>同一年的不同书籍、论文。<small>
|-
|<pre>==Notes==
{{reflist}}

==References==
* {{Cite book
| last = Smith | first = John
| year = 2006
| title = Smith's Book
| ref = harv
}}
* {{Cite web
| last = Smith | first = John
| last2 = Jones | first2 = Sam
| title = Smith & Jones website
| url = http://en.wikipedia.org
| year = 2006
| ref = harv
}}
* {{Cite news
| last = Smith | first = John
| last2 = Jones | first2 = Sam
| last3 = Brown | first3 = Tom
| title = Article by Smith, Jones and Brown
| year = 2009
| newspaper = Big Urban Newspaper
| ref = harv
}}
* {{Cite journal
| last = Smith
| last2 = Jones
| last3 = Brown
| last4 = Black
| year= 2006
| title= Smith, Jones, Brown and Black's Paper
| journal = Important Journal
| ref = harv
}}
* {{Cite journal
| last = Wallace | first = Bill
| year = 1993a
| title = Wallace's first paper
| journal= Important Journal
| ref = harv
}}
* {{Cite journal
| last = Wallace | first = Bill
| year = 1993b
| title = Wallace's second paper
| journal= Another Important Journal
| ref = harv
}}
</pre>
|
{{fake heading|Notes}}
{{reflist}}

{{fake heading|References}}
* {{Cite book
| last = Smith | first = John
| year = 2006
| title = Smith's Book
| ref = harv
}}
* {{Cite web
| last = Smith | first = John
| last2 = Jones | first2 = Sam
| title = Smith & Jones website
| url = http://en.wikipedia.org
| year = 2006
| ref = harv
}}
* {{Cite news
| last = Smith | first = John
| last2 = Jones | first2 = Sam
| last3 = Brown | first3 = Tom
| title = Article by Smith, Jones and Brown
| year = 2009
| newspaper = Big Urban Newspaper
| ref = harv
}}
* {{Cite journal
| last = Smith
| last2 = Jones
| last3 = Brown
| last4 = Black
| year= 2006
| title= Smith, Jones, Brown and Black's Paper
| journal = Important Journal
| ref = harv
}}
* {{Cite journal
| last = Wallace | first = Bill
| year = 1993a
| title = Wallace's first paper
| journal= Important Journal
| ref = harv
}}
* {{Cite journal
| last = Wallace | first = Bill
| year = 1993b
| title = Wallace's second paper
| journal= Another Important Journal
| ref = harv
}}
|}

==Anchor IDs==
This template generates an HTML IDd as an anchor to link the short citation to the full citation.. The {{para|ref|harv}} field is necessary in each of the <code><nowiki>{{cite ...}}</nowiki></code> templates to enable the id. The {{tl|citation}} template always generates an id.

If the article cites multiple works by the same author in the same year, then duplicate IDs will be generated. One method to resolve this is to add an alpha suffix to the year. Example: 2009a, 2009b, 2009c.

If works are cited where the author or year is unknown— such as for a web page —then an invalid ID will be generated. To resolve this, create a custom ID:

: <code><nowiki>{{sfn|</nowiki>''cite name''|''year''<nowiki>}}</nowiki></code>
: <code><nowiki>{{cite ... |ref=CITEREF</nowiki>''cite_nameyear''<nowiki> }}</nowiki></code>

Where ''cite_name'' is a name such as the publisher, and must follow these rules:
*  Must begin with a letter A-Z or a-z
* Can be followed by: letters (A-Za-z), digits (0-9), hyphens ("-"), underscores ("_"), colons (":"), and periods (".")
* Spaces in the {{para|ref}} field must be replaced with underscores
* Case-sensitive

===SfnRef===
You may use the {{tl|SfnRef}} template to generate the proper value for the {{para|ref}} parameter. Pass the same parameters used with {{tl|sfn}} to {{tl|SfnRef}}:
: <code><nowiki>{{sfn|</nowiki>''cite name''|''year''<nowiki>}}</nowiki></code>
: <code><nowiki>{{cite ... |ref={{SfnRef|</nowiki>''cite name''|''year''<nowiki>}} }}</nowiki></code>

Articles using {{tlx|sfn}} should be checked for duplicate IDs with the [http://validator.w3.org/ W3C Markup Validation Service].

==注意==
使用sfn模板時，無需在前後加上<nowiki><ref>和</ref></nowiki>，例如
<pre>{{sfn|Smith|2006|p=26}}</pre>等於如下原始碼：<pre><ref name=Smith200626>{{Harvnb|Smith|2006|p=26}}</ref></pre>

==TemplateData==
{{TemplateDataHeader}}
<templatedata>
{
	"params": {
		"1": {
			"description": "第一作者或单一的姓",
			"required": true,
			"example": "Smith",
			"type": "line",
			"suggested": true,
			"label": "作者的姓"
		},
		"2": {
			"description": "单一作者文献的发表年份，或（当文献有两位或以上作者时）第二作者的姓",
			"required": true,
			"example": "2006",
			"type": "string",
			"suggested": true,
			"label": "第二作者或年份"
		},
		"3": {
			"description": "两名作者文献的发表年份，或（当文献有三位或以上作者时）第三作者的姓",
			"type": "string",
			"label": "第三作者或年份"
		},
		"4": {
			"description": "三名作者文献的发表年份，或（当文献有四位或以上作者时）第四作者的姓",
			"type": "string",
			"label": "第四作者或年份"
		},
		"5": {
			"description": "四名或以上作者文献的发表年份",
			"type": "number",
			"label": "年份（如已包含四名作者）"
		},
		"p": {
			"description": "来源中的页码，如果相关信息在一页上（多页时使用“pp”参数，其他位置数据使用“loc”参数）",
			"suggested": true,
			"aliases": [
				"page"
			],
			"example": "42",
			"type": "line",
			"label": "页码"
		},
		"pp": {
			"description": "来源中的多篇页码",
			"aliases": [
				"pages"
			],
			"example": "23–24",
			"type": "line",
			"label": "多篇页码"
		},
		"ps": {
			"description": "补充引用或评论",
			"example": "This is an additional comment.",
			"type": "string",
			"label": "后记"
		},
		"loc": {
			"description": "在来源中的位置",
			"example": "section 7",
			"type": "line",
			"label": "位置"
		}
	},
	"description": "本模板在脚注中创建了一个简短的作者日期引用，它允许你使用哈佛引文（使用括号参考的短引文形式）将内文链接到相应的完整书目引文。",
	"format": "inline"
}
</templatedata>

== 相關 ==
* {{tl|cfn}}

;對應
* {{tl|clref}}
* {{tl|citation}}
* {{tl|Harvtxt}}（{{tl|cite book}}）<!-- 例如[[人工智能]] -->
* {{tl|sfnref}}
 
<includeonly>
[[Category:引用模板]]
</includeonly>