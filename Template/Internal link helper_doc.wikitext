<noinclude>{{template doc page viewed directly}}</noinclude>
<!-- 在本行下編輯模板說明 -->
{{NoteTA
|G1=Mediawiki
|G2=IT
}}

{{Bot use warning|bots=[[Wikipedia:机器人/申请/Cewbot/11|cewbot]]}}

{{Lua|模块:ilh}}

{{tlx|Internal link helper}}系列（內部連結助手，简称“ilh”或“Link系列”）模板，实际常用{{tlx|link-en}}等快捷方式子模板，为[[Help:跨语言链接#出現在正文中的連結|內文跨语言链接]]模板。對於中文維基未建立條目的詞彙，該模板可在生成內部連接的基礎上，展示外語版條目連結以供參考。

對於尚未創建中文版條目，桌面版網頁預設以為綠色連結（{{color|#007a5e|#007a5e}}）加鼠标悬浮提示框取代[[WP:REDLINK|紅色連結]]，行動版網頁則在紅色連結後括弧加註跨語言連結。註冊用戶可在[[Special:Preferences#mw-prefsection-gadgets|偏好設定#小工具]]中選取[[#显示效果|其它效果]]。

當該中文條目建立後，模板和普通藍色連結显示效果相同（您也可以在设定中改成用浅蓝色显示已有中文条目而外语条目链接尚未摘除的项目），同时条目归类于[[:Category:有蓝链却未移除内部链接助手模板的页面]]，一段时间后机器人会自动摘除模板。如果中文版实际存在对应条目，而编辑者填写了其它名称，则目前会有机器人会自动建立重定向。

==用法==

{{tlx|Internal link helper}}不能直接用於條目，編者必须調用其各語文子模板（如{{tlx|Internal link helper/en}}）。實踐中編者常使用{{tlc|link-<var>xx</var>}}快捷方式使用模板，其中<var>xx</var>表示語言代碼，如希望展示英文維基百科連結，可使用{{tlx|link-en}}，可用語文代碼參見下文[[#子模板]]章節。

===語法===

代碼中的<code>en</code>可換為實際需要的語文代碼，如<code>ja</code>、<code>ru</code>。
: {{Tlx|1=link-en|2=<中文維基百科頁面名>|3=<外文維基百科對應頁面名>|4=<連結實際顯示文字>}}

{| class="wikitable"
! 參數 !! 必填？ !! 說明 
|-
| <code>1</code> 
| {{yes}} 
| 中文維基百科頁面名，相當於內部連結語法<code>&#91;[<var>XXX</var>&#124;<var>YYY</var>]&#93;</code>中的<code><var>XXX</var></code>。
|-
| <code>2</code> 
| {{optional|建議}} 
| 外文維基百科對應頁面名，相當於<code>&#91;[:<var>en</var>:<var>ZZZ</var>]&#93;</code>中的<code><var>ZZZ</var></code>。若中文版和外文版命名一致，此參數可省略。
|-
| <code>3</code>, <code>d</code>
| {{no}}  
| 連結實際顯示文字，相當於內部連結語法<code>&#91;[<var>XXX</var>&#124;<var>YYY</var>]&#93;</code>中的<code><var>YYY</var></code>。和頁面名相同時可省略。
|}

===示例===

{| class="wikitable"
! 代碼
! 效果
|-
| {{tlx|1=link-en|2=小精靈小姐|3=Ms. Pac-Man}}
| {{link-en|小精靈小姐|Ms. Pac-Man}}
|-
| {{tlx|1=link-en|2=電子世界爭霸戰 (遊戲)|3=Tron (video game)|4=電子世界爭霸戰}}
| {{link-en|電子世界爭霸戰 (遊戲)|Tron (video game)|電子世界爭霸戰}}
|-
| {{tlx|1=link-ru|2=Old-Games.RU}}
| {{link-ru|Old-Games.RU}}
|-
| {{tlx|1=link-ja|2=上月景正|3={{!}}上月}}
| {{link-ja|上月景正||上月}}
|}

==子模板==

===現有子模板===
{{See also|Special:PrefixIndex/Template:Internal link helper/|Special:PrefixIndex/Template:Link-|l1=Internal link helper的子模板|l2=以Link-開頭的模板}}

{{Internal link helper/doc/子模板列表}}

===創建子模板===

因子模板尚未创建，部分語言代碼無法使用，編者可按下述方法創建子模板：

# 首先，确认需要对应到的语言维基百科的语言代码
# 在[[Module:Ilh/data]]加入對應语言代码及其语言名称（如<code>英语</code>、<code>德语</code>）
# 使用以下代碼創建<code>Template:Internal link helper/<var>语言代码</var></code>——<syntaxhighlight style="width: 95%; margin: 0 auto; font-size: 90%;" lang="html">
<include{{subst:^}}only>{{#invoke:ilh|main |lang-code={{subst:SUBPAGENAME}} |1={{{1|{{{2|}}}}}} |2={{{2|}}} |d={{{d|{{{3|}}}}}} |nocat={{{nocat|}}}}}</includeonly><noinclude>{{Documentation|Template:Internal link helper/doc}}</noinclude>
</syntaxhighlight>
# 將<code>Template:<var>语言代码</var>-link</code>和<code>Template:Link-<var>语言代码</var></code>两个頁面重定向到<code>Template:Internal link helper/<var>语言代码</var></code>
# 到[[Template:Internal link helper/doc/子模板列表]]登記新創建的模板

==显示效果==

模板提供了多種显示效果，注册用户可以在参数设置的[[Special:参数设置#mw-prefsection-gadgets|小工具]]栏目中，选择希望的表示方式，请不要同时选择一种以上的效果。開啟功能後，在目標頁面或條目未出現下面效果的，請按[[Wikipedia:繞過緩存]]進行操作。

{| class="wikitable"
! 跨語言連結小工具
! 說明
! 效果
|-
! （不啟用跨語言連結小工具）
| 顯示紅色連結，括弧附註語文標籤及跨語言連結。亦為行動版視圖效果。
| [[電子世界爭霸戰 (遊戲)|電子世界爭霸戰]]（英语：[[:en:Tron (video game)|<span lang="en">-{Tron (video game)}-</span>]]）
|-
! {{Str right| {{int:Gadget-internalLinkHelper-redonly}} |6}}
| 僅顯示紅色連結。讀者無法獲取外文信息。
| [[電子世界爭霸戰 (遊戲)|電子世界爭霸戰]]
|-
! {{Str right| {{int:Gadget-internalLinkHelper-redtipsy}} |6}}
| 顯示紅色連結；滑鼠浮於連結時，彈窗提示跨語言連結。
| [[File:Gadget-internalLinkHelper-redtipsy.png|frameless|330px]]
|-
! {{Str right| {{int:Gadget-internalLinkHelper-redplain}} |6}}
| 顯示紅色連結，括弧附註外文頁面標題（無跨語言連結）。
| [[電子世界爭霸戰 (遊戲)|電子世界爭霸戰]]（Tron (video game)）
|-
! {{Str right| {{int:Gadget-internalLinkHelper-external}} |6}}
| 直接指向外文維基。不便於編者創建中文條目。
| [[:en:Tron (video game)|電子世界爭霸戰]]
|-
! {{Str right| {{int:Gadget-internalLinkHelper-suffix}} |6}}
| 直接指向外文維基，並註明此為外文連結。不便於編者創建中文條目。
| [[:en:Tron (video game)|電子世界爭霸戰]]{{en icon}}
|-
! {{Str right| {{int:Gadget-internalLinkHelper-cravix}} |6}}
| 將紅色連接改為綠色（{{color|#008800|#008800}}）顯示；滑鼠點擊連結時，彈窗提示紅色連結及跨語言連結。模板[[#歷史|早期版本]]效果。（未正常工作？）
| 
* 滑鼠未點擊連結：[[電子世界爭霸戰 (遊戲)|<span style="color: #080;">電子世界爭霸戰</span>]]
* 滑鼠點擊連結：見[[#歷史]]一節圖片
|-
! {{Str right| {{int:Gadget-internalLinkHelper-altcolor}} |6}}
| 將紅色連結改為綠色（{{color|#007a5e|#007a5e}}）顯示；滑鼠浮於連結時，彈窗提示跨語言連結。桌面版預設效果。
| 
* 滑鼠未懸浮於連結：[[電子世界爭霸戰 (遊戲)|<span style="color: #00af89;">電子世界爭霸戰</span>]]
* 滑鼠懸浮於連結：[[File:Gadget-internalLinkHelper-redtipsy.png|frameless|330px]]
|-
! {{Str right| {{int:Gadget-internalLinkHelper-ilbluehl}} |6}}
| 同上，但對於已建立頁面，藍色連結會以亮藍色（{{color|#21a9ff|#21a9ff}}）顯示。有利於編者核查[[:Category:有蓝链却未移除内部链接助手模板的页面]]。
| 
* 中文頁面未創建時同上
* 中文頁面創建時：[[维基百科|<span style="color: #21a9ff;">維基百科</span>]]
|}

用戶亦可透過個人CSS頁自訂顯示效果。例如：取消所有跨語言連結小工具，並將如下代碼粘贴到[[Special:MyPage/common.css|個人CSS頁]]，可使用小字括弧附註跨語言連結，同时隱去語文標籤。
<syntaxhighlight lang="css">
.ilh-comment { font-size: smaller; }
.ilh-lang, .ilh-colon { display: none; }
</syntaxhighlight>

== 技术限制 ==

本模板会调用“高開銷解析器函數”，判断中文维基页面是否建立。因高开销函數每页面限制使用500次，故页面大量套用绿链时（例如加入含大量link模板的[[WP:NAVBOX|导航模板]]），可能引起[[:Category:引用模板后大小超过限制的页面|模板超限错误]]，造成文章后半部分模板无法显示。

==歷史==

[[File:Internal_link_helper.png|right|thumb|模板早期版本的示例图]]

中文維基百科早期由於缺乏規範，內文跨語言連結的標註方式不一，如直接連結<small>（<code>&#91;[:en:Example|示例]&#93;</code>）</small>、括号附注<small>（<code>&#91;[示例]&#93;（&#91;[:en:Example|Example]&#93;）</code>）</small>等。{{tlc|Internal link helper}}模板2008年建立時，意圖通过网页即时提示（tip）方式，美观地展示对应外语页面链接，避免大量出现原文后附注括号的情况。但當時除非主動啟用小工具，否則无法看到模板附加效果，故該模板未獲廣泛使用。

後來，社群廣泛討論了內文跨语言链接用法，提出了多種跨语言链接表示方式。在2012年[[Wikipedia:投票/跨语言链接的处理方式|跨语言链接的处理方式的投票]]中，社群指出應使用該模板表示內文跨語言連結，並將各類表示方式整合到模板，由用戶自行選擇偏好。

==模板資料==

<templatedata>
{
	"params": {
		"1": {
			"required": true,
			"type": "wiki-page-name",
			"example": "纳塞尔·哈利利",
			"description": "本地条目名"
		},
		"2": {
			"type": "wiki-page-name",
			"example": "Nasser Khalili",
			"description": "外语条目名",
			"suggested": true
		},
		"3": {
			"required": false,
			"description": "显示文字，不存在时显示参数1",
			"type": "string",
			"aliases": [
				"d"
			],
			"example": "纳塞尔·达沃德·哈利利"
		},
		"nocat": {
			"required": false,
			"description": "要求禁止列入[[:Category:有蓝链却未移除内部链接助手模板的页面]]。基于[[Module:Yesno]]判断，yes/y/true/1等是有效启用值。",
			"type": "string",
			"example": "yes"
		}
	},
	"description": "跨语言链接模板",
	"format": "inline"
}
</templatedata>

==相关模板==
* {{tlx|Link-Wikidata}}（{{tlx|Link-wd}}、{{tlx|lwd}}） － 与本模板效果类似，但链接至[[Wikipedia:维基数据|维基数据]]
*{{Tlx|Translink}}（{{Tlx|Tsl}}） － 另一个跨语言链接模板，调用本模板但调换了参数顺序
*{{Tlx|Interlanguage link}}（{{Tlx|ill}}） － 另一个跨语言链接模板用法
* [[WP:MOSIW]]

<includeonly>{{Sandbox other||
<!-- 本行下加入模板的分類 -->
[[Category:内部链接助手模板]]
}}</includeonly>