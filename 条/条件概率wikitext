{{Unreferenced|time=2021-03-20T00:55:19+00:00}}
{{noteTA|G1=Math}}
{{Probability fundamentals}}
本文定义了表征两个或者多个[[随机变量|随机变量]][[概率分布|概率分布]]特点的术语。

'''条件概率'''（{{lang-en|conditional probability}}）就是[[事件|事件]]''A''在事件''B''发生的条件下发生的[[概率|概率]]。条件概率表示为''P''（''A''|''B''），读作“''A''在''B''发生的条件下发生的概率”。

'''联合概率'''表示两个事件共同发生的概率。''A''与''B''的联合概率表示为<math>P(A \cap B)</math>或者<math>P(A, B)</math>或者<math>P(AB)</math>。

'''边缘概率'''是某个事件发生的概率。边缘概率是這樣得到的：在聯合概率中，把最終結果中不需要的那些事件合并成其事件的[[全概率|全概率]]而消失（對离散隨机變量用求和得全概率，對連續隨机變量用積分得全概率）。這稱為'''邊緣化'''（'''marginalization'''）。''A''的边缘概率表示为''P''（''A''），''B''的边缘概率表示为''P''（''B''）。

需要注意的是，在这些定义中''A''与''B''之间不一定有[[因果|因果]]或者[[时间序列|时间序列]]关系。''A''可能会先于''B''发生，也可能相反，也可能二者同时发生。''A''可能会导致''B''的发生，也可能相反，也可能二者之间根本就没有因果关系。

例如考虑一些可能是新的信息的概率条件性可以通过[[贝叶斯定理|贝叶斯定理]]实现。

==定义==
设 ''A'' 与 ''B'' 为样本空间 Ω 中的两个事件，其中 ''P''(''B'')>0。那么在事件 ''B'' 发生的条件下，事件 ''A'' 发生的条件概率为：
:<math>P(A|B) = \frac{P(A \cap B)}{P(B)}</math>

条件概率有时候也称为：[[后验概率|后验概率]]。

==统计独立性==

[[当且仅当|当且仅当]]两个随机事件''A''与''B''满足

:<math>P(A \cap B) \ = \ P(A) P(B)</math>

的时候，它们才是[[統計獨立性|统计独立]]的，这样联合概率可以表示为各自概率的简单乘积。

同样，对于两个独立事件''A''与''B''有

:<math>P(A|B) \ = \ P(A)</math>

以及

:<math>P(B|A) \ = \ P(B)</math>。

换句话说，如果''A''与''B''是相互独立的，那么''A''在''B''这个前提下的条件概率就是''A''自身的概率；同样，''B''在''A''的前提下的条件概率就是''B''自身的概率。

==互斥性==
当且仅当''A''与''B''满足

:<math>P(A \cap B) = 0</math>

且

:<math>P(A) \ne 0</math>，<math>P(B) \ne 0</math>

的时候，''A''与''B''是[[互斥|互斥]]的。

因此，
:<math>P(A\mid B) = 0</math>
:<math>P(B\mid A) = 0</math>。

换句话说，如果''B''已经发生，由于''A''不能和''B''在同一场合下发生，那么''A''发生的概率为零；同样，如果''A''已经发生，那么''B''发生的概率为零。

==其它==

*如果事件<math>B</math>的概率<math>P(B) > 0</math>，那么<math>Q(A) = P(A|B)</math>在所有事件<math>A</math>上所定义的函数<math>Q</math>就是[[概率空间|概率测度]]。
*如果<math>P(B)=0</math>，<math>P(A|B)</math>没有定义。
*条件概率可以用[[决策树|决策树]]进行计算。

==形式定义==
考虑概率空间Ω(S, σ(S))，其中σ(S)是集S上的[[σ代数|σ代数]]，Ω上对应于随机变量X的[[概率测度|概率测度]]（可以理解为概率分布）为P<sub>X</sub>；又A∈σ(S)，P<sub>X</sub>(A)≥0（这里可以理解为事件A，A不是[[零测集|零测集]]）。则∀E∈σ(S)，可以定义集函数P<sub>X|A</sub>如下：

P<sub>X|A</sub>(E)=P<sub>X</sub>(A∩E)/P<sub>X</sub>(A)。

易知P<sub>X|A</sub>也是Ω上的概率测度，此测度称为'''X在A下的条件测度'''（条件概率分布）。

'''独立性'''：设A，B∈σ(S)，称A，B在概率测度P下为相互'''独立的'''，若P(A∩E)=P(A)P(E)。

==条件概率谬论==
条件概率的[[谬论|谬论]]是假设''P''（''A''|''B''）大致等于''P''（''B''|''A''）。数学家[[John_Allen_Paulos|John Allen Paulos]]在他的[[《数学盲》|《数学盲》]]一书中指出医生、律师以及其他受过很好教育的非[[统计学家|统计学家]]经常会犯这样的错误。这种错误可以通过用实数而不是概率来描述数据的方法来避免。

''P''（''A''|''B''）與''P''（''B''|''A''）的關係如下所示：

:<math>P(B|A) = P(A|B) \frac{P(B)}{P(A)}.</math>。

下面是一個虛構但寫實的例子，''P''（''A''|''B''）與''P''（''B''|''A''）的差距可能令人驚訝，同時也相當明顯。

若想分辨某些個體是否有重大疾病，以便早期治療，我們可能會對一大群人進行檢驗。雖然其益處明顯可見，但同時，檢驗行為有一個地方引起爭議，就是有檢出假陽性的結果的可能：若有個未得疾病的人，卻在初檢時被誤檢為得病，他可能會感到苦惱煩悶，一直持續到更詳細的檢測顯示他並未得病為止。而且就算在告知他其實是健康的人後，也可能因此對他的人生有負面影響。

這個問題的重要性，最適合用條件機率的觀點來解釋。

假設人群中有1%的人罹患此疾病，而其他人是健康的。我們隨機選出任一個體，並將患病以disease、健康以well表示：
:<math>P(\text{disease})=1\%=0.01</math>，<math>P(\text{well})=99\%=0.99</math>。
假設檢驗動作實施在未患病的人身上時，有1%的機率其結果為假陽性（陽性以positive表示）。意即：
:<math>P(\text{positive}|\text{well})=1\%</math>，而且<math>P(\text{negative}|\text{well})=99\%</math>。
最後，假設檢驗動作實施在患病的人身上時，有1%的機率其結果為假陰性（陰性以negative表示）。意即：
:<math>P(\text{negative}|\text{disease})=1\%</math>且<math>P(\text{positive}|\text{disease})=99\%</math>。

現在，由計算可知：
:<math>P(\text{well}\cap\text{negative})=P(\text{well})\times P(\text{negative}|\text{well})=99\%\times99\%=98.01\%</math>
是整群人中健康、且測定為陰性者的比率。
:<math>P(\text{disease}\cap\text{positive})=P(\text{disease})\times P(\text{positive}|\text{disease})=1\%\times99\%=0.99\%</math>
是整群人中得病、且測定為陽性者的比率。
:<math>P(\text{well}\cap\text{positive})=P(\text{well})\times P(\text{positive}|\text{well})=99\%\times1\%=0.99\%</math>
是整群人中被測定為假陽性者的比率。
:<math>P(\text{disease}\cap\text{negative})=P(\text{disease})\times P(\text{negative}|\text{disease})=1\%\times1\%=0.01\%</math>
是整群人中被測定為假陰性者的比率。

進一步得出：
:<math>P(\text{positive})=P(\text{well}\cap\text{positive})+P(\text{disease}\cap\text{positive})=0.99\%+0.99\%=1.98\%</math>
是整群人中被測出為陽性者的比率。
:<math> P(\text{disease}|\text{positive})=\frac{P(\text{disease}\cap\text{positive})}{P(\text{positive})}=\frac{0.99\%}{1.98\%}=50\%</math>
是某人被測出為陽性時，實際上真的得了病的機率。

這個例子裡面，我們很輕易可以看出P(positive|disease)=99%與P(disease|positive)=50%的差距：前者是你得了病，而被檢出為陽性的條件機率；後者是你被檢出為陽性，而你實際上真得了病的條件機率。由我們在本例中所選的數字，最終結果可能令人難以接受：被測定為陽性者，其中的半數實際上是假陽性。

==参见==
*[[贝叶斯定理|贝叶斯定理]]
*[[最大似然估计|最大似然估计]]
*[[先验概率|先验概率]]
*[[概率论|概率论]]
*[[蒙提霍尔问题|蒙提霍尔问题]]
*[[后验概率|后验概率]]
*[[条件期望|条件期望]]

{{概率分布类型列表|条件概率}}

[[Category:概率论|Category:概率论]]
[[Category:謬誤|Category:謬誤]]
[[Category:统计学比率|Category:统计学比率]]